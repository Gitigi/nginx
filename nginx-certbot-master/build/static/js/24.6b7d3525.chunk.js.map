{"version":3,"sources":["pages/Login.js"],"names":["Login","inject","observer","state","email","password","error","loading","login","event","preventDefault","setState","axios","post","then","res","props","userStore","setUser","data","response","finally","emailChanged","target","value","passwordChanged","this","emailIsInvalid","errors","passwordIsInvalid","id","onSubmit","className","src","style","display","marginLeft","marginRight","width","message","onChange","type","name","placeholder","aria-required","map","index","key","role","href","disabled","to","Component"],"mappings":"kPAQqBA,G,MAFpBC,YAAO,Y,GACPC,Y,6MAEAC,MAAQ,CAACC,MAAO,GAAIC,SAAU,GAAIC,MAAO,GAAIC,SAAS,G,EACtDC,MAAQ,SAACC,GACRA,EAAMC,iBACN,EAAKC,SAAS,CAACJ,SAAS,IAFN,MAGM,EAAKJ,MAAxBC,EAHa,EAGbA,MAAOC,EAHM,EAGNA,SACZO,IAAMC,KAAK,cAAc,CAACT,QAAOC,aAAWS,MAAK,SAAAC,GAChD,EAAKC,MAAMC,UAAUC,QAAQH,EAAII,SAChC,SAAAb,GACDA,EAAQA,EAAMc,SAAWd,EAAMc,SAASD,KAAOb,EAC/C,EAAKK,SAAS,CAACL,aACbe,SAAQ,kBAAI,EAAKV,SAAS,CAACJ,SAAS,Q,EAGxCe,aAAe,SAACb,GACf,EAAKE,SAAS,CAACP,MAAOK,EAAMc,OAAOC,S,EAGpCC,gBAAkB,SAAChB,GAClB,EAAKE,SAAS,CAACN,SAAUI,EAAMc,OAAOC,S,wEAItC,IAAIlB,EAAQoB,KAAKvB,MAAMG,MACnBqB,EAAiBrB,EAAMsB,QAAUtB,EAAMsB,OAAOxB,MAAQ,aAAe,GACrEyB,EAAoBvB,EAAMsB,QAAUtB,EAAMsB,OAAOvB,SAAW,aAAe,GAC/E,OAAO,0BAAMyB,GAAG,aAAaC,SAAUL,KAAKlB,OACvC,yBAAKwB,UAAU,qCACd,yBAAKA,UAAU,mBACd,yBAAKA,UAAU,gBACd,yBAAKC,IAAI,gBAAgBC,MAAO,CAACC,QAAS,QAASC,WAAY,OAAQC,YAAa,OAAQC,MAAO,UAEpG,yBAAKN,UAAU,aACb1B,EAAMiC,SAAW,yBAAKP,UAAU,sBACnB,8BACI,wCADJ,IACsB1B,EAAMiC,UAG1C,yBAAKP,UAAU,cACJ,wCACA,yBAAKA,UAAU,6CACxB,2BAAOR,MAAOE,KAAKvB,MAAMC,MAAOoC,SAAUd,KAAKJ,aAAcmB,KAAK,OAAOX,GAAG,kBAC3EE,UAAS,uBAAkBL,GAAkBe,KAAK,QAAQC,YAAY,QAAQC,gBAAc,SAC5FjB,GAAkBrB,EAAMsB,OAAOxB,MAAMyC,KAAI,SAACrB,EAAMsB,GAAP,OAAiB,0BAAMC,IAAKD,EAAOd,UAAU,mBAAmBgB,KAAK,SAAQ,gCAASxB,OAChI,uBAAGQ,UAAU,kCAGR,yBAAKA,UAAU,cACZ,2CACA,yBAAKA,UAAU,gDACvB,2BAAOR,MAAOE,KAAKvB,MAAME,SAAUmC,SAAUd,KAAKD,gBAAiBgB,KAAK,WAAWX,GAAG,qBAAqBE,UAAS,uBAAkBH,GAAqBa,KAAK,WAAWC,YAAY,WAAWC,gBAAc,SAC/Mf,GAAqBvB,EAAMsB,OAAOvB,SAASwC,KAAI,SAACrB,EAAMsB,GAAP,OAAiB,0BAAMC,IAAKD,EAAOd,UAAU,mBAAmBgB,KAAK,SAAQ,gCAASxB,OACtI,uBAAGQ,UAAU,kCAGP,yBAAKA,UAAU,cACb,kCAAO,uBAAGiB,KAAK,gCAAR,0BAGd,yBAAKjB,UAAU,+BACb,4BAAQS,KAAK,SAASS,SAAUxB,KAAKvB,MAAMI,QAASyB,UAAU,yBAAyBU,KAAK,iBAA5F,SADF,OAGE,kBAAC,IAAD,CAAMS,GAAG,YAAYD,SAAUxB,KAAKvB,MAAMI,QAASyB,UAAU,uBAA7D,oB,GA9DoBoB,e","file":"static/js/24.6b7d3525.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { inject, observer } from \"mobx-react\";\nimport axios from 'axios';\nimport lodash from 'lodash';\n\n@inject(\"userStore\")\n@observer\nexport default class Login extends Component {\n\tstate = {email: '', password: '', error: {}, loading: false };\n\tlogin = (event) => {\n\t\tevent.preventDefault();\n\t\tthis.setState({loading: true});\n\t\tlet {email, password} = this.state;\n\t\taxios.post('/auth/login',{email, password}).then(res=>{\n\t\t\tthis.props.userStore.setUser(res.data);\n\t\t},error=>{\n\t\t\terror = error.response ? error.response.data : error;\n\t\t\tthis.setState({error});\n\t\t}).finally(()=>this.setState({loading: false}));\n\t}\n\n\temailChanged = (event) => {\n\t\tthis.setState({email: event.target.value});\n\t}\n\n\tpasswordChanged = (event) => {\n\t\tthis.setState({password: event.target.value});\n\t}\n\n\trender() {\n\t\tlet error = this.state.error;\n\t\tlet emailIsInvalid = error.errors && error.errors.email ? 'is-invalid' : '';\n\t\tlet passwordIsInvalid = error.errors && error.errors.password ? 'is-invalid' : '';\n\t\treturn <form id=\"login-form\" onSubmit={this.login}>\n\t\t\t\t\t\t\t<div className=\"col-md-4 col-sm-6 ml-auto mr-auto\">\n\t\t\t\t\t\t\t\t<div className=\"card card-login\">\n\t\t\t\t\t\t\t\t\t<div className=\"card-header \">\n\t\t\t\t\t\t\t\t\t\t<img src=\"/img/logo.jpg\" style={{display: 'block', marginLeft: 'auto', marginRight: 'auto', width: '50%'}} />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\n\t\t\t\t\t\t\t\t\t\t{error.message && <div className=\"alert alert-danger\">\n                        <span>\n                            <b> Error - </b> {error.message}\n                        </span>\n                    </div>}\n\t\t\t\t\t\t\t\t\t\t<div className=\"form-group\">\n\t                    <label>Email</label>\n\t                    <div className=\"form-group field-loginform-email required\">\n\t\t\t\t\t\t\t\t\t\t\t\t<input value={this.state.email} onChange={this.emailChanged} type=\"text\" id=\"loginform-email\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={`form-control ${emailIsInvalid}`} name=\"email\" placeholder=\"Email\" aria-required=\"true\" />\n\t\t\t\t\t\t\t\t\t\t\t\t{emailIsInvalid && error.errors.email.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n              \t\t\t<div className=\"form-group\">\n                  \t\t<label>Password</label>\n                  \t\t<div className=\"form-group field-loginform-password required\">\n\t\t\t\t\t\t\t\t\t\t\t\t<input value={this.state.password} onChange={this.passwordChanged} type=\"password\" id=\"loginform-password\" className={`form-control ${passwordIsInvalid}`} name=\"password\" placeholder=\"Password\" aria-required=\"true\" />\n\t\t\t\t\t\t\t\t\t\t\t\t{passwordIsInvalid && error.errors.password.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t                <div className=\"form-group\">                    \n\t\t                  <span> <a href=\"/site/request-password-reset\">Reset your password</a></span>\n\t\t                </div>\n          \t\t\t\t</div>\n\t\t\t\t\t        <div className=\"card-footer ml-auto mr-auto\">\n\t\t\t\t\t          <button type=\"submit\" disabled={this.state.loading} className=\"btn btn-warning btn-wd\" name=\"signup-button\">Login</button>\n\t\t\t\t\t          &nbsp;\n\t\t\t\t\t          <Link to=\"/register\" disabled={this.state.loading} className=\"btn btn-info btn-wd\">Register</Link>\n\t\t\t\t\t        </div>\n  \t\t\t\t\t\t\t</div>\n  \t\t\t\t\t\t</div>\n\t\t\t\t\t\t</form>\n\t}\n}"],"sourceRoot":""}