{"version":3,"sources":["components/DataTable.js","utils/getCookie.js","utils/confirmAction.js","libs/dataTables.cellEdit.js","components/VisitorForm.js","pages/Visitors.js"],"names":["DataTable","props","tableEl","React","createRef","state","table","draw","highlightRow","row","data","jRow","$","tooltip","title","__meta_pending","className","__meta_error","message","error","errors","Object","keys","errorSub","classList","add","softDeleteField","remove","toggle","placement","self","defaultConfig","dom","buttons","extend","text","titleAttr","exportOptions","columns","responsive","language","search","searchPlaceholder","rowCallback","this","initTable","current","find","config","configRowCallback","prevProp","prevState","lodash","isEqual","destroy","toolbar","ref","cellSpacing","width","style","children","Component","getCookie","cname","name","ca","decodeURIComponent","document","cookie","split","i","length","c","charAt","substring","indexOf","action","Swal","fire","consequence","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","yes","then","result","value","loadingModal","loading","loading_text","showConfirmButton","onBeforeOpen","showLoading","res","closeModal","success","succes_text","footer","dismiss","DismissReason","cancel","canceled","jQuery","fn","dataTable","Api","register","settings","updateEditableCell","callingElement","closest","parents","cell","columnIndex","index","column","inputField","prop","toLowerCase","siblings","getInputField","newValue","val","_addValidationCss","allowNulls","errorClass","addClass","css","_update","oldValue","onUpdate","onValidate","page","info","cancelEditableCell","body","off","on","currentColumnIndex","editableCellsRow","node","cellValue","isNaN","replace","sanitizeCellValue","input","inputSetting","inputType","inputCss","confirmCss","cancelCss","startWrapperHtml","endWrapperHtml","listenToKeys","inputTypes","each","setting","type","wrapperHtml","elements","confirmationButton","html","options","option","display","focus","ui","alert","datepicker","setTimeout","showOn","buttonImage","buttonImageOnly","buttonText","getInputHtml","TeacherForm","elRef","dosRef","doeRef","defaults","firstname","lastname","id_no","phone","email","inputChanged","field","event","target","setState","saveContinue","submit","save","close","apply","edit","ShowNotification","response","Promise","reject","finally","_","checkout","axios","post","id","delete","confirmAction","loading_title","prevProps","firstnameInvalid","lastnameInvalid","idNoInvalid","phoneInvalid","emailInvalid","onClick","disabled","method","onChange","bind","placeholder","map","key","role","VisitorsPages","match","path","render","exact","Visitors","visitor","history","push","url","window","visitorListActionEdit","dataTableConfig","order","serverSide","processing","ajax","params","callback","get","Date","toDateString","toLocaleTimeString","createdRow","departure","to","VisitorNew","VisitorEdit","put","visitorId","location"],"mappings":"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","file":"static/js/16.a925bf8a.chunk.js","sourcesContent":["import React, {Component} from 'react';\n\nimport lodash from 'lodash';\n\nimport 'datatables.net-bs4';\nimport 'datatables.net-buttons-bs4';\nimport 'datatables.net-buttons/js/buttons.html5.js';\nimport 'datatables.net-colreorder-bs4';\nimport 'datatables.net-fixedcolumns-bs4';\nimport 'datatables.net-fixedheader-bs4';\nimport 'datatables.net-responsive-bs4';\nimport 'datatables.net-rowgroup-bs4';\nimport 'datatables.net-rowreorder-bs4';\nimport 'datatables.net-scroller-bs4';\nimport 'datatables.net-select-bs4';\nimport '../libs/dataTables.cellEdit';\n\n//datatables dependencies\n// import jsZip from  'jszip';\n// import 'pdfmake';\n// import pdfFonts from 'pdfmake/build/vfs_fonts.js';\n\n// pdfMake.vfs = pdfFonts.pdfMake.vfs;\n// window.JSZip = jsZip;\n\nexport default class DataTable extends Component {\n  tableEl = React.createRef();\n  state = {}\n  table = null;\n  constructor(props) {\n    super(props);\n    const self = this;\n    this.defaultConfig = {\n      \"pagingType\": \"full_numbers\",\n      \"lengthMenu\": [\n        [10, 25, 50, 100, -1],\n        [10, 25, 50, 100, \"All\"]\n      ],\n      dom: 'rt<\"bottom\"lpi><\"clear\">',\n      buttons: [\n        {\n          extend:    'excelHtml5',\n          text:      '<i class=\"fa fa-file-excel-o text-info\"></i>',\n          titleAttr: 'Excel',\n          exportOptions: {\n            columns: \"thead th:not(.noExport)\"\n          }\n        }\n      ],\n      responsive: true,\n      language: {\n        search: \"_INPUT_\",\n        searchPlaceholder: \"Search records\",\n      },\n      rowCallback: function( row, data ) {\n        let jRow = $(row);\n        jRow.tooltip('dispose');\n        let title = '';\n        if(data.__meta_pending) {\n            title = 'Pending - ';\n            let className = 'table-dark';\n            if(data.__meta_error && data.__meta_error.message) {\n                className = (data.__meta_error.message !== \"Network Error\") ? 'table-warning' : className;\n                let error = data.__meta_error;\n                title += error.message;\n                if(error.errors) {\n                    for(let errorSub of Object.keys(error.errors) ){\n                      title += '\\n' + error.errors[errorSub];\n                    }\n                }\n            }\n            row.classList.add(className);\n        } else if(data[self.props.softDeleteField]) {\n            title = 'Discontinued';\n            row.classList.add('table-danger');\n        } else {\n          row.classList.remove('table-warning');\n          row.classList.remove('table-dark');\n          row.classList.remove('table-danger');\n        }\n\n        if(title)\n            jRow.tooltip({toggle: \"tooltip\", placement: \"bottom\", title });\n      }\n    };\n  }\n  \n  componentDidMount() {\n    this.initTable();\n  }\n\n  componentWillUnmount() {\n      $(this.tableEl.current).find('tr[title]').tooltip('dispose');\n  }\n\n  initTable() {\n    const self = this;\n    let config = this.props.config || {};\n    let configRowCallback = this.props.config.rowCallback;\n    config.rowCallback = (row, data) => {\n      self.highlightRow(row, data);\n      configRowCallback && configRowCallback(row, data);\n    };\n    this.table = $(this.tableEl.current).DataTable({...this.defaultConfig, ...config});\n  }\n\n  componentDidUpdate(prevProp,prevState) {\n    if(!lodash.isEqual(prevProp.config, this.props.config)) {\n      this.table.destroy();\n      this.initTable();\n    }\n  }\n\n  draw = () => {\n    this.table.draw();\n  }\n\n  highlightRow = (row, data) => {\n    let jRow = $(row);\n      jRow.tooltip('dispose');\n      let title = '';\n      if(data.__meta_pending) {\n          title = 'Pending - ';\n          let className = 'table-dark';\n          if(data.__meta_error && data.__meta_error.message) {\n              className = (data.__meta_error.message !== \"Network Error\") ? 'table-warning' : className;\n              let error = data.__meta_error;\n              title += error.message;\n              if(error.errors) {\n                  for(let errorSub of Object.keys(error.errors) ){\n                    title += '\\n' + error.errors[errorSub];\n                  }\n              }\n          }\n          row.classList.add(className);\n      } else if(data[this.props.softDeleteField]) {\n          title = 'Discontinued';\n          row.classList.add('table-danger');\n      } else {\n        row.classList.remove('table-warning');\n        row.classList.remove('table-dark');\n        row.classList.remove('table-danger');\n      }\n\n      if(title)\n          jRow.tooltip({toggle: \"tooltip\", placement: \"bottom\", title });\n  }\n\n  render() {\n    return <div className=\"row\">\n      <div className=\"col-md-12\">\n        <div className=\"card data-tables\">\n        <div className=\"card-header text-center\">\n          <h3>{this.props.title}</h3>\n        </div>\n        <div className=\"card-body table-striped table-no-bordered table-hover dataTable dtr-inline table-full-width\">\n          <div className=\"toolbar col-12\">\n            <div className=\"row\">\n              {this.props.toolbar}\n            </div>\n          </div>\n          <div className=\"fresh-datatables\">\n          <table ref={this.tableEl} className=\"table table-striped table-no-bordered table-hover\" cellSpacing=\"0\" width=\"100%\" style={{width: '100%'}}>\n            <thead>\n              <tr>\n                {this.props.children}\n              </tr>\n            </thead>\n            <tfoot>\n              <tr>\n                {this.props.children}\n              </tr>\n            </tfoot>\n          </table>\n          </div>\n        </div>\n        </div>\n      </div>\n    </div>\n  }\n}\n","export default function getCookie(cname) {\n  var name = cname + \"=\";\n  var decodedCookie = decodeURIComponent(document.cookie);\n  var ca = decodedCookie.split(';');\n  for(var i = 0; i <ca.length; i++) {\n  var c = ca[i];\n  while (c.charAt(0) == ' ') {\n    c = c.substring(1);\n  }\n  if (c.indexOf(name) == 0) {\n    return c.substring(name.length, c.length);\n  }\n  }\n  return \"\";\n}","import Swal from 'sweetalert2';\n\nexport default function(action, config={} ) {\n\treturn Swal.fire({\n\t  title: 'Are you sure?',\n\t  text: config.consequence || \"You won't be able to revert this!\",\n\t  icon: 'warning',\n\t  showCancelButton: true,\n\t  confirmButtonColor: '#3085d6',\n\t  cancelButtonColor: '#d33',\n\t  confirmButtonText:  config.yes || 'Yes'\n\t}).then((result) => {\n\t  if (result.value) {\n\t  \tlet loadingModal = Swal.fire({\n\t      title: config.loading || 'Waiting...',\n\t      text: config.loading_text || 'waiting for operation to complete',\n\t      showConfirmButton: false,\n\t      onBeforeOpen: () => {\n\t   \t \t\tSwal.showLoading()\n\t   \t \t}\n\t    });\n\n\t    action().then(res=>{\n\t  \t\tloadingModal.closeModal();\n\t  \t\tSwal.fire(\n\t\t      res.success,\n\t\t      res.succes_text,\n\t\t      'success'\n\t\t    );\n\t\t\t}, error => {\n\t\t\t\tloadingModal.closeModal();\n\t\t\t\tSwal.fire({\n\t\t\t\t  icon: 'error',\n\t\t\t\t  title: 'Oops...',\n\t\t\t\t  text: error.error,\n\t\t\t\t  footer: error.footer || ''\n\t\t\t\t});\n\t\t\t});\n\t  }\n\t  else if (result.dismiss === Swal.DismissReason.cancel) {\n\t    Swal.fire(\n\t      'Cancelled',\n\t      config.canceled,\n\t      'error'\n\t    )\n\t  }\n\t});\n}","/*! CellEdit 1.0.19\n * ©2016 Elliott Beaty - datatables.net/license\n */\n\n/**\n * @summary     CellEdit\n * @description Make a cell editable when clicked upon\n * @version     1.0.19\n * @file        dataTables.editCell.js\n * @author      Elliott Beaty\n * @contact     elliott@elliottbeaty.com\n * @copyright   Copyright 2016 Elliott Beaty\n *\n * This source file is free software, available under the following license:\n *   MIT license - http://datatables.net/license/mit\n *\n * This source file is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY\n * or FITNESS FOR A PARTICULAR PURPOSE. See the license files for details.\n *\n * For details please refer to: http://www.datatables.net\n */\n\njQuery.fn.dataTable.Api.register('MakeCellsEditable()', function (settings) {\n    var table = this.table();\n\n    jQuery.fn.extend({\n        // UPDATE\n        updateEditableCell: function (callingElement) {\n            // Need to redeclare table here for situations where we have more than one datatable on the page. See issue6 on github\n            var table = $(callingElement).closest(\"table\").DataTable().table();\n            var row = table.row($(callingElement).parents('tr'));\n            var cell = table.cell($(callingElement).parents('td, th'));\n            var columnIndex = cell.index().column;\n            var inputField =getInputField(callingElement);\n\n            // Update\n            var newValue = inputField.val();\n            if (!newValue && ((settings.allowNulls) && settings.allowNulls != true)) {\n                // If columns specified\n                if (settings.allowNulls.columns) {\n                    // If current column allows nulls\n                    if (settings.allowNulls.columns.indexOf(columnIndex) > -1) {\n                        _update(newValue);\n                    } else {\n                        _addValidationCss();\n                    }\n                    // No columns allow null\n                } else if (!newValue) {\n                    _addValidationCss();\n                }\n                //All columns allow null\n            } else if (newValue && settings.onValidate) {\n                if (settings.onValidate(cell, row, newValue)) {\n                    _update(newValue);\n                } else {\n                    _addValidationCss();\n                }\n            }\n            else {\n                _update(newValue);\n            }\n            function _addValidationCss() {\n                // Show validation error\n                if (settings.allowNulls.errorClass) {\n                    $(inputField).addClass(settings.allowNulls.errorClass);\n                } else {\n                    $(inputField).css({ \"border\": \"red solid 1px\" });\n                }\n            }\n            function _update(newValue) {\n                var oldValue = cell.data();\n                cell.data(newValue);\n                //Return cell & row.\n                settings.onUpdate(cell, row, oldValue);\n            }\n            // Get current page\n            var currentPageIndex = table.page.info().page;\n\n            //Redraw table\n            // table.page(currentPageIndex).draw(false);\n        },\n        // CANCEL\n        cancelEditableCell: function (callingElement) {\n            var table = $(callingElement.closest(\"table\")).DataTable().table();\n            var cell = table.cell($(callingElement).parents('td, th'));\n            // Set cell to it's original value\n            cell.data(cell.data());\n\n            // Redraw table\n            table.draw();\n        }\n\n\n    });\n\n    // Destroy\n    if (settings === \"destroy\") {\n        $(table.body()).off(\"click\", \"td\");\n        table = null;\n    }\n\n    if (table != null) {\n        // On cell click\n        $(table.body()).on('click', 'td', function () {\n\n            var currentColumnIndex = table.cell(this).index().column;\n\n            // DETERMINE WHAT COLUMNS CAN BE EDITED\n            if ((settings.columns && settings.columns.indexOf(currentColumnIndex) > -1) || (!settings.columns)) {\n                var row = table.row($(this).parents('tr'));\n                editableCellsRow = row;\n\n                var cell = table.cell(this).node();\n                var oldValue = table.cell(this).data();\n                // Sanitize value\n                oldValue = sanitizeCellValue(oldValue);\n\n                // Show input\n                if (!$(cell).find('input').length && !$(cell).find('select').length && !$(cell).find('textarea').length) {\n                    // Input CSS\n                    var input = getInputHtml(currentColumnIndex, settings, oldValue);\n                    $(cell).html(input.html);\n                    if (input.focus) {\n                        $('#ejbeatycelledit').focus();\n                    }\n                }\n            }\n        });\n    }\n\n});\n\nfunction getInputHtml(currentColumnIndex, settings, oldValue) {\n    var inputSetting, inputType, input, inputCss, confirmCss, cancelCss, startWrapperHtml = '', endWrapperHtml = '', listenToKeys = false;\n\n    input = {\"focus\":true,\"html\":null};\n\n    if(settings.inputTypes){\n\t\t$.each(settings.inputTypes, function (index, setting) {\n\t\t\tif (setting.column == currentColumnIndex) {\n\t\t\t\tinputSetting = setting;\n\t\t\t\tinputType = inputSetting.type.toLowerCase();\n\t\t\t}\n\t\t});\n\t}\n\n    if (settings.inputCss) { inputCss = settings.inputCss; }\n    if (settings.wrapperHtml) {\n        var elements = settings.wrapperHtml.split('{content}');\n        if (elements.length === 2) {\n            startWrapperHtml = elements[0];\n            endWrapperHtml = elements[1];\n        }\n    }\n    \n    if (settings.confirmationButton) {\n        if (settings.confirmationButton.listenToKeys) { listenToKeys = settings.confirmationButton.listenToKeys; }\n        confirmCss = settings.confirmationButton.confirmCss;\n        cancelCss = settings.confirmationButton.cancelCss;\n        inputType = inputType + \"-confirm\";\n    }\n    switch (inputType) {\n        case \"list\":\n            input.html = startWrapperHtml + \"<select class='\" + inputCss + \"' onchange='$(this).updateEditableCell(this);'>\";\n            $.each(inputSetting.options, function (index, option) {\n                if (oldValue == option.value) {\n                   input.html = input.html + \"<option value='\" + option.value + \"' selected>\" + option.display + \"</option>\"\n                } else {\n                   input.html = input.html + \"<option value='\" + option.value + \"' >\" + option.display + \"</option>\"\n                }\n            });\n            input.html = input.html + \"</select>\" + endWrapperHtml;\n            input.focus = false;\n            break;\n        case \"list-confirm\": // List w/ confirm\n            input.html = startWrapperHtml + \"<select class='\" + inputCss + \"'>\";\n            $.each(inputSetting.options, function (index, option) {\n                if (oldValue == option.value) {\n                   input.html = input.html + \"<option value='\" + option.value + \"' selected>\" + option.display + \"</option>\"\n                } else {\n                   input.html = input.html + \"<option value='\" + option.value + \"' >\" + option.display + \"</option>\"\n                }\n            });\n            input.html = input.html + \"</select>&nbsp;<a href='javascript:void(0);' class='\" + confirmCss + \"' onclick='$(this).updateEditableCell(this);'>Confirm</a> <a href='javascript:void(0);' class='\" + cancelCss + \"' onclick='$(this).cancelEditableCell(this)'>Cancel</a>\" + endWrapperHtml;\n            input.focus = false;\n            break;\n        case \"datepicker\": //Both datepicker options work best when confirming the values\n        case \"datepicker-confirm\":\n            // Makesure jQuery UI is loaded on the page\n            if (typeof jQuery.ui == 'undefined') {\n                alert(\"jQuery UI is required for the DatePicker control but it is not loaded on the page!\");\n                break;\n            }\n\t        jQuery(\".datepick\").datepicker(\"destroy\");\n\t        input.html = startWrapperHtml + \"<input id='ejbeatycelledit' type='text' name='date' class='datepick \" + inputCss + \"'   value='\" + oldValue + \"'></input> &nbsp;<a href='javascript:void(0);' class='\" + confirmCss + \"' onclick='$(this).updateEditableCell(this)'>Confirm</a> <a href='javascript:void(0);' class='\" + cancelCss + \"' onclick='$(this).cancelEditableCell(this)'>Cancel</a>\" + endWrapperHtml;\n\t        setTimeout(function () { //Set timeout to allow the script to write the input.html before triggering the datepicker\n\t            var icon = \"http://jqueryui.com/resources/demos/datepicker/images/calendar.gif\";\n                // Allow the user to provide icon\n\t            if (typeof inputSetting.options !== 'undefined' && typeof inputSetting.options.icon !== 'undefined') {\n\t                icon = inputSetting.options.icon;\n\t            }\n\t            var self = jQuery('.datepick').datepicker(\n                    {\n                        showOn: \"button\",\n                        buttonImage: icon,\n                        buttonImageOnly: true,\n                        buttonText: \"Select date\"\n                    });\n\t        },100);\n\t        break;\n        case \"text-confirm\": // text input w/ confirm\n            input.html = startWrapperHtml + \"<input id='ejbeatycelledit' class='\" + inputCss + \"' value='\"+oldValue+\"'\" + (listenToKeys ? \" onkeyup='if(event.keyCode==13) {$(this).updateEditableCell(this);} else if (event.keyCode===27) {$(this).cancelEditableCell(this);}'\" : \"\") + \"></input>&nbsp;<a href='javascript:void(0);' class='\" + confirmCss + \"' onclick='$(this).updateEditableCell(this)'>Confirm</a> <a href='javascript:void(0);' class='\" + cancelCss + \"' onclick='$(this).cancelEditableCell(this)'>Cancel</a>\" + endWrapperHtml;\n            break;\n        case \"undefined-confirm\": // text input w/ confirm\n            input.html = startWrapperHtml + \"<input id='ejbeatycelledit' class='\" + inputCss + \"' value='\" + oldValue + \"'\" + (listenToKeys ? \" onkeyup='if(event.keyCode==13) {$(this).updateEditableCell(this);} else if (event.keyCode===27) {$(this).cancelEditableCell(this);}'\" : \"\") + \"></input>&nbsp;<a href='javascript:void(0);' class='\" + confirmCss + \"' onclick='$(this).updateEditableCell(this)'>Confirm</a> <a href='javascript:void(0);' class='\" + cancelCss + \"' onclick='$(this).cancelEditableCell(this)'>Cancel</a>\" + endWrapperHtml;\n            break;\n        case \"textarea\":\n        case \"textarea-confirm\":\n            input.html = startWrapperHtml + \"<textarea id='ejbeatycelledit' class='\" + inputCss + \"'>\"+oldValue+\"</textarea><a href='javascript:void(0);' class='\" + confirmCss + \"' onclick='$(this).updateEditableCell(this)'>Confirm</a> <a href='javascript:void(0);' class='\" + cancelCss + \"' onclick='$(this).cancelEditableCell(this)'>Cancel</a>\" + endWrapperHtml;\n            break;\n\tcase \"number-confirm\" :\n\t    input.html = startWrapperHtml + \"<input id='ejbeatycelledit' type='number' class='\" + inputCss + \"' value='\"+oldValue+\"'\" + (listenToKeys ? \" onkeyup='if(event.keyCode==13) {$(this).updateEditableCell(this);} else if (event.keyCode===27) {$(this).cancelEditableCell(this);}'\" : \"\") + \"></input>&nbsp;<a href='javascript:void(0);' class='\" + confirmCss + \"' onclick='$(this).updateEditableCell(this)'>Confirm</a> <a href='javascript:void(0);' class='\" + cancelCss + \"' onclick='$(this).cancelEditableCell(this)'>Cancel</a>\" + endWrapperHtml;\n\t    break;\n        default: // text input\n            input.html = startWrapperHtml + \"<input id='ejbeatycelledit' class='\" + inputCss + \"' onfocusout='$(this).updateEditableCell(this)' value='\" + oldValue + \"' onkeyup='if(event.keyCode==13) {event.target.blur()}' ></input>\" + endWrapperHtml;\n            break;\n    }\n    return input;\n}\n\nfunction getInputField(callingElement) {\n    // Update datatables cell value\n    var inputField;\n    switch ($(callingElement).prop('nodeName').toLowerCase()) {\n        case 'a': // This means they're using confirmation buttons\n            if ($(callingElement).siblings('input').length > 0) {\n                inputField = $(callingElement).siblings('input');\n            }\n            if ($(callingElement).siblings('select').length > 0) {\n                inputField = $(callingElement).siblings('select');\n            }\n            if ($(callingElement).siblings('textarea').length > 0) {\n                inputField = $(callingElement).siblings('textarea');\n            }\n        break;\n        default:\n            inputField = $(callingElement);\n    }\n    return inputField;\n}\n\nfunction sanitizeCellValue(cellValue) {\n    if (typeof (cellValue) === 'undefined' || cellValue === null || cellValue.length < 1) {\n        return \"\";\n    }\n\n    // If not a number\n    if (isNaN(cellValue)) {\n        // escape single quote\n        cellValue = cellValue.replace(/'/g, \"&#39;\");\n    }\n    return cellValue;\n}\n","import React, { Component } from 'react';\nimport lodash from 'lodash';\nimport axios from 'axios';\n\nimport ShowNotification from '../components/ShowNotification';\nimport confirmAction from '../utils/confirmAction';\n\nexport default class TeacherForm extends Component {\n\telRef = React.createRef();\n\tdosRef = React.createRef();\n\tdoeRef = React.createRef();\n\tdefaults = {\n\t\tfirstname: '',\n\t\tlastname: '',\n\t\tid_no: '',\n\t\tphone: '',\n\t\temail: ''\n\t};\n\n\tstate = {error: {}, loading: false, data: {...this.defaults}};\n\n\n\tcomponentDidUpdate(prevProps,prevState) {\n\t\tif(this.props.edit){\n\t\t\tif(!lodash.isEqual(this.props.data, prevProps.data)){\n\t\t\t\tthis.setState({data: {...this.state.data,...this.props.data}})\n\t\t\t}\n\t\t}\n\t\tif(!lodash.isEqual(this.props.error,prevProps.error)){\n\t\t\tthis.setState({error: {...this.state.error,...this.props.error}})\n\t\t}\n\t}\n\n\tinputChanged = (field,event) => {\n\t\tlet val = event.target.value;\n\t\tthis.setState( (state) => state.data[field] = val);\n\t}\n\t\n\tsaveContinue = () => {\n\t\tthis.submit().then(()=>{\n\t\t\tthis.setState({data: {...this.defaults},error: {}});\n\t\t})\n\t}\n\n\tsave = () => {\n\t\tthis.submit().then(()=>this.props.close());\n\t}\n\n\tapply = () => {\n\t\tthis.submit().then(()=>{\n\t\t\tthis.setState({error: {}});\n\t\t})\n\t}\n\n\tsubmit = () => {\n\t\tlet data = this.state.data;\n\t\tthis.setState({loading: true});\n\t\treturn this.props.submit(data).then( res => {\n\t\t\tif(this.props.edit) {\n\t\t\t\tShowNotification(\"Student Successfully Edited\", \"success\", \"nc-check-2\");\n\t\t\t}else {\n\t\t\t\tShowNotification(\"Student Created Successfully\", \"success\", \"nc-check-2\");\n\t\t\t}\n\t\t}, error => {\n\t\t\tthis.setState({error: error.response.data});\n\t\t\treturn Promise.reject(error.response.data);\n\t\t}).finally(_=>this.setState({loading:false}));\n\t}\n\n\tcheckout = () => {\n\t\tthis.setState({loading: true});\n\t\taxios.post(`/api/visitors/checkout/${this.state.data.id}`,{}).then(res=>{\n\t\t\tthis.props.close();\n\t\t}).finally( () => this.setState({loading: false}) );\n\t}\n\n\tdelete = () => {\n\t\tconfirmAction( () => {\n\t\t\treturn axios.delete(`/api/visitors/${this.props.data.id}`).then(res=>{\n\t\t\t\tthis.props.close();\n\t\t\t\treturn {success: 'Deleted!', succes_text: 'Visitor was deleted'};\n\t\t\t}, error => {\n\t\t\t\tthrow {error: \"Visitor couldn't be deleted.\"};\n\t\t\t})\n\t\t}, {loading_title: 'Deleting...', loading_text: 'Deleting Visitor', canceled: \"Deleting Visitor Operation Cancelled\", consequence: 'Visitor information will be lost'});\n\t}\n\n\trender() {\n\t\tlet error = this.state.error || {};\n\t\tlet firstnameInvalid='', lastnameInvalid='', idNoInvalid='', phoneInvalid='', emailInvalid='';\n\t\tif(error.errors) {\n\t\t\tfirstnameInvalid = error.errors.firstname ? 'is-invalid' : '';\n\t\t\tlastnameInvalid = error.errors.lastname ? 'is-invalid' : '';\n\t\t\tidNoInvalid = error.errors.id_no ? 'is-invalid' : '';\n\t\t\tphoneInvalid = error.errors.phone ? 'is-invalid' : '';\n\t\t\temailInvalid = error.errors.email ? 'is-invalid' : '';\n\t\t}\n\n\t\treturn <div className=\"container-fluid\" ref={this.elRef} >\n\t\t  <div className=\"row\">\n\t\t    <div className=\"col-md-12\">\n\t\t      <div className=\"card stacked-form\">\n\t\t\t\t\t  <div className=\"card-header \">\n\t\t\t\t\t    <h4 className=\"card-title\">\n\t\t\t\t\t    \tVisitor Details\n\t\t\t\t\t    \t{ this.props.edit && <div className=\"pull-right\">\n\t\t\t\t\t    \t\t\t<button onClick={this.checkout} disabled={this.state.loading} type=\"button\" className=\"btn btn-primary\">Check Out</button>\n\t\t\t\t\t    \t\t\t&nbsp;\n\t\t\t\t\t    \t\t\t<button type=\"button\" disabled={this.state.loading} className=\"btn btn-danger\" onClick={this.delete} >Delete</button>\n\t\t\t\t\t    \t\t</div>\n\t\t\t\t\t    \t}\n\t\t\t\t\t    </h4>\n\t\t\t\t\t  </div>\n\t\t\t\t\t  <div className=\"card-body \">\n\t\t\t\t\t    <form method=\"#\" action=\"#\">\n\t\t\t\t\t    \t{error.message && <div className=\"alert alert-danger\">\n                    <span>\n                        <b> Error - </b> {error.message}\n                    </span>\n                </div>}\n\t\t\t\t\t    \t<div className=\"row\">\n\t\t\t\t\t    \t\t<div className=\"form-group col-sm-6\">\n\t\t\t\t\t\t        <label>Firstname</label>\n\t\t\t\t\t\t        <input value={this.state.data.firstname} onChange={this.inputChanged.bind(this,'firstname')} type=\"text\" placeholder=\"Firstname\" className={`form-control ${firstnameInvalid}`} />\n\t\t\t\t\t\t        {firstnameInvalid && error.errors.firstname.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t      </div>\n\t\t\t\t\t\t      <div className=\"form-group col-sm-6\">\n\t\t\t\t\t\t        <label>Lastname</label>\n\t\t\t\t\t\t        <input value={this.state.data.lastname} onChange={this.inputChanged.bind(this,'lastname')} type=\"text\" placeholder=\"Lastname\" className={`form-control ${lastnameInvalid}`} />\n\t\t\t\t\t\t        {lastnameInvalid && error.errors.lastname.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t      </div>\n\t\t\t\t\t    \t</div>\n\n\t\t\t\t\t    \t<div className=\"row\">\n\t\t\t\t\t    \t\t<div className=\"form-group col-sm-6\">\n\t\t\t\t\t\t        <label>ID Number</label>\n\t\t\t\t\t\t        <input value={this.state.data.id_no || ''} onChange={this.inputChanged.bind(this,'id_no')} type=\"text\" placeholder=\"ID Number\" className={`form-control ${idNoInvalid}`} />\n\t\t\t\t\t\t        {idNoInvalid && error.errors.id_no.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t      </div>\n\t\t\t\t\t\t      <div className=\"form-group col-sm-6\">\n\t\t\t\t\t\t        <label>Phone Number</label>\n\t\t\t\t\t\t        <input value={this.state.data.phone || ''} onChange={this.inputChanged.bind(this,'phone')} type=\"text\" placeholder=\"Phone Number\" className={`form-control ${phoneInvalid}`} />\n\t\t\t\t\t\t        {phoneInvalid && error.errors.phone.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t      </div>\n\t\t\t\t\t    \t</div>\n\n\t\t\t\t\t    \t<div className=\"form-group\">\n\t\t\t\t\t        <label>Email Address</label>\n\t\t\t\t\t        <input value={this.state.data.email || ''} onChange={this.inputChanged.bind(this,'email')} type=\"text\" placeholder=\"Email\" className={`form-control ${emailInvalid}`} />\n\t\t\t\t\t        {emailInvalid && error.errors.email.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t      </div>\n\n\t\t\t\t\t    </form>\n\t\t\t\t\t  </div>\n\t\t\t\t\t  <div className=\"card-footer \">\n\t\t\t\t\t  \t<div className=\"row\">\n\t\t\t\t\t\t  \t{this.props.edit ? <div className=\"col-sm-2\">\n\t\t\t            \t<input onClick={this.apply} type=\"button\" value=\"APPLY\" disabled={this.state.loading} className=\"btn btn-primary\" />\n\t\t\t          \t</div> :\n\t\t\t          \t<div className=\"col-sm-3\">\n\t\t\t            \t<input onClick={this.saveContinue} type=\"button\" value=\"SAVE AND CONTINUE\" disabled={this.state.loading} className=\"btn btn-primary\" />\n\t\t\t          \t</div>\n\t\t\t          }\n\t\t\t          <div className=\"col-sm-2\">\n\t\t\t            <input onClick={this.save} type=\"button\" value=\"SAVE\" disabled={this.state.loading} className=\"btn btn-success\" />\n\t\t\t          </div>\n\t\t\t          <div className=\"col-sm-2\">\n\t\t\t            <input onClick={this.props.close} type=\"button\" value=\"CLOSE\" disabled={this.state.loading} className=\"btn btn-warning\" />\n\t\t\t          </div>\n\t\t\t\t\t    </div>\n\t\t\t\t\t  </div>\n\n\n\t\t\t\t\t  \n\n\n\t\t\t\t\t</div>\n\t\t    </div>\n\t\t  </div>\n\t\t</div>\n\n\t}\n}","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Route } from \"react-router-dom\";\nimport axios from 'axios';\n\nimport AnimatedSwitch from '../components/animated-switch';\n\nimport VisitorForm from '../components/VisitorForm';\nimport DataTable from '../components/DataTable';\nimport getCookie from '../utils/getCookie';\n\nexport default class VisitorsPages extends Component {\n    render() {\n        let match = this.props.match;\n        return <AnimatedSwitch>\n            <Route path={`${match.path}/new`} render={(props) => <VisitorNew {...props} /> } />\n            <Route path={`${match.path}/:visitorId`} render={(props) => <VisitorEdit {...props} /> } />\n            <Route exact path={`${match.path}`} render={(props) => <Visitors {...props} /> } />\n        </AnimatedSwitch>\n    }\n}\n\nexport class Visitors extends Component {\n    constructor(props) {\n        super(props);\n        window.visitorListActionEdit = this.edit;\n        this.dataTable = React.createRef();\n        this.dataTableConfig = {\n            order: [[ 5, \"desc\" ]],\n            serverSide: true,\n            processing: true,\n            ajax: function(params, callback, settings) {\n                axios.get('/api/visitors', {params: {params}}).then(response=>{\n                    callback(response.data);\n                })\n            },\n            columns: [\n                { data: 'firstname', name: 'firstname', 'class': 'text-center'},\n                { data: 'lastname', name: 'lastname', 'class': 'text-center'},\n                { data: 'id_no', name: 'id_no', 'class': 'text-center', render: (data,type,row) => data ? data : '-' },\n                { data: 'phone', name: 'phone', 'class': 'text-center', render: (data,type,row) => data ? data : '-' },\n                { data: 'email', name: 'email', 'class': 'text-center', render: (data,type,row) => data ? data : '-' },\n                { data: 'created_at', name: 'created_at', 'class': 'text-center', render: (data,type,row) => ((new Date(data)).toDateString() + ' ' + (new Date(data)).toLocaleTimeString()) },\n                { data: 'departure', name: 'departure', 'class': 'text-center', render: (data,type,row) => data ? ((new Date(data)).toDateString() + ' ' + (new Date(data)).toLocaleTimeString()) : '-' },\n                { data: null, 'class': 'text-center', render: function(data,type,row) {\n                    return `<span>\n                      <a onclick=\"visitorListActionEdit('${data.id}')\" class=\"btn btn-link btn-warning details\"><i class=\"fa fa-edit\"></i></a>\n                  </span>`\n                }}\n            ],\n\n            createdRow: function (row, data, index) {\n                if(data.departure) {\n                    row.classList.add('table-danger');\n                }\n            }\n        };\n    }\n\n    edit = (visitor) => {\n        this.props.history.push(`${this.props.match.url}/${visitor}`);\n    }\n\n\trender() {\n\t\tlet match = this.props.match;\n\t\treturn <div className=\"container-fluid\">\n    \t    <div className=\"row\">\n        \t    <div className=\"col-md-12\">\n        \t      <span className=\"pull-right\">\n        \t        <Link to={`${match.url}/new`} className=\"btn btn-success details\">New Visitor</Link>\n        \t      </span>\n        \t    </div>\n    \t    </div>\n            <DataTable ref={this.dataTable} title=\"Today Visitors\" config={this.dataTableConfig}>\n                <th>Firstname</th>\n                <th>Lastname</th>\n                <th>ID Number</th>\n                <th>Phone Number</th>\n                <th>Email</th>\n                <th>Arrival</th>\n                <th>Departure</th>\n                <th className=\"disabled-sorting text-center noExport\">Actions</th>\n            </DataTable>\n\t\t</div>\n\n\t}\n}\n\nexport class VisitorNew extends Component {\n    state = { error: {} };\n    submit = (data) => {\n        return axios.post('/api/visitors', data).then( res => {\n            this.setState({error: {}})\n            return res;\n        }, error => {\n            this.setState({error: error.response.data});\n            return Promise.reject(error);\n        })\n    }\n\n    close = () => {\n        this.props.history.push('/school/visitors');\n    }\n    render() {\n        return <VisitorForm error={this.state.error} submit={this.submit} close={this.close} />\n    }\n}\n\nexport class VisitorEdit extends Component {\n    state = { error: {}, data: {} };\n\n    componentDidMount() {\n    if(this.props.location.state && this.props.location.state.visitor){\n        this.setState({data: this.props.location.state.visitor})\n    }else if(this.props.match.params.visitorId){\n        axios.get(`/api/visitors/${this.props.match.params.visitorId}`).then(response => {\n            this.setState({data: response.data});\n        },error=>this.setState({error:error.response.data}))\n    }\n    \n  }\n\n  submit = (data) => {\n        return axios.put(`/api/visitors/${this.props.match.params.visitorId}`, data).then( res => {\n            this.setState({error: {}})\n            return res;\n        }, error => {\n            this.setState({error: error.response.data});\n            return Promise.reject(error);\n        })\n    }\n\n    close = () => {\n        this.props.history.push('/school/visitors');\n    }\n\n    render() {\n        return <VisitorForm edit={true} error={this.state.error} data={this.state.data} submit={this.submit} close={this.close} />\n    }\n}"],"sourceRoot":""}