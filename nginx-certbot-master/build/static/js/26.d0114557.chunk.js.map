{"version":3,"sources":["components/StaffForm.js","pages/Staff.js","components/StaffOffdayForm.js","pages/StaffOffdays.js","pages/StaffAttendance.js","components/StaffAssessmentForm.js","pages/StaffAssessment.js","pages/StaffPages.js"],"names":["StaffForm","defaults","firstname","lastname","staff_no","phone","email","id_no","dob","date_of_employment","gender","state","previewUrl","error","loading","data","inputChanged","field","event","val","target","value","setState","profileChanged","files","reader","FileReader","onload","e","result","readAsDataURL","removeSubject","console","log","saveContinue","submit","then","save","props","close","apply","res","edit","ShowNotification","Promise","reject","finally","_","retire","confirmAction","success","succes_text","loading_title","loading_text","canceled","consequence","restore","delete","cancel","cancelAsync","a","lodash","isEmpty","__meta_pending","isEqual","handleSubmit","preventDefault","submitAction","chooseAction","name","prevProps","prevState","this","profile","url","firstnameInvalid","lastnameInvalid","staffNoInvalid","phoneInvalid","emailInvalid","idNoInvalid","genderInvalid","dobInvalid","dateOfEmploymentInvalid","errors","className","date_left","type","onClick","onSubmit","message","onChange","bind","placeholder","map","index","key","role","src","style","width","height","alt","position","bottom","top","right","left","id","aria-describedby","DateInput","disabled","Component","Staff","inject","staff","String","startsWith","history","push","match","window","staffListActionEdit","self","dataTable","React","createRef","dataTableConfig","serverSide","processing","ajax","params","callback","settings","staffStore","list","staffs","columns","render","row","$","tooltip","to","DataTable","ref","title","config","softDeleteField","NewStaff","create","staffIdMatch","location","search","staffId","get","EditStaff","update","axios","post","updateItem","response","StaffOffdayForm","elRef","dosRef","doeRef","start","end","startInvalid","endInvalid","StaffList","staffOffDaysActionList","StaffOffdays","offday","staffOffDaysActionEdit","staff_id","staffOffdayStore","offdays","NewStaffOffday","parseInt","offdayIdMatch","offdayId","EditStaffOffday","staffOffdayId","staffOffday","StaffAttendance","dateRef","date","dateChaged","filterChanged","current","draw","classes","selectedClass","find","cls","class_id","streams","toolbar","StaffAssessmentForm","report","JSON","parse","designationInvalid","performanceInvalid","timingInvalid","relationshipInvalid","cleannessInvalid","commentsInvalid","fromInvalid","toInvalid","designation","performance","timing","relationship","cleanness","comments","from","StaffsAssessmentList","showAssessment","staffAssessmentActionList","createdRow","classList","add","StaffAssessmentList","assessment","teacherAssessmentActionEdit","beforeSend","request","setRequestHeader","getCookie","Date","toDateString","StaffAssessmentNew","replace","StaffAssessmentEdit","put","assessmentId","TeacherPages","exact","path"],"mappings":"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","file":"static/js/26.d0114557.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport lodash from 'lodash';\n\nimport ShowNotification from '../components/ShowNotification';\nimport DateInput from '../components/DateInput';\nimport confirmAction from '../utils/confirmAction';\n\nexport default class StaffForm extends Component {\n\tdefaults = {\n\t\tfirstname: '',\n\t\tlastname: '',\n\t\tstaff_no: '',\n\t\tphone: '',\n\t\temail: '',\n\t\tid_no: '',\n\t\tdob: '',\n\t\tdate_of_employment: '',\n\t\tgender: '',\n\t};\n\n\tstate = {previewUrl: '', error: {}, loading: false, data: {...this.defaults}\n\t};\n\n\tcomponentDidUpdate(prevProps,prevState) {\n\t\tif(this.props.edit){\n\t\t\tif(!lodash.isEqual(this.props.data, prevProps.data)){\n\t\t\t\tthis.setState({data: {...this.state.data,...this.props.data}})\n\t\t\t}\n\t\t\tif(this.props.data.profile != prevProps.data.profile){\n\t\t\t\tlet url = '/uploads/staffs_profile/' + this.props.data.profile;\n\t\t\t\tthis.setState({previewUrl: url});\n\t\t\t}\n\t\t}\n\t\tif(!lodash.isEqual(this.props.error,prevProps.error)){\n\t\t\tthis.setState({error: {...this.state.error,...this.props.error}})\n\t\t}\n\t}\n\n\tinputChanged = (field,event) => {\n\t\tlet val = event.target.value;\n\t\tthis.setState( (state) => state.data[field] = val);\n\t}\n\n\tprofileChanged = (event) => {\n\t\tlet files = event.target.files;\n\t\tif(files && files[0]) {\n\t\t\tvar reader = new FileReader();\n\t\t\treader.onload = (e) => {\n\t\t\t\tthis.setState({previewUrl: e.target.result});\n\t\t\t\tthis.setState( (state) => (state.data['profile'] = e.target.result, state));\n\t\t\t};\n\t\t\treader.readAsDataURL(files[0]);\n\t\t}\n\t}\n\n\tremoveSubject = () => {\n\t\tconsole.log('remove subject');\n\t}\n\n\tsaveContinue = () => {\n\t\tthis.submit().then(()=>{\n\t\t\tthis.setState({data: {...this.defaults},error: {}});\n\t\t})\n\t}\n\n\tsave = () => {\n\t\tthis.submit().then(()=>this.props.close());\n\t}\n\n\tapply = () => {\n\t\tthis.submit().then(()=>{\n\t\t\tthis.setState({error: {}});\n\t\t})\n\t}\n\n\tsubmit = () => {\n\t\tlet data = this.state.data;\n\t\tthis.setState({loading: true});\n\t\treturn this.props.submit(data).then( res => {\n\t\t\tif(this.props.edit) {\n\t\t\t\tShowNotification(\"Staff Successfully Edited\", \"success\", \"nc-check-2\");\n\t\t\t}else {\n\t\t\t\tShowNotification(\"Staff Created Successfully\", \"success\", \"nc-check-2\");\n\t\t\t}\n\t\t}, error => {\n\t\t\tthis.setState({error});\n\t\t\treturn Promise.reject(error);\n\t\t}).finally(_=>this.setState({loading:false}));\n\t}\n\n\tretire = () => {\n\t\tconfirmAction( () => {\n\t\t\treturn this.props.retire().then(res=>{\n\t\t\t\tthis.props.close();\n\t\t\t\treturn {success: 'Retired!', succes_text: 'Staff was retired'};\n\t\t\t}, error => {\n\t\t\t\tthrow {error: \"Staff couldn't be retired\"};\n\t\t\t})\n\t\t}, {loading_title: 'Retiring...', loading_text: 'Retiring Staff', canceled: \"Retiring Staff Operation Cancelled\", consequence: 'Staff information will be archieved'});\n\t}\n\n\trestore = () => {\n\t\tconfirmAction( () => {\n      return this.props.restore().then(res=>{\n        this.props.close();\n        return {success: 'Restored!', succes_text: 'Staff was restored'};\n      }, error => {\n        throw {error: 'Staff could not be restored.'};\n      })\n    }, {loading_title: 'Restoring...', loading_text: 'Restoring Staff', canceled: \"Restoring Staff Operation Cancelled\", consequence: 'Staff information will be made accessible again'});\n\t}\n\n\tdelete = () => {\n\t\tconfirmAction( () => {\n\t\t\treturn this.props.delete().then(res=>{\n\t\t\t\tthis.props.close();\n\t\t\t\treturn {success: 'Deleted!', succes_text: 'Staff was deleted'};\n\t\t\t}, error => {\n\t\t\t\tthrow {error: \"Staff couldn't be deleted.\"};\n\t\t\t})\n\t\t}, {loading_title: 'Deleting...', loading_text: 'Deleting Staff', canceled: \"Deleting Staff Operation Cancelled\", consequence: 'Staff will be completely removed'});\n\t}\n\n\tcancel = () => {\n\t\tlet cancelAsync = async () => this.props.cancel();\n\t\tif(lodash.isEmpty(this.props.data) || (!this.props.data.__meta_pending && lodash.isEqual(this.props.data, this.state.data))) {\n\t\t\tthis.props.close();\n\t\t\treturn;\n\t\t}\n\t\tconfirmAction( () => {\n\t\t\treturn cancelAsync().then(res=>{\n\t\t\t\tthis.props.close();\n\t\t\t\treturn {success: 'Cancelled!', succes_text: 'Staff entry was cancelled'};\n\t\t\t}, error => {\n\t\t\t\tthrow {error: \"Staff entry couldn't be removed.\"};\n\t\t\t})\n\t\t}, {loading_title: 'Deleting...', loading_text: 'Cancelling entry', canceled: \"\", consequence: 'Entered information will be discarded'});\n\t}\n\n\n\thandleSubmit = (e) => {\n\t\te.preventDefault();\n\t\tthis.submitAction();\n\t}\n\n\tchooseAction = (e) => {\n\t\tswitch(e.target.name) {\n\t\t\tcase 'apply':\n\t\t\t\tthis.submitAction = this.apply;\n\t\t\t\tbreak;\n\t\t\tcase 'save':\n\t\t\t\tthis.submitAction = this.save;\n\t\t\t\tbreak;\n\t\t\tcase 'save_continue':\n\t\t\t\tthis.submitAction = this.saveContinue;\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\trender() {\n\t\tlet error = this.state.error || {};\n\t\tlet firstnameInvalid='', lastnameInvalid='', staffNoInvalid='', phoneInvalid='', emailInvalid='', idNoInvalid='', genderInvalid='', dobInvalid='', dateOfEmploymentInvalid='';\n\t\tif(error.errors) {\n\t\t\tfirstnameInvalid = error.errors.firstname ? 'is-invalid' : '';\n\t\t\tlastnameInvalid = error.errors.lastname ? 'is-invalid' : '';\n\t\t\tstaffNoInvalid = error.errors.staff_no ? 'is-invalid' : '';\n\t\t\tphoneInvalid = error.errors.phone ? 'is-invalid' : '';\n\t\t\temailInvalid = error.errors.email ? 'is-invalid' : '';\n\t\t\tidNoInvalid = error.errors.id_no ? 'is-invalid' : '';\n\t\t\tgenderInvalid = error.errors.gender ? 'is-invalid' : '';\n\t\t\tdobInvalid = error.errors.dob ? 'is-invalid' : '';\n\t\t\tdateOfEmploymentInvalid = error.errors.date_of_employment ? 'is-invalid' : '';\n\t\t}\n\n\t\treturn <div className=\"container-fluid\">\n\t\t\t{this.props.edit && <div className=\"row\">\n    \t    <div className=\"col-md-12\">\n    \t      <span className=\"pull-right\">\n    \t      \t{this.state.data.date_left ? <button type=\"button\" className=\"btn btn-secondary\" onClick={this.restore} >Restore</button>\n    \t      \t : <button type=\"button\" className=\"btn btn-warning\" onClick={this.retire} >Retire</button> }\n    \t      \t&nbsp;\n    \t        <button type=\"button\" className=\"btn btn-danger\" onClick={this.delete} >Delete</button>\n    \t      </span>\n    \t    </div>\n\t    </div>}\n\t\t  <div className=\"row\">\n\t\t    <div className=\"col-md-12\">\n\t\t      <div className=\"card stacked-form\">\n\t\t\t\t\t  <div className=\"card-header \">\n\t\t\t\t\t    <h4 className=\"card-title\">Staff Details</h4>\n\t\t\t\t\t  </div>\n\t\t\t\t\t  <div className=\"card-body \">\n\t\t\t\t\t    <form onSubmit={this.handleSubmit}>\n\t\t\t\t\t    \t{error.message && <div className=\"alert alert-danger\">\n                    <span>\n                        <b> Error - </b> {error.message}\n                    </span>\n                </div>}\n\t\t\t\t\t    \t<div className=\"row\">\n\t\t\t\t\t    \t\t<div className=\"col-md-9\">\n\t\t\t\t\t    \t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t        <label>First Name</label>\n\t\t\t\t\t\t\t\t        <input value={this.state.data.firstname} onChange={this.inputChanged.bind(this,'firstname')} type=\"text\" placeholder=\"First Name\" className={`form-control ${firstnameInvalid}`} />\n\t\t\t\t\t\t\t\t        {firstnameInvalid && error.errors.firstname.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t\t\t      </div>\n\n\t\t\t\t\t\t\t\t      <div className=\"form-group\">\n\t\t\t\t\t\t\t\t        <label>Last Name</label>\n\t\t\t\t\t\t\t\t        <input value={this.state.data.lastname} onChange={this.inputChanged.bind(this,'lastname')} type=\"text\" placeholder=\"Last Name\" className={`form-control ${lastnameInvalid}`} />\n\t\t\t\t\t\t\t\t        {lastnameInvalid && error.errors.lastname.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t\t\t      </div>\n\n\t\t\t\t\t\t\t\t      <div className=\"form-group\">\n\t\t\t\t\t\t\t\t        <label>Gender</label>\n\t\t\t\t\t\t\t\t        <select value={this.state.data.gender} onChange={this.inputChanged.bind(this,'gender')} name=\"gender\" className={`form-control ${genderInvalid}`} >\n\t\t\t\t\t\t\t\t        \t<option value=\"\">Select Gender</option>\n\t\t                      <option value=\"M\">Male</option>\n\t\t                      <option value=\"F\">Female</option>\n\t\t                    </select>\n\t\t\t\t\t\t\t\t        {genderInvalid && error.errors.gender.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t\t\t      </div>\n\t\t\t\t\t    \t\t</div>\n\t\t\t\t\t\t      <div className=\"col-md-3 d-flex align-items-center\">\n\t\t\t\t\t\t      \t<div>\n\t\t\t\t\t\t      \t\n\t\t\t\t\t\t      \t<div className=\"input-group\">\n\t\t\t\t\t\t      \t\t<div>\n\t\t\t\t\t\t\t      \t\t<img src={this.state.previewUrl || '/img/profile-placeholder.jpg'} className=\"rounded img-fluid\" style={{width: '100%', height: '100%'}} alt=\"Responsive image\" />\n\t\t\t\t\t\t\t      \t</div>\n\t\t\t\t\t\t\t\t\t\t  <span style={{position: 'absolute', bottom: 0}}>\n\t\t\t\t\t\t\t\t\t\t  \t<span className=\"btn btn-primary\"><i className=\"fa fa-camera\"></i>Change</span>\n\t\t\t\t\t\t\t\t\t\t    <input type=\"file\" onChange={this.profileChanged} style={{position: 'absolute', bottom: 0, top: 0, right: 0, left: 0}} className=\"custom-file-input\" id=\"inputGroupFile01\" aria-describedby=\"inputGroupFileAddon01\" />\n\t\t\t\t\t\t\t\t\t\t  </span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t      </div>\n\t\t\t\t\t      </div>\n\n\t\t\t\t\t      <div className=\"row\">\n\t\t\t\t\t      \t<div className=\"form-group col-md-6\">\n\t\t\t\t\t\t        <label>Staff's No</label>\n\t\t\t\t\t\t        <input value={this.state.data.staff_no} onChange={this.inputChanged.bind(this,'staff_no')} type=\"text\" placeholder=\"Staff No\" className={`form-control ${staffNoInvalid}`} />\n\t\t\t\t\t\t        {staffNoInvalid && error.errors.staff_no.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t      </div>\n\t\t\t\t\t      \t\n\t\t\t\t\t      \t<div className=\"form-group col-md-6\">\n\t\t\t\t\t\t        <label>Phone Number</label>\n\t\t\t\t\t\t        <input value={this.state.data.phone} onChange={this.inputChanged.bind(this,'phone')} type=\"text\" placeholder=\"Phone Number\" className={`form-control ${phoneInvalid}`} />\n\t\t\t\t\t\t        {phoneInvalid && error.errors.phone.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t      </div>\n\t\t\t\t\t\t    </div>\n\n\t\t\t\t\t\t    <div className=\"row\">\n\t\t\t\t\t      \t<div className=\"form-group col-md-6\">\n\t\t\t\t\t\t        <label>Email</label>\n\t\t\t\t\t\t        <input value={this.state.data.email} onChange={this.inputChanged.bind(this,'email')} type=\"text\" placeholder=\"Email\" className={`form-control ${emailInvalid}`} />\n\t\t\t\t\t\t        {emailInvalid && error.errors.email.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t      </div>\n\t\t\t\t\t      \t\n\t\t\t\t\t      \t<div className=\"form-group col-md-6\">\n\t\t\t\t\t\t        <label>ID Number</label>\n\t\t\t\t\t\t        <input value={this.state.data.id_no} onChange={this.inputChanged.bind(this,'id_no')} type=\"text\" placeholder=\"ID Number\" className={`form-control ${idNoInvalid}`} />\n\t\t\t\t\t\t        {idNoInvalid && error.errors.id_no.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t      </div>\n\t\t\t\t\t\t    </div>\n\n\t\t\t\t\t      <div className=\"row\">\n\t\t\t\t\t\t      <div className=\"form-group col-md-6\">\n\t\t\t\t\t\t        <label>Date of Birth</label>\n\t\t\t\t\t\t        <DateInput value={this.state.data.dob} onChange={this.inputChanged.bind(this,'dob')} type=\"text\" placeholder=\"Date of Birth\" className={`form-control ${dobInvalid}`} />\n\t\t\t\t\t\t        {dobInvalid && error.errors.dob.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t      </div>\n\t\t\t\t\t\t      <div className=\"form-group col-md-6\">\n\t\t\t\t\t\t        <label>Date of Employment</label>\n\t\t\t\t\t\t        <DateInput value={this.state.data.date_of_employment} onChange={this.inputChanged.bind(this,'date_of_employment')} type=\"text\" placeholder=\"Date of Employment\" className={`form-control ${dateOfEmploymentInvalid}`} />\n\t\t\t\t\t\t        {dateOfEmploymentInvalid && error.errors.date_of_employment.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t      </div>\n\t\t\t\t\t\t    </div>\n\n\t\t\t\t\t\t    <div className=\"row\">\n\t\t\t\t\t\t    \t<div className=\"col-sm-2\">\n\t\t\t\t            <input onClick={this.chooseAction} type=\"submit\" name=\"save\" value=\"SAVE\" disabled={this.state.loading} className=\"btn btn-success\" />\n\t\t\t\t          </div>\n\t\t\t\t\t\t\t  \t{this.props.edit ? <div className=\"col-sm-2\">\n\t\t\t\t            \t<input onClick={this.chooseAction} type=\"submit\" name=\"apply\" value=\"APPLY\" disabled={this.state.loading} className=\"btn btn-primary\" />\n\t\t\t\t          \t</div> :\n\t\t\t\t          \t<div className=\"col-sm-3\">\n\t\t\t\t            \t<input onClick={this.chooseAction} type=\"submit\" name=\"save_continue\" value=\"SAVE AND CONTINUE\" disabled={this.state.loading} className=\"btn btn-primary\" />\n\t\t\t\t          \t</div>\n\t\t\t\t          }\n\t\t\t\t          <div className=\"col-sm-2\">\n\t\t\t\t            <input onClick={this.cancel} type=\"button\" value=\"CANCEL\" disabled={this.state.loading} className=\"btn btn-warning\" />\n\t\t\t\t          </div>\n\t\t\t\t\t\t    </div>\n\n\t\t\t\t\t    </form>\n\t\t\t\t\t  </div>\n\t\t\t\t\t  <div className=\"card-footer \">\n\t\t\t\t\t  \t\n\t\t\t\t\t  </div>\n\n\n\t\t\t\t\t  \n\n\n\t\t\t\t\t</div>\n\t\t    </div>\n\t\t  </div>\n\t\t</div>\n\n\t}\n}","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { inject } from 'mobx-react';\nimport lodash from 'lodash';\n\nimport StaffForm from '../components/StaffForm';\nimport DataTable from '../components/DataTable';\nimport getCookie from '../utils/getCookie';\n\n@inject('staffStore')\nexport default class Staff extends Component {\n    constructor(props) {\n        super(props);\n        window.staffListActionEdit = this.edit;\n        const self = this;\n        this.dataTable = React.createRef();\n        this.dataTableConfig = {\n            serverSide: false,\n            processing: false,\n            ajax : function (params, callback, settings) {\n                self.props.staffStore.list(params,true, true).then(staffs=>{\n                    callback({data: staffs});\n                })\n            },\n            columns: [\n                { data: 'staff_no', name: 'staff_no', 'class': 'text-center'},\n                { data: 'firstname', name: 'firstname', 'class': 'text-center'},\n                { data: 'lastname', name: 'lastname', 'class': 'text-center'},\n                { data: 'phone', name: 'phone', 'class': 'text-center'},\n                { data: 'email', name: 'email', 'class': 'text-center'},\n                { data: 'gender', name: 'gender', 'class': 'text-center'},\n                { data: null, 'class': 'text-center', render: function(data,type,row) {\n                    return `<span>\n                      <a onclick=\"staffListActionEdit('${data.id}')\" class=\"btn btn-link btn-warning details\"><i class=\"fa fa-edit\"></i></a>\n                  </span>`\n                }}\n            ]\n        };\n    }\n\n    componentWillUnmount() {\n        $('tr[title]').tooltip('dispose');\n    }\n\n    edit = (staff) => {\n        if(String(staff).startsWith('dummy_')){\n            this.props.history.push(`${this.props.match.url}/new?staff=${staff}`)\n        } else {\n            this.props.history.push(`${this.props.match.url}/${staff}`);\n        }\n    }\n\n\trender() {\n\t\tlet match = this.props.match;\n\t\treturn <div className=\"container-fluid\">\n    \t    <div className=\"row\">\n        \t    <div className=\"col-md-12\">\n        \t      <span className=\"pull-right\">\n        \t        <Link to={`${match.url}/new`} className=\"btn btn-success details\">New Staff</Link>\n        \t      </span>\n        \t    </div>\n    \t    </div>\n            <DataTable ref={this.dataTable} title=\"Staffs\" config={this.dataTableConfig} softDeleteField=\"date_left\">\n                <th>Staff's No</th>\n                <th>Firstname</th>\n                <th>Lastname</th>\n                <th>Phone Number</th>\n                <th>Email</th>\n                <th>Gender</th>\n                <th className=\"disabled-sorting text-center noExport\">Actions</th>\n            </DataTable>\n\t\t</div>\n\n\t}\n}\n\n@inject('staffStore')\nexport class NewStaff extends Component {\n    state = { error: {} };\n\n    componentDidMount() {\n        let staffIdMatch = this.props.location.search.match(/staff=([^&]+)/);\n        if(staffIdMatch) {\n            let staffId = staffIdMatch[1];\n            this.props.staffStore.get(staffId, true).then(staff => {\n                if(staff){\n                    this.setState({data: staff, error: staff.error});\n                }\n            })\n        }\n    }\n\n    submit = (data) => {\n        return this.props.staffStore.create(data).then( staff => {\n            this.setState({error: {}, data: staff})\n            return staff;\n        }, error => {\n            this.setState({error});\n            return Promise.reject(error);\n        })\n    }\n\n    cancel = () => {\n        let staffIdMatch = this.props.location.search.match(/staff=([^&]+)/);\n        if(staffIdMatch) {\n            let staffId = staffIdMatch[1];\n            return this.props.staffStore.cancel(staffId);\n        }\n    }\n\n    close = () => {\n        this.props.history.push('/school/staffs');\n    }\n    render() {\n        return <StaffForm data={this.state.data} error={this.state.error} submit={this.submit} cancel={this.cancel} close={this.close} />\n    }\n}\n\n@inject('staffStore')\nexport class EditStaff extends Component {\n    state = { error: {}, data: {} };\n\n    componentDidMount() {\n        if(this.props.location.state && this.props.location.state.staff){\n            this.setState({data: this.props.location.state.staff})\n        }else if(this.props.match.params.id){\n            this.props.staffStore.get(this.props.match.params.id).then(staff => {\n                this.setState({data: staff, error: (staff.error || {})});\n            },error=>this.setState({error}))\n        }\n        \n      }\n\n    submit = (data) => {\n        return this.props.staffStore.update(data).then( staff => {\n            this.setState({error: {}, data: staff})\n            return staff;\n        }, error => {\n            this.setState({error});\n            return Promise.reject(error);\n        })\n    }\n\n    delete = () => {\n        return this.props.staffStore.delete(this.props.match.params.id);\n    }\n\n    retire = () => {\n        return axios.post(`/api/staffs/retire/${this.state.data.id}`).then(res=> {\n            this.props.staffStore.updateItem(res.data);\n            this.setState({error: {}, data: res.data});\n            return res.data;\n        }, error => {\n            error = error.response ? error.response.data : error;\n            this.setState({error});\n            throw error;\n        })\n    }\n\n    restore = () => {\n        return axios.post(`/api/staffs/restore/${this.state.data.id}`).then(res=> {\n            this.props.staffStore.updateItem(res.data);\n            this.setState({error: {}, data: res.data});\n            return res.data;\n        }, error => {\n            error = error.response ? error.response.data : error;\n            this.setState({error});\n            throw error;\n        })\n    }\n\n    cancel = () => {\n        return this.props.staffStore.cancel(this.props.match.params.id);\n    }\n\n    close = () => {\n        this.props.history.push('/school/staffs');\n    }\n\n    render() {\n        return <StaffForm edit={true} error={this.state.error} data={this.state.data} submit={this.submit} delete={this.delete} retire={this.retire} restore={this.restore} cancel={this.cancel} close={this.close} />\n    }\n}","import React, { Component } from 'react';\nimport lodash from 'lodash';\n\nimport ShowNotification from '../components/ShowNotification';\nimport DateInput from '../components/DateInput';\nimport confirmAction from '../utils/confirmAction';\n\nexport default class StaffOffdayForm extends Component {\n\telRef = React.createRef();\n\tdosRef = React.createRef();\n\tdoeRef = React.createRef();\n\tdefaults = {\n\t\tstart: '',\n\t\tend: ''\n\t};\n\n\tstate = {error: {}, loading: false, data: {...this.defaults}};\n\n\tcomponentDidUpdate(prevProps,prevState) {\n\t\tif(!lodash.isEqual(this.props.data, prevProps.data)){\n\t\t\tthis.setState({data: {...this.state.data,...this.props.data}})\n\t\t}\n\t\tif(!lodash.isEqual(this.props.error,prevProps.error)){\n\t\t\tthis.setState({error: {...this.state.error,...this.props.error}})\n\t\t}\n\t}\n\n\tinputChanged = (field,event) => {\n\t\tlet val = event.target.value;\n\t\tthis.setState( (state) => state.data[field] = val);\n\t}\n\n\tsaveContinue = () => {\n\t\tthis.submit().then(()=>{\n\t\t\tthis.setState({data: {...this.defaults},error: {}});\n\t\t})\n\t}\n\n\tsave = () => {\n\t\tthis.submit().then(()=>this.props.close());\n\t}\n\n\tapply = () => {\n\t\tthis.submit().then(()=>{\n\t\t\tthis.setState({error: {}});\n\t\t})\n\t}\n\n\tsubmit = () => {\n\t\tlet data = this.state.data;\n\t\tthis.setState({loading: true});\n\t\treturn this.props.submit(data).then( res => {\n\t\t\tif(this.props.edit) {\n\t\t\t\tShowNotification(\"Staff Offday Successfully Edited\", \"success\", \"nc-check-2\");\n\t\t\t}else {\n\t\t\t\tShowNotification(\"Staff Offday Created Successfully\", \"success\", \"nc-check-2\");\n\t\t\t}\n\t\t}, error => {\n\t\t\tthis.setState({error});\n\t\t\treturn Promise.reject(error);\n\t\t}).finally(_=>this.setState({loading:false}));\n\t}\n\n\tdelete = () => {\n    confirmAction( () => {\n      return this.props.delete().then(res=>{\n        this.props.close();\n        return {success: 'Deleted!', succes_text: 'Offday was deleted'};\n      }, error => {\n        throw {error: \"Offday couldn't be deleted.\"};\n      })\n    }, {loading_title: 'Deleting...', loading_text: 'Deleting Offday', canceled: \"Deleting Offday Operation Cancelled\", consequence: 'Offday will be deleted'});\n  }\n\n  cancel = () => {\n\t\tlet cancelAsync = async () => this.props.cancel();\n\t\tif(lodash.isEmpty(this.props.data) || (!this.props.data.__meta_pending && lodash.isEqual(this.props.data, this.state.data))) {\n\t\t\tthis.props.close();\n\t\t\treturn;\n\t\t}\n\t\tconfirmAction( () => {\n\t\t\treturn cancelAsync().then(res=>{\n\t\t\t\tthis.props.close();\n\t\t\t\treturn {success: 'Cancelled!', succes_text: 'Staff Offday entry was cancelled'};\n\t\t\t}, error => {\n\t\t\t\tthrow {error: \"Staff Offday entry couldn't be removed.\"};\n\t\t\t})\n\t\t}, {loading_title: 'Deleting...', loading_text: 'Cancelling entry', canceled: \"\", consequence: 'Entered information will be discarded'});\n\t}\n\n  handleSubmit = (e) => {\n\t\te.preventDefault();\n\t\tthis.submitAction();\n\t}\n\n\tchooseAction = (e) => {\n\t\tswitch(e.target.name) {\n\t\t\tcase 'apply':\n\t\t\t\tthis.submitAction = this.apply;\n\t\t\t\tbreak;\n\t\t\tcase 'save':\n\t\t\t\tthis.submitAction = this.save;\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\trender() {\n\t\tlet error = this.state.error || {};\n\t\tlet startInvalid='', endInvalid='';\n\t\tif(error.errors) {\n\t\t\tstartInvalid = error.errors.start ? 'is-invalid' : '';\n\t\t\tendInvalid = error.errors.end ? 'is-invalid' : '';\n\t\t}\n\n\t\treturn <div className=\"container-fluid\">\n\t\t\t{this.props.edit && <div className=\"row\">\n          <div className=\"col-md-12\">\n            <span className=\"pull-right\">\n              <button type=\"button\" className=\"btn btn-danger\" onClick={this.delete} >Delete</button>\n            </span>\n          </div>\n      </div>}\n\t\t  <div className=\"row\">\n\t\t    <div className=\"col-md-12\">\n\t\t      <div className=\"card stacked-form\">\n\t\t\t\t\t  <div className=\"card-header \">\n\t\t\t\t\t    <h4 className=\"card-title\">Offday Details</h4>\n\t\t\t\t\t  </div>\n\t\t\t\t\t  <div className=\"card-body \">\n\t\t\t\t\t    <form onSubmit={this.handleSubmit} >\n\t\t\t\t\t    \t{error.message && <div className=\"alert alert-danger\">\n                    <span>\n                        <b> Error - </b> {error.message}\n                    </span>\n                </div>}\n\t\t\t\t\t      <div className=\"form-group\">\n\t\t\t\t\t        <label>Starts on</label>\n\t\t\t\t\t        <DateInput value={this.state.data.start} onChange={this.inputChanged.bind(this,'start')} type=\"text\" placeholder=\"Starts on\" className={`form-control ${startInvalid}`} />\n\t\t\t\t\t        {startInvalid && error.errors.start.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t      </div>\n\n\t\t\t\t\t      <div className=\"form-group\">\n\t\t\t\t\t        <label>Ends on</label>\n\t\t\t\t\t        <DateInput value={this.state.data.end} onChange={this.inputChanged.bind(this,'end')} type=\"text\" placeholder=\"End on\" className={`form-control ${endInvalid}`} />\n\t\t\t\t\t        {endInvalid && error.errors.end.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t      </div>\n\n\t\t\t\t\t      <div className=\"row\">\n\t\t\t\t\t      \t<div className=\"col-sm-2\">\n\t\t\t\t            <input onClick={this.chooseAction} type=\"submit\" name=\"save\" value=\"SAVE\" disabled={this.state.loading} className=\"btn btn-success\" />\n\t\t\t\t          </div>\n\t\t\t\t\t\t\t  \t{this.props.edit && <div className=\"col-sm-2\">\n\t\t\t\t            \t<input onClick={this.chooseAction} type=\"submit\" name=\"apply\" value=\"APPLY\" disabled={this.state.loading} className=\"btn btn-primary\" />\n\t\t\t\t          \t</div>\n\t\t\t\t          }\n\t\t\t\t          <div className=\"col-sm-2\">\n\t\t\t\t            <input onClick={this.cancel} type=\"button\" value=\"CLOSE\" disabled={this.state.loading} className=\"btn btn-warning\" />\n\t\t\t\t          </div>\n\t\t\t\t\t\t    </div>\n\n\t\t\t\t\t    </form>\n\t\t\t\t\t  </div>\n\t\t\t\t\t  <div className=\"card-footer \">\n\t\t\t\t\t  </div>\n\n\t\t\t\t\t</div>\n\t\t    </div>\n\t\t  </div>\n\t\t</div>\n\n\t}\n}","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport {inject} from 'mobx-react';\nimport lodash from 'lodash';\n\nimport StaffOffdayForm from '../components/StaffOffdayForm';\nimport DataTable from '../components/DataTable';\nimport getCookie from '../utils/getCookie';\n\n@inject('staffStore')\nexport default class StaffList extends Component {\n  constructor(props) {\n    super(props);\n    window.staffOffDaysActionList = this.list;\n    const self = this;\n    this.dataTable = React.createRef();\n    this.dataTableConfig = {\n      serverSide: false,\n      processing: false,\n      ajax : function (params, callback, settings) {\n          self.props.staffStore.list(params,true).then(staffs=>{\n              callback({data: staffs});\n          })\n      },\n      columns: [\n        { data: 'staff_no', name: 'staff_no', 'class': 'text-center'},\n        { data: 'firstname', name: 'firstname', 'class': 'text-center'},\n        { data: 'lastname', name: 'lastname', 'class': 'text-center'},\n        { data: 'phone', name: 'phone', 'class': 'text-center'},\n        { data: 'email', name: 'email', 'class': 'text-center'},\n        { data: 'gender', name: 'gender', 'class': 'text-center'},\n        { data: null, 'class': 'text-center', render: function(data,type,row) {\n          return `<span>\n            <a onclick=\"staffOffDaysActionList('${data.id}')\" class=\"btn btn-link btn-warning details\"><i class=\"nc-icon nc-bullet-list-67 icon-bold\"></i></a>\n          </span>`\n        }}\n      ],\n    };\n  }\n\n  list = (staff) => {\n    this.props.history.push(`${this.props.match.url}/${staff}`);\n  }\n\n  render() {\n    let match = this.props.match;\n    return <div className=\"container-fluid\">\n      <DataTable ref={this.dataTable} title=\"Staffs\" config={this.dataTableConfig}>\n        <th>Staff's No</th>\n        <th>Firstname</th>\n        <th>Lastname</th>\n        <th>Phone Number</th>\n        <th>Email</th>\n        <th>Gender</th>\n        <th className=\"disabled-sorting text-center noExport\">Actions</th>\n      </DataTable>\n    </div>\n\n  }\n}\n\n@inject('staffStore')\n@inject('staffOffdayStore')\nexport class StaffOffdays extends Component {\n  constructor(props) {\n    super(props);\n    window.staffOffDaysActionEdit = this.edit;\n    this.state = {staff: null};\n    const self = this;\n    this.dataTable = React.createRef();\n    this.dataTableConfig = {\n      serverSide: false,\n      processing: false,\n      ajax : function (params, callback, settings) {\n        params.staff_id = self.props.match.params.staffId;\n        self.props.staffOffdayStore.list(params,true, true).then(offdays=>{\n          callback({data: offdays});\n        })\n      },\n      columns: [\n        { data: 'start', name: 'start', 'class': 'text-center'},\n        { data: 'end', name: 'end', 'class': 'text-center'},\n        { data: null, 'class': 'text-center', render: function(data,type,row) {\n          return `<span>\n            <a onclick=\"staffOffDaysActionEdit('${data.id}')\" class=\"btn btn-link btn-warning details\"><i class=\"fa fa-edit\"></i></a>\n          </span>`\n        }}\n      ]\n    };\n  }\n\n  componentDidMount() {\n    this.props.staffStore.get(this.props.match.params.staffId, true).then(staff=>{\n      this.setState({staff});\n    })\n  }\n\n  componentWillUnmount() {\n    $('tr[title]').tooltip('dispose');\n  }\n\n  edit = (offday) => {\n    if(String(offday).startsWith('dummy_')){\n      this.props.history.push(`${this.props.match.url}/new?offday=${offday}`)\n    } else {\n      this.props.history.push(`${this.props.match.url}/${offday}`);\n    }\n  }\n\n\n  render() {\n    let match = this.props.match;\n    let title = this.state.staff ? `${this.state.staff.firstname} Offdays` : 'Offdays';\n    return <div className=\"container-fluid\">\n      <div className=\"row\">\n        <div className=\"col-md-12\">\n          <span className=\"pull-right\">\n          <Link to={`${match.url}/new`} className=\"btn btn-success details\">Add OffDays</Link>\n          </span>\n        </div>\n      </div>\n      <DataTable ref={this.dataTable} title={title} config={this.dataTableConfig}>\n        <th>Start</th>\n        <th>End</th>\n        <th className=\"disabled-sorting text-center noExport\">Actions</th>\n      </DataTable>\n    </div>\n\n  }\n}\n\n@inject('staffOffdayStore')\nexport class NewStaffOffday extends Component {\n  state = { error: {} };\n\n  componentDidMount() {\n    let offdayIdMatch = this.props.location.search.match(/offday=([^&]+)/);\n    if(offdayIdMatch) {\n        let offdayId = offdayIdMatch[1];\n        this.props.staffOffdayStore.get(offdayId, true).then(offday => {\n            if(offday){\n                this.setState({data: offday, error: offday.error});\n            }\n        })\n    }\n  }\n\n  submit = (data) => {\n    data.staff_id = this.props.match.params.staffId;\n    data.staff_id = parseInt(data.staff_id) || data.staff_id;\n    return this.props.staffOffdayStore.create(data).then( offday => {\n      this.setState({error: {}, data: offday})\n      return offday;\n    }, error => {\n      this.setState({error});\n      return Promise.reject(error);\n    })\n  }\n\n  cancel = () => {\n    let offdayIdMatch = this.props.location.search.match(/offday=([^&]+)/);\n    if(offdayIdMatch) {\n      let offdayId = offdayIdMatch[1];\n      return this.props.staffOffdayStore.cancel(offdayId);\n    }\n  }\n\n\n  close = () => {\n    this.props.history.push(`/school/staffs/offdays/${this.props.match.params.staffId}`);\n  }\n  render() {\n    return <StaffOffdayForm data={this.state.data} error={this.state.error} submit={this.submit} cancel={this.cancel} close={this.close} />\n  }\n}\n\n@inject('staffOffdayStore')\nexport class EditStaffOffday extends Component {\n  state = { error: {}, data: {} };\n\n  componentDidMount() {\n    if(this.props.location.state && this.props.location.state.staffOffday){\n      this.setState({data: this.props.location.state.staffOffday})\n    }else if(this.props.match.params.staffOffdayId){\n      this.props.staffOffdayStore.get(this.props.match.params.staffOffdayId, true).then(offday => {\n        this.setState({data: offday, error: (offday.error || {})});\n      },error=>this.setState({error}))\n    }\n  \n  }\n\n  submit = (data) => {\n    return this.props.staffOffdayStore.update(data).then( offday => {\n      this.setState({error: {}, data: offday})\n      return offday;\n    }, error => {\n      this.setState({error});\n      return Promise.reject(error);\n    })\n  }\n\n  delete = () => {\n    return this.props.staffOffdayStore.delete(this.props.match.params.staffOffdayId);\n  }\n\n  cancel = () => {\n      return this.props.staffOffdayStore.cancel(this.props.match.params.staffOffdayId);\n  }\n\n  close = () => {\n    this.props.history.push(`/school/staffs/offdays/${this.props.match.params.staffId}`);\n  }\n\n  render() {\n    return <StaffOffdayForm edit={true} error={this.state.error} data={this.state.data} submit={this.submit} delete={this.delete} cancel={this.cancel} close={this.close} />\n  }\n}","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport DataTable from '../components/DataTable';\nimport DateInput from '../components/DateInput';\nimport getCookie from '../utils/getCookie';\n\nexport default class StaffAttendance extends Component {\n  dateRef = React.createRef();\n  state = { date: '' };\n  dataTable = null;\n  constructor(props) {\n    super(props);\n    var self = this;\n    this.dataTable = React.createRef()\n    this.dataTableConfig = {\n      serverSide: true,\n      processing: true,\n      ajax: function(params, callback, settings) {\n        axios.get('/api/staffs/attendance', {params: {params}}).then(response=>{\n          callback(response.data);\n        })\n      },\n      columns: [\n        { data: 'firstname', name: 'firstname', 'class': 'text-center'},\n        { data: 'lastname', name: 'lastname', 'class': 'text-center'},\n        { data: null, 'class': 'text-center', render: function(data,type,row) {\n          let checked = data.date ? \" checked='' \" : ''\n          return `<span>\n              <div class=\"bootstrap-switch bootstrap-switch-wrapper bootstrap-switch-animate bootstrap-switch-${data.date ? 'on': 'off'}\" style=\"width: 72px;\"><div class=\"bootstrap-switch-container\" style=\"width: 122px; margin-left: 0px;\"><span class=\"bootstrap-switch-handle-on bootstrap-switch-info\" style=\"width: 50px;\"><i class=\"fa fa-check\"></i></span><span class=\"bootstrap-switch-label\" style=\"width: 30px;\">&nbsp;</span><span class=\"bootstrap-switch-handle-off bootstrap-switch-info\" style=\"width: 50px;\"><i class=\"fa fa-times\"></i></span><input type=\"checkbox\" checked=\"\" data-toggle=\"switch\" data-on-color=\"info\" data-off-color=\"info\" data-on-text=\"<i class='fa fa-check'></i>\" data-off-text=\"<i class='fa fa-times'></i>\"></div></div>\n            </span>`\n        }}\n      ],\n    };\n  }\n\n  dateChaged = (event) => {\n    this.setState({date: event.target.value}, this.filterChanged);\n  }\n\n  filterChanged = () => {\n    this.dataTable.current.draw();\n  }\n\n\trender() {\n\t\tlet match = this.props.match;\n\n    let {classes} = this.state;\n    let streams = null;\n\n    if(classes) {\n      let selectedClass = classes.find( (cls) => cls.id == this.state.class_id );\n      if(selectedClass) {\n        streams = selectedClass.streams;\n      }\n    }\n\n\t\treturn <div className=\"container-fluid\">\n      <DataTable ref={this.dataTable} title=\"Staffs Attendance\" config={this.dataTableConfig} toolbar={\n        <>\n        <div className=\"d-flex justify-content-center col-12\">\n          <div className=\"col-6\">\n            <DateInput onChange={this.dateChaged} className=\"form-control datepicker\" placeholder=\"Enter Date\" />\n          </div>\n        </div>\n        </>\n      }>\n        <th>Firstname</th>\n        <th>Lastname</th>\n        <th>Attendance</th>\n      </DataTable>\n\t\t</div>\n\n\t}\n}\n","import React, { Component } from 'react';\nimport lodash from 'lodash';\nimport $ from 'jquery';\n\nimport DateInput from '../components/DateInput';\nimport ShowNotification from './ShowNotification';\nimport confirmAction from '../utils/confirmAction';\n\n\nexport default class StaffAssessmentForm extends Component {\n    state = { error: {}, data: {report: {}}, value: 3, loading: false };\n\n    componentDidUpdate(prevProps,prevState) {\n        if(this.props.edit){\n            if(!lodash.isEqual(this.props.data, prevProps.data)){\n                let data = this.props.data;\n                data.report = data.report ? {...JSON.parse(this.props.data.report)}  : {};\n                this.setState({data: {...this.state.data,...data}})\n            }\n        }\n        if(!lodash.isEqual(this.props.error,prevProps.error)){\n            this.setState({error: {...this.state.error,...this.props.error}})\n        }\n    }\n\n    delete = () => {\n        confirmAction( () => {\n            return axios.delete(`/api/staffs/assessment/${this.props.data.id}`).then(res=>{\n                this.props.close();\n                return {success: 'Deleted!', succes_text: 'Assessment was deleted'};\n            }, error => {\n                throw {error: \"Assessment couldn't be deleted.\"};\n            })\n        }, {loading_title: 'Deleting...', loading_text: 'Deleting Assessment', canceled: \"Deleting Assessment Operation Cancelled\", consequence: 'Assessment information will be lost'});\n    }\n\n    save = () => {\n        this.submit().then(()=>{\n            if(!this.props.edit){\n                this.props.close();\n            }\n        });\n    }\n\n    submit = () => {\n        let data = this.state.data;\n        this.setState({loading: true});\n        return this.props.submit(data).then( res => {\n            if(this.props.edit) {\n                ShowNotification(\"Assessment Successfully Edited\", \"success\", \"nc-check-2\");\n            }else {\n                ShowNotification(\"Assessment Created Successfully\", \"success\", \"nc-check-2\");\n            }\n        }, error => {\n            this.setState({error: error.response.data});\n            return Promise.reject(error.response.data);\n        }).finally(_=>this.setState({loading:false}));\n    }\n\n    close = () => {\n        this.props.close();\n    }\n\n    inputChanged = (event) => {\n        let field = event.target.name;\n        let value = event.target.value;\n        this.setState(state=>(state.data[field] = value,state));\n    }\n\n    render() {\n        let error = this.state.error || {};\n        let designationInvalid='', performanceInvalid='', timingInvalid='', relationshipInvalid='', cleannessInvalid='', commentsInvalid='', fromInvalid='', toInvalid='';\n        if(error.errors) {\n            designationInvalid = error.errors.designation ? 'is-invalid' : '';\n            performanceInvalid = error.errors.performance ? 'is-invalid' : '';\n            timingInvalid = error.errors.timing ? 'is-invalid' : '';\n            relationshipInvalid = error.errors.relationship ? 'is-invalid' : '';\n            cleannessInvalid = error.errors.cleanness ? 'is-invalid' : '';\n            commentsInvalid = error.errors.comments ? 'is-invalid' : '';\n            fromInvalid = error.errors.from ? 'is-invalid' : '';\n            toInvalid = error.errors.to ? 'is-invalid' : '';\n        }\n\n        return <div className=\"container-fluid\">\n            <div className=\"row\">\n                <div className=\"card stacked-form col-12\">\n                    <div className=\"card-header \">\n                        <h4 className=\"card-title\">\n                            Assessment\n                            <div className=\"pull-right\">\n                                <button type=\"button\" disabled={this.state.loading} className=\"btn btn-success\" onClick={this.save} >Save</button>\n                                &nbsp;\n                                <button type=\"button\" disabled={this.state.loading} className=\"btn btn-secondary\" onClick={this.close} >Close</button>\n                                &nbsp;\n                                {this.props.edit && <button type=\"button\" disabled={this.state.loading} className=\"btn btn-danger\" onClick={this.delete} >Delete</button>}\n                            </div>\n                        </h4>\n                    </div>\n                    <div className=\"card-body \">\n                        <form>\n                            {error.message && <div className=\"alert alert-danger\">\n                                <span>\n                                    <b> Error - </b> {error.message}\n                                </span>\n                            </div>}\n                            <div className=\"row\">\n                                <div className=\"form-group col-sm-12 row\">\n                                    <label className=\"col-sm-3 col-form-label\">Designation</label>\n                                    <div className=\"col-sm-9\">\n                                        <input type=\"text\" value={this.state.data.designation || ''} onChange={this.inputChanged} name=\"designation\" placeholder=\"Designation\" className={`form-control ${designationInvalid}`} />\n                                        {designationInvalid && error.errors.designation.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n                                    </div>\n                                </div>\n                                <div className=\"form-group col-sm-6 row\">\n                                    <label className=\"col-sm-6 col-form-label\">Performance</label>\n                                    <div className=\"col-6\">\n                                        <input type=\"text\" value={this.state.data.performance || ''} onChange={this.inputChanged} name=\"performance\" placeholder=\"Performance\" className={`form-control ${performanceInvalid}`} />\n                                        {performanceInvalid && error.errors.performance.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n                                    </div>\n                                </div>\n                                <div className=\"form-group col-sm-6 row\">\n                                    <label className=\"col-sm-6 col-form-label\">Timing</label>\n                                    <div className=\"col-6\">\n                                        <input type=\"text\" value={this.state.data.timing || ''} onChange={this.inputChanged} name=\"timing\" placeholder=\"Timing\" className={`form-control ${timingInvalid}`} />\n                                        {timingInvalid && error.errors.timing.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n                                    </div>\n                                </div>\n                                <div className=\"form-group col-sm-6  row\">\n                                    <label className=\"col-sm-6 col-form-label\">Relationship</label>\n                                    <div className=\"col-6\">\n                                        <input type=\"text\" value={this.state.data.relationship || ''} onChange={this.inputChanged} name=\"relationship\" placeholder=\"Relationship\" className={`form-control ${relationshipInvalid}`} />\n                                        {relationshipInvalid && error.errors.relationship.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n                                    </div>\n                                </div>\n                                <div className=\"form-group col-sm-6 row\">\n                                    <label className=\"col-sm-6 col-form-label\">Cleanness</label>\n                                    <div className=\"col-6\">\n                                        <input type=\"text\" value={this.state.data.cleanness || ''} onChange={this.inputChanged} name=\"cleanness\" placeholder=\"Cleanness\" className={`form-control ${cleannessInvalid}`} />\n                                        {cleannessInvalid && error.errors.cleanness.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n                                    </div>\n                                </div>\n\n                                <div className=\"form-group col-sm-6 row\">\n                                    <label className=\"col-sm-6 col-form-label\">Period From</label>\n                                    <div className=\"col-6\">\n                                        <DateInput type=\"text\" value={this.state.data.from || ''} onChange={this.inputChanged} name=\"from\" placeholder=\"From\" className={`form-control ${fromInvalid}`} />\n                                        {fromInvalid && error.errors.from.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n                                    </div>\n                                </div>\n                                <div className=\"form-group col-sm-6 row\">\n                                    <label className=\"col-sm-6 col-form-label\">Period To</label>\n                                    <div className=\"col-6\">\n                                        <DateInput type=\"text\" value={this.state.data.to || ''} onChange={this.inputChanged} name=\"to\" placeholder=\"To\" className={`form-control ${toInvalid}`} />\n                                        {toInvalid && error.errors.to.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n                                    </div>\n                                </div>\n                                <div className=\"form-group col-sm-12 row\">\n                                    <label className=\"col-sm-3 col-form-label\">Overal Comments</label>\n                                    <div className=\"col-sm-9\">\n                                        <textarea value={this.state.data.comments || ''} onChange={this.inputChanged} name=\"comments\" placeholder=\"Overal Comments\" className={`form-control ${commentsInvalid}`}></textarea>\n                                    </div>\n                                </div>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </div>\n    }\n}","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport {inject} from 'mobx-react';\nimport $ from 'jquery';\n\nimport StaffAssessmentForm from '../components/StaffAssessmentForm';\nimport DataTable from '../components/DataTable';\nimport Tabledit from '../components/Tabledit';\nimport getCookie from '../utils/getCookie';\n\n\n@inject('staffStore')\nexport default class StaffsAssessmentList extends Component {\n    constructor(props) {\n        super(props);\n        window.staffAssessmentActionList = this.showAssessment;\n        const self = this;\n        this.dataTable = React.createRef();\n        this.dataTableConfig = {\n            serverSide: false,\n            processing: false,\n            ajax: function(params, callback, settings) {\n                self.props.staffStore.list({}, true).then(staffs=>{\n                    callback({data: staffs});\n                })\n            },\n            columns: [\n                { data: 'staff_no', name: 'staff_no', 'className': 'text-center'},\n                { data: 'firstname', name: 'firstname', 'className': 'text-center'},\n                { data: 'lastname', name: 'lastname', 'className': 'text-center'},\n                { data: null, 'className': 'text-center', render: function(data,type,row) {\n                    return `<span>\n                      <a onclick=\"staffAssessmentActionList('${data.id}')\" class=\"btn btn-link btn-warning details\"><i class=\"nc-icon nc-bullet-list-67 icon-bold\"></i></a>\n                  </span>`\n                }}\n            ],\n            createdRow: function (row, data, index) {\n                if(data.date_left) {\n                    row.classList.add('table-danger');\n                }\n            }\n        };\n    }\n\n    showAssessment = (staff) => {\n        this.props.history.push(`${this.props.match.url}/${staff}`);\n    }\n\n\trender() {\n\t\tlet match = this.props.match;\n\t\treturn <div className=\"container-fluid\">\n            <DataTable ref={this.dataTable} title=\"Staffs Assessment\" config={this.dataTableConfig}>\n                <th>Staff's No</th>\n                <th>Firstname</th>\n                <th>Lastname</th>\n                <th className=\"disabled-sorting text-center noExport\">Actions</th>\n            </DataTable>\n\t\t</div>\n\n\t}\n}\n\nexport class StaffAssessmentList extends Component {\n    constructor(props) {\n        super(props);\n        window.teacherAssessmentActionEdit = this.edit;\n        this.dataTable = React.createRef();\n        this.dataTableConfig = {\n            serverSide: true,\n            processing: true,\n            ajax: {\n                url: `/api/staffs/assessment/staff/${this.props.match.params.staffId}`,\n                beforeSend: function (request) {\n                      request.setRequestHeader(\"X-XSRF-TOKEN\", getCookie('XSRF-TOKEN'));\n                      request.setRequestHeader(\"Accept\", 'application/json, text/plain, */*');\n                    }\n            },\n            columns: [\n                { data: 'staff_no', name: 'staff_no', 'className': 'text-center'},\n                { data: 'firstname', name: 'firstname', 'className': 'text-center'},\n                { data: 'lastname', name: 'lastname', 'className': 'text-center'},\n                { data: 'from', name: 'from', 'className': 'text-center', render: (data,type,row) => (new Date(data)).toDateString() },\n                { data: 'to', name: 'to', 'className': 'text-center', render: (data,type,row) => (new Date(data)).toDateString() },\n                { data: null, 'className': 'text-center', render: function(data,type,row) {\n                    return `<span>\n                      <a onclick=\"teacherAssessmentActionEdit('${data.id}')\" class=\"btn btn-link btn-warning details\"><i class=\"fa fa-edit\"></i></a>\n                  </span>`\n                }}\n            ]\n        };\n    }\n\n    edit = (assessment) => {\n        this.props.history.push(`${this.props.match.url}/${assessment}`);\n    }\n\n    render() {\n        let match = this.props.match;\n        return <div className=\"container-fluid\">\n            <div className=\"row\">\n                <div className=\"col-md-12\">\n                  <span className=\"pull-right\">\n                    <Link to={`${match.url}/new`} className=\"btn btn-success details\">New Assessment</Link>\n                  </span>\n                </div>\n            </div>\n            <DataTable ref={this.dataTable} title=\"Staff Assessments\" config={this.dataTableConfig}>\n                <th>Staff's No</th>\n                <th>Firstname</th>\n                <th>Lastname</th>\n                <th>From</th>\n                <th>To</th>\n                <th className=\"disabled-sorting text-center noExport\">Actions</th>\n            </DataTable>\n        </div>\n\n    }\n}\n\nexport class StaffAssessmentNew extends Component {\n    state = { error: {}, data: null };\n    submit = (data) => {\n        return axios.post(`/api/staffs/assessment/staff/${this.props.match.params.staffId}`, data).then( res => {\n            this.setState({error: {}, data: res.data})\n            return res;\n        }, error => {\n            this.setState({error: error.response.data});\n            return Promise.reject(error);\n        })\n    }\n\n    close = () => {\n        if(this.state.data){\n            this.props.history.replace(`/school/staffs/assessment/${this.props.match.params.staffId}/${this.state.data.id}`)\n        } else {\n            this.props.history.push(`/school/staffs/assessment/${this.props.match.params.staffId}`);\n        }\n    }\n    render() {\n        return <StaffAssessmentForm error={this.state.error} submit={this.submit} close={this.close} />\n    }\n}\n\nexport class StaffAssessmentEdit extends Component {\n    state = { error: {}, data: {} };\n\n    componentDidMount() {\n        if(this.props.location.state && this.props.location.state.assessment){\n            this.setState({data: this.props.location.state.assessment})\n        }else if(this.props.match.params.assessmentId){\n            axios.get(`/api/staffs/assessment/${this.props.match.params.assessmentId}`).then(response => {\n                this.setState({data: response.data});\n            },error=>this.setState({error:error.response.data}))\n        }\n    }\n\n    submit = (data) => {\n        return axios.put(`/api/staffs/assessment/${this.props.match.params.assessmentId}`, data).then( res => {\n            this.setState({error: {}})\n            return res;\n        }, error => {\n            this.setState({error: error.response.data});\n            return Promise.reject(error);\n        })\n    }\n\n    close = () => {\n        this.props.history.push(`/school/staffs/assessment/${this.props.match.params.staffId}`);\n    }\n\n    render() {\n        return <StaffAssessmentForm edit={true} error={this.state.error} data={this.state.data} submit={this.submit} close={this.close} />\n    }\n}","import React, { Component } from 'react';\nimport { Route } from \"react-router-dom\";\n\nimport AnimatedSwitch from '../components/animated-switch';\n\nimport Staff, {NewStaff, EditStaff} from './Staff';\nimport StaffList, {StaffOffdays, NewStaffOffday, EditStaffOffday} from './StaffOffdays';\nimport StaffAttendance from './StaffAttendance';\nimport StaffsAssessmentList, {StaffAssessmentList, StaffAssessmentNew, StaffAssessmentEdit} from './StaffAssessment';\n\nexport default class TeacherPages extends Component {\n\trender() {\n\t\tlet match = this.props.match;\n\t\treturn <AnimatedSwitch>\n\t\t\t\t\t\t<Route exact path={`${match.path}`} render={(props) => <Staff {...props} /> } />\n\t\t\t\t\t\t<Route path={`${match.path}/new`} render={(props) => <NewStaff {...props} />} />\n\t\t\t\t\t\t<Route path={`${match.path}/attendance`} render={(props) => <StaffAttendance {...props} />} />\n\t\t\t\t\t\t<Route path={`${match.path}/offdays/:staffId/new`} render={(props) => <NewStaffOffday {...props} />} />\n\t\t\t\t\t\t<Route path={`${match.path}/offdays/:staffId/:staffOffdayId`} render={(props) => <EditStaffOffday {...props} />} />\n\t\t\t\t\t\t<Route path={`${match.path}/offdays/:staffId`} render={(props) => <StaffOffdays {...props} />} />\n\t\t\t\t\t\t<Route path={`${match.path}/offdays`} render={(props) => <StaffList {...props} />} />\n\t\t\t\t\t\t<Route path={`${match.path}/assessment/:staffId/new`} render={(props) => <StaffAssessmentNew {...props} />} />\n\t\t\t\t\t\t<Route path={`${match.path}/assessment/:staffId/:assessmentId`} render={(props) => <StaffAssessmentEdit {...props} />} />\n\t\t\t\t\t\t<Route path={`${match.path}/assessment/:staffId`} render={(props) => <StaffAssessmentList {...props} />} />\n\t\t\t\t\t\t<Route path={`${match.path}/assessment`} render={(props) => <StaffsAssessmentList {...props} />} />\n\t\t\t\t\t\t<Route exact path={`${match.path}/:id`} render={(props) => <EditStaff {...props} />} />\n\t\t\t\t\t\t<Route path=\"\"><h1>404 Not Found</h1></Route>\n\t\t\t\t\t</AnimatedSwitch>\n\t}\n}"],"sourceRoot":""}