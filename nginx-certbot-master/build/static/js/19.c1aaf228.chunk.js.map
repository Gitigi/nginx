{"version":3,"sources":["components/SearchInput.js","pages/PayFees.js"],"names":["count","SearchInput","props","state","value","items","item","search","inputAddonClass","keys","UP","DOWN","ENTER","ESC","PLUS","A","Z","SPACE","TAB","nameList","React","createRef","input","hiddenInput","nameDropdown","timeout","handleChange","e","target","setState","_itemSelect","clearTimeout","setTimeout","fetchData","handleFocus","_showDropdown","handleBlur","ns","handleListItemClick","bind","handleMouseOver","this","disabled","fetchItemData","then","res","_setItem","data","prevProp","prevState","lodash","isEqual","name","fetchItems","error","console","log","response","finally","_","id","itemDetails","displayItem","current","classList","contains","preventDefault","which","_handleUpDownKey","_handleEnterKey","_closeDropdown","key","next","$","children","first","length","prev","_highlightListItem","_scrollTo","currentCurrency","_selectListItem","element","middle","container","containerHeight","height","containerTop","offset","top","containerBottom","elementHeight","outerHeight","elementTop","elementBottom","newScrollTop","scrollTop","middleOffset","heightDifference","listItem","removeClass","addClass","userId","attr","user","find","m","val","_setInputValue","userSelected","Object","getOwnPropertyDescriptor","window","HTMLInputElement","prototype","set","call","ev2","Event","bubbles","dispatchEvent","self","style","offsetWidth","remove","isOpening","on","el","w","left","width","h","clientX","clientY","add","off","className","type","ref","onKeyDown","handleKeyDown","placeholder","onChange","onFocus","onBlur","onMouseOver","onClick","map","data-user-id","display","Component","PayFees","organization_id","admission_no","amount","phonenumber","loading","pay","axios","post","location","link","errors","inputChanged","event","field","displayOrganizationDetail","org","toUpperCase","displayStudentDetail","student","firstname","lastname","getOrganizationList","get","params","getOrganizationDetails","getStudentList","getStudentDetails","adm","pathname","match","Swal","fire","icon","title","text","history","replace","organizationIsInvalid","admissionIsInvalid","amountIsInvalid","phoneNumberIsInvalid","Navbar","data-color","data-image","src","marginLeft","marginRight","aria-required","index","role","autoComplete"],"mappings":"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","file":"static/js/19.c1aaf228.chunk.js","sourcesContent":["import React, {Component} from 'react';\nimport axios from 'axios';\nimport lodash from 'lodash';\nimport * as $ from 'jquery'\nimport './SearchInput.css'\n\nvar count = 0;\nexport default class SearchInput extends Component {\n\tconstructor(props){\n\t\tsuper(props);\n\n\t\tthis.ns = '.NameSearchInput-'+count++\n\n\t\tthis.handleListItemClick = this.handleListItemClick.bind(this);\n\t\tthis.handleMouseOver = this.handleMouseOver.bind(this);\n\t}\n\tstate = {value: '', items: [],item: this.props.item || {},search: '',inputAddonClass: 'fa fa-search'}\n\tkeys = {\n      UP: 38,\n      DOWN: 40,\n      ENTER: 13,\n      ESC: 27,\n      PLUS: 43,\n      A: 65,\n      Z: 90,\n      SPACE: 32,\n      TAB: 9\n    };\n\tnameList = React.createRef()\n\tinput = React.createRef()\n\thiddenInput = React.createRef()\n\tnameDropdown = React.createRef()\n\n\tcomponentDidMount(){\n\t\tif(this.props.disabled)\n\t\t\treturn;\n\n\t\tif(this.props.value)\n\t\t\tthis.fetchItemData(this.props.value).then(res => this._setItem(res.data) );\n\t\telse\n\t\t\tthis.fetchData();\n\t}\n\n\tcomponentDidUpdate(prevProp,prevState){\n\t\tif(this.props.disabled)\n\t\t\treturn;\n\t\t\n\t\tif(this.props.item && !lodash.isEqual(this.props.item !== prevProp.item)) {\n\t\t\tthis._setItem(this.props.item);\n\t\t}\n\t\t\n\t\tif(this.props.value !== this.state.value){\n\t\t\tthis.setState({value: this.props.value });\n\t\t\tthis.fetchItemData(this.props.value).then(res => this._setItem(res.data) );\n\t\t}\n\t}\n\n\n\ttimeout = null\n\thandleChange = (e) => {\n\t\tlet value = e.target.value;\n\t\tthis.setState({search: e.target.value}, () => this._itemSelect(null) );\n\n\t\tclearTimeout(this.timeout);\n\t\tthis.timeout = setTimeout(()=>{\n\t\t\tthis.fetchData(value)\n\t\t},500)\n\t}\n\n\tfetchData(name=''){\n\t\tthis.setState({inputAddonClass: 'fa fa-circle-o-notch fa-spin fa-fw'})\n\t\tthis.props.fetchItems(name).then(res=>{\n\t\t\tthis.setState({items: res.data})\n\t\t},error=>console.log(error.response.data)).\n\t\tfinally(_=>this.setState({inputAddonClass: \"fa fa-search\"}))\n\t}\n\n\tfetchItemData(id) {\n\t\tthis.setState({inputAddonClass: 'fa fa-circle-o-notch fa-spin fa-fw'})\n\t\treturn this.props.itemDetails(id).finally(_=>this.setState({inputAddonClass: \"fa fa-search\"}))\n\t}\n\n\tdisplayItem(item) {\n\t\treturn this.props.displayItem ? this.props.displayItem(item) : item;\n\t}\n\n\thandleFocus = () => {\n\t\tthis._showDropdown();\n\t}\n\n\thandleBlur = (e) => {\n\t\t// this._closeDropdown();\n\t}\n\n\thandleKeyDown(e) {\n\t\t//ensure list is visible\n\t\tif(this.nameDropdown.current.classList.contains(\"d-none\")){\n\t\t\tthis._showDropdown();\n\t\t\te.preventDefault();\n\t\t\treturn;\n\t\t}\n\n\t\tif (e.which === this.keys.UP || e.which === this.keys.DOWN) {\n      // up and down to navigate\n      this._handleUpDownKey(e.which);\n    } else if (e.which === this.keys.ENTER) {\n      // enter to select\n      this._handleEnterKey(e);\n    } else if (e.which === this.keys.ESC) {\n      // esc to close\n      this._closeDropdown();\n    }\n\t}\n\n\t// highlight the next/prev item in the list (and ensure it is visible)\n  _handleUpDownKey(key) {\n    var current = $(this.nameList.current).children(\".highlight\").first();\n    let next;\n    if(current.length){\n    \tnext = key === this.keys.UP ? current.prev() : current.next();\n    }else{\n    \tnext = $(this.nameList.current).children(\":first\");\n    }\n\n    if (next.length) {\n      this._highlightListItem(next);\n      this._scrollTo(next);\n    }\n  }\n\n  // select the currently highlighted item\n  _handleEnterKey(e) {\n  \te.preventDefault();\n    var currentCurrency = $(this.nameList.current).children(\".highlight\").first();\n    if (!currentCurrency.length)\n    \tcurrentCurrency = $(this.nameList.current).children().first();\n    if (currentCurrency.length) {\n      this._selectListItem(currentCurrency);\n      this._closeDropdown();\n    }\n  }\n\n  _scrollTo(element,middle) {\n  \telement = $(element);\n  \tvar container = $(this.nameList.current), containerHeight = container.height(), containerTop = container.offset().top, containerBottom = containerTop + containerHeight, elementHeight = element.outerHeight(), elementTop = element.offset().top, elementBottom = elementTop + elementHeight, newScrollTop = elementTop - containerTop + container.scrollTop(), middleOffset = containerHeight / 2 - elementHeight / 2;\n    if (elementTop < containerTop) {\n      // scroll up\n      if (middle) {\n        newScrollTop -= middleOffset;\n      }\n      container.scrollTop(newScrollTop);\n    } else if (elementBottom > containerBottom) {\n      // scroll down\n      if (middle) {\n        newScrollTop += middleOffset;\n      }\n      var heightDifference = containerHeight - elementHeight;\n      container.scrollTop(newScrollTop - heightDifference);\n    }\n  }\n\n\thandleMouseOver(e) {\n\t\tif(e.target.classList.contains('name-item'))\n\t\t\tthis._highlightListItem(e.target)\n\t}\n\n\thandleListItemClick(e){\n\t\tvar currentCurrency = $(this.nameList.current).children(\".highlight\").first();\n    if (currentCurrency.length) {\n      this._selectListItem(currentCurrency);\n      this._closeDropdown();\n    }\n\t}\n\n\t// remove highlighting from other list items and highlight the given item\n  _highlightListItem(listItem) {\n    $(this.nameList.current.children).removeClass(\"highlight\");\n    $(listItem).addClass(\"highlight\");\n  }\n\n  _selectListItem(listItem) {\n  \tlet userId = $(listItem).attr('data-user-id')\n  \tlet user = this.state.items.find(m => m.id == userId);\n  \tthis._itemSelect(user)\n  }\n\n  _itemSelect(item) {\n  \tif(item){\n  \t\tthis._setItem(item);\n  \t\tlet val = this.props.data ? item[this.props.data] : item;\n  \t\tthis._setInputValue(val);\n  \t} else {\n  \t\tthis._setInputValue('');\n  \t}\n\n  \tif(this.props.userSelected)\n  \t\tthis.props.userSelected(item);\n  }\n\n  _setInputValue(value) {\n  \tthis.setState({value});\n  \tvar nativeInputValueSetter = Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype, \"value\").set;\n\t\tnativeInputValueSetter.call(this.hiddenInput.current, value);\n\t\tvar ev2 = new Event('input', { bubbles: true});\n\t\tthis.hiddenInput.current.dispatchEvent(ev2);\n  }\n\n  _setItem(item) {\n  \tlet name = this.displayItem(item);\n  \tthis.setState({search: name,item})\n  }\n\n\t_showDropdown() {\n\t\tlet self = this;\n\t\tthis.nameDropdown.current.style['width'] = `${this.input.current.offsetWidth}px`;\n\t\tthis.nameDropdown.current.classList.remove(\"d-none\");\n\t\tvar isOpening = true;\n\t\t$(\"html\").on(\"click\" + self.ns, function (e) {\n      if (!isOpening) {\n      \tlet el = $(self.nameDropdown.current)\n      \tlet offset = el.offset();\n      \tlet w = offset.left + el.width();\n      \tlet h = offset.top + el.height();\n      \tif (!(e.clientX>=offset.left && e.clientX<=w && e.clientY>=offset.top && e.clientY<=h)){\n      \t\tself._closeDropdown();\n      \t}\n\t    }\n\t    isOpening = false;\n    });\n\t}\n\n\t_closeDropdown() {\n\t\tthis.nameDropdown.current.classList.add(\"d-none\");\n\t\t$(\"html\").off(this.ns);\n\t}\n\n\trender() {\n\t\treturn <>\n\n\t\t\t\t<div className=\"input-group\">\n\t\t\t\t  <input type=\"text\"\n\t\t\t\t  \tref={this.input}\n\t\t\t\t  \tonKeyDown={this.handleKeyDown.bind(this)}\n\t\t\t\t  \tclassName={`form-control ${this.props.className}`}\n\t\t\t\t  \tplaceholder={this.props.placeholder}\n\t\t\t\t  \tonChange={this.handleChange}\n\t\t\t\t\t\tonFocus={this.handleFocus}\n\t\t\t\t\t\tonBlur={this.handleBlur}\n\t\t\t\t\t\tvalue={this.state.search}\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tclassName={`form-control ${this.props.className}`}\n\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t  \taria-label={this.props.placeholder}\n\t\t\t\t  \taria-describedby=\"basic-addon2\"\n\t\t\t\t  \tname={this.props.name}\n\t\t\t\t  \tdisabled={this.props.disabled} />\n\t\t\t\t  <div className=\"input-group-append\">\n\t\t\t\t    <span className=\"input-group-text\" id=\"basic-addon2\"><i className={this.state.inputAddonClass}></i></span>\n\t\t\t\t  </div>\n\t\t\t\t</div>\n\n\t\t\t\t<div ref={this.nameDropdown} className=\"names-dropdown-container d-none\">\n\t\t\t\t\t<ul ref={this.nameList} className=\"name-list\" onMouseOver={this.handleMouseOver} onClick={this.handleListItemClick}>\n\t\t\t\t\t\t{this.state.items.map(m => <li key={m.id} className=\"name-item\" data-user-id={m.id}>\n\t\t\t\t\t\t\t<span className=\"name\" >{this.displayItem(m)}</span></li>)}\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t\t<input onChange={this.props.onChange} name={this.props.name} style={{display: 'none'}} ref={this.hiddenInput} value={this.state.value} />\n\t\t\t</>\n\t}\n}","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { inject, observer } from \"mobx-react\";\nimport axios from 'axios';\nimport lodash from 'lodash';\nimport Swal from 'sweetalert2'\n\nimport Navbar from '../components/Navbar';\nimport Footer from '../components/Footer';\n\nimport SearchInput from '../components/SearchInput';\n\nexport default class PayFees extends Component {\n\tstate = {error: {}, organization_id: '', admission_no: '', amount: '', phonenumber: '', loading: false };\n\n\tcomponentDidMount() {\n\t\tif(this.props.location.pathname == \"/pay-fees/success\") {\n\t\t\tlet id = this.props.location.search.match(/ref=([^&]+)/)[1];\n\t\t\taxios.get(`/api/pay-fees/${id}`).then(res=>{\n\t\t\t\tSwal.fire({\n\t\t\t\t  icon: 'success',\n\t\t\t\t  title: 'Payment Received',\n\t\t\t\t  text: `${res.data.firstname} ${res.data.lastname} payed ${res.data.amount}`\n\t\t\t\t}).then( () => {\n\t\t\t\t\tthis.props.history.replace('/pay-fees');\n\t\t\t\t});\n\t\t\t})\n\t\t}\n\t}\n\n\tpay = () => {\n\t\tthis.setState({loading: true});\n\t\tlet {organization_id, admission_no, amount, phonenumber} = this.state;\n\t\taxios.post('/api/pay-fees',{organization_id, admission_no, amount, phonenumber}).then(res=>{\n\t\t\twindow.location = res.data.link;\n\t\t},error => {\n\t\t\tthis.setState({error: error.response.data.errors});\n\t\t\tthis.setState({loading: false});\n\t\t});\n\t}\n\n\tinputChanged = (event) => {\n\t\tlet field = event.target.name;\n\t\tlet value = event.target.value;\n\t\tif(field == 'organization_id') {\n\t\t\tthis.setState({'organization_id': value, 'admission_no': ''});\n\t\t}else{\n\t\t\tthis.setState({[field]: event.target.value});\n\t\t}\n\t}\n\n\tdisplayOrganizationDetail = (org) => {\n\t\treturn org.name.toUpperCase() + (org.location ? ` | ${org.location.toUpperCase()} ` : '');\n\t}\n\n\tdisplayStudentDetail = (student) => {\n\t\treturn student.admission_no + ' | ' + student.firstname.toUpperCase() + ' ' + student.lastname.toUpperCase();\n\t}\n\n\tgetOrganizationList = (search) => {\n\t\treturn axios.get(\"/api/pay-fees/search-organization\", {params: {name: search}});\n\t}\n\n\tgetOrganizationDetails = (id) => {\n\t\treturn axios.get(`/api/pay-fees/organization/${id}`)\n\t}\n\n\tgetStudentList = (search) => {\n\t\treturn axios.get(\"/api/pay-fees/search-student\", {params: {admission_no: search, organization_id: this.state.organization_id}});\n\t}\n\n\tgetStudentDetails = (adm) => {\n\t\treturn axios.get(`/api/pay-fees/student/${this.state.organization_id}/${adm}`);\n\t}\n\n\trender() {\n\t\tlet organizationIsInvalid = this.state.error.organization_id ? 'is-invalid' : '';\n\t\tlet admissionIsInvalid = this.state.error.admission_no ? 'is-invalid' : '';\n\t\tlet amountIsInvalid = this.state.error.amount ? 'is-invalid' : '';\n\t\tlet phoneNumberIsInvalid = this.state.error.phonenumber ? 'is-invalid' : '';\n\n\t\tlet match = this.props.match;\n\t\treturn <div className=\"wrapper wrapper-full-page\">\n\t\t\t<Navbar match={match} />\n\t\t\t<div className=\"full-page register-page section-image\" data-color=\"orange\" data-image=\"/theme/img/bg5.jpg\">\n        <div className=\"content\">\n          <div className=\"container\">\n\t\t\t\t\t\t<form id=\"login-form\">\n\t\t\t\t\t\t\t<div className=\"col-md-4 col-sm-6 ml-auto mr-auto\">\n\t\t\t\t\t\t\t\t<div className=\"card card-login\">\n\t\t\t\t\t\t\t\t\t<div className=\"card-body \">\n\t\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"card-header \">\n\t\t\t\t\t\t\t\t\t\t\t\t<img src=\"/img/logo.jpg\" style={{display: 'block', marginLeft: 'auto', marginRight: 'auto', width: '50%'}} />\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t                    <label>Organization Name</label>\n\t\t                    <div className=\"form-group required\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<SearchInput\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfetchItems={this.getOrganizationList}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\titemDetails={this.getOrganizationDetails}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisplayItem = {this.displayOrganizationDetail}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata=\"id\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.organization_id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.inputChanged}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"organization_id\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={`form-control ${organizationIsInvalid}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Organization Name\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\taria-required=\"true\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t{this.state.error.organization_id && this.state.error.organization_id.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t              \t\t\t<div className=\"form-group\">\n\t                  \t\t<label>Admission Number</label>\n\t                  \t\t<div className=\"form-group required\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<SearchInput\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!this.state.organization_id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfetchItems={this.getStudentList}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\titemDetails={this.getStudentDetails}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisplayItem = {this.displayStudentDetail}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata=\"admission_no\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.admission_no}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.inputChanged}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"admission_no\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={`form-control ${admissionIsInvalid}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Admission Number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\taria-required=\"true\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t{this.state.error.admission_no && this.state.error.admission_no.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"form-group\">\n\t                  \t\t<label>Amount</label>\n\t                  \t\t<div className=\"form-group required\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input value={this.state.amount} onChange={this.inputChanged} name=\"amount\" type=\"text\" className={`form-control ${amountIsInvalid}`} placeholder=\"Amount\" autoComplete=\"off\" aria-required=\"true\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t{this.state.error.amount && this.state.error.amount.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"form-group\">\n\t                  \t\t<label>Phone Number</label>\n\t                  \t\t<div className=\"form-group required\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input value={this.state.phonenumber} onChange={this.inputChanged} name=\"phonenumber\" type=\"text\" className={`form-control ${phoneNumberIsInvalid}`} placeholder=\"Phone Number\" autoComplete=\"off\" aria-required=\"true\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t{this.state.error.phonenumber && this.state.error.phonenumber.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t                \n\t          \t\t\t\t</div>\n\t      \t\t\t\t\t</div>\n\t\t\t\t\t        <div className=\"card-footer ml-auto mr-auto\">\n\t\t\t\t\t          <button disabled={this.state.loading} onClick={this.pay} type=\"button\" className=\"btn btn-warning btn-wd\" name=\"signup-button\">Pay</button>\n\t\t\t\t\t        </div>\n  \t\t\t\t\t\t\t</div>\n  \t\t\t\t\t\t</div>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t}\n}"],"sourceRoot":""}