{"version":3,"sources":["components/DataTable.js","utils/getCookie.js","utils/confirmAction.js","components/DateInput.js","libs/dataTables.cellEdit.js","components/StudentForm.js","components/CardStats.js","components/FeeCategoryForm.js","pages/FeeStructure.js","components/FeePaymentForm.js","pages/FeePayment.js","pages/FeeBalance.js","components/Checkbox.js","components/DebtForm.js","pages/Debt.js","components/ExpenditureForm.js","pages/Expenditure.js","pages/Finance.js","pages/FinancePages.js"],"names":["DataTable","props","tableEl","React","createRef","state","table","draw","highlightRow","row","data","jRow","$","tooltip","title","__meta_pending","className","__meta_error","message","error","errors","Object","keys","errorSub","classList","add","softDeleteField","remove","toggle","placement","self","defaultConfig","dom","buttons","extend","text","titleAttr","exportOptions","columns","responsive","language","search","searchPlaceholder","rowCallback","this","initTable","current","find","config","configRowCallback","prevProp","prevState","lodash","isEqual","destroy","toolbar","ref","cellSpacing","width","style","children","Component","getCookie","cname","name","ca","decodeURIComponent","document","cookie","split","i","length","c","charAt","substring","indexOf","action","Swal","fire","consequence","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","yes","then","result","value","loadingModal","loading","loading_text","showConfirmButton","onBeforeOpen","showLoading","res","closeModal","success","succes_text","footer","dismiss","DismissReason","cancel","canceled","DateInput","date","dateInput","hiddenInput","jquery","datepicker","format","zIndexOffset","on","e","handleChange","reverse","join","val","Date","getDate","target","getOwnPropertyDescriptor","window","HTMLInputElement","prototype","set","call","ev2","Event","bubbles","dispatchEvent","onChange","bind","type","display","jQuery","fn","dataTable","Api","register","settings","updateEditableCell","callingElement","closest","parents","cell","columnIndex","index","column","inputField","prop","toLowerCase","siblings","getInputField","newValue","_addValidationCss","allowNulls","errorClass","addClass","css","_update","oldValue","onUpdate","onValidate","page","info","cancelEditableCell","body","off","currentColumnIndex","editableCellsRow","node","cellValue","isNaN","replace","sanitizeCellValue","input","inputSetting","inputType","inputCss","confirmCss","cancelCss","startWrapperHtml","endWrapperHtml","listenToKeys","inputTypes","each","setting","wrapperHtml","elements","confirmationButton","html","options","option","focus","ui","alert","setTimeout","showOn","buttonImage","buttonImageOnly","buttonText","getInputHtml","StudentForm","inject","defaults","firstname","lastname","admission_no","class_id","stream_id","fathers_name","fathers_contact","mothers_name","mothers_contact","dob","doa","gender","entry_marks","previewUrl","classes","inputChanged","field","event","parseInt","setState","profileChanged","files","reader","FileReader","onload","readAsDataURL","saveContinue","submit","save","close","apply","edit","ShowNotification","finally","_","discontinue","confirmAction","loading_title","restore","delete","cancelAsync","a","isEmpty","handleSubmit","preventDefault","submitAction","chooseAction","classesStore","list","prevProps","profile","url","startsWith","firstnameInvalid","lastnameInvalid","admissionNoInvalid","genderInvalid","entryMarksInvalid","fathersNameInvalid","fathersContactInvalid","mothersNameInvalid","mothersContactInvalid","classInvalid","streamInvalid","dobInvalid","doaInvalid","streams","selectedClass","cls","id","dod","onClick","method","onSubmit","placeholder","required","map","key","role","src","height","alt","position","bottom","top","right","left","aria-describedby","disabled","stream","CardStats","category","StockForm","amount","teachers","response","Promise","reject","axios","nameInvalid","amountInvalid","FeeStructure","history","push","match","filterChanged","feeCategoryActionEdit","total","totalCommon","totalClass","location","dataTableConfig","paging","searching","serverSide","processing","ajax","params","callback","get","render","to","FeeCategoryNew","classId","post","FeeCategoryEdit","put","categoryId","feeCategory","TeacherForm","dateInvalid","methodInvalid","FeePayment","payment","todListActionEdit","toDateString","FeePaymentNew","FeePaymentEdit","paymentId","FeeBalance","dateRef","Checkbox","inputEl","stopPropagation","checked","marginLeft","data-toggle","data-on-color","data-off-color","data-on-text","data-off-text","DebtForm","debtor","due","relieved","debtorInvalid","dueInvalid","Debt","debt","DebtNew","DebtEdit","debtId","ExpenditureForm","expensable_type","cause","debt_id","stock_item_id","quantity","debts","stockItems","staffs","typeInvalid","causeInvalid","staffInvalid","stockItemInvalid","stockQuantityInvalid","staff_id","elRef","size","unescape","item","staff","Expenditure","expenditure","expenditureListActionEdit","toUpperCase","ExpenditureNew","ExpenditureEdit","expenditureId","Finance","finances","initChart","Chartist","Pie","series","donut","donutWidth","startAngle","showLabel","axisX","showGrid","calculateChartStat","fees","payments","balance_down","b","balance","p","parse","outstanding","unpayed","labels","Math","floor","calculateBalance","FinancePages","path","exact"],"mappings":"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","file":"static/js/8.8455fe0b.chunk.js","sourcesContent":["import React, {Component} from 'react';\n\nimport lodash from 'lodash';\n\nimport 'datatables.net-bs4';\nimport 'datatables.net-buttons-bs4';\nimport 'datatables.net-buttons/js/buttons.html5.js';\nimport 'datatables.net-colreorder-bs4';\nimport 'datatables.net-fixedcolumns-bs4';\nimport 'datatables.net-fixedheader-bs4';\nimport 'datatables.net-responsive-bs4';\nimport 'datatables.net-rowgroup-bs4';\nimport 'datatables.net-rowreorder-bs4';\nimport 'datatables.net-scroller-bs4';\nimport 'datatables.net-select-bs4';\nimport '../libs/dataTables.cellEdit';\n\n//datatables dependencies\n// import jsZip from  'jszip';\n// import 'pdfmake';\n// import pdfFonts from 'pdfmake/build/vfs_fonts.js';\n\n// pdfMake.vfs = pdfFonts.pdfMake.vfs;\n// window.JSZip = jsZip;\n\nexport default class DataTable extends Component {\n  tableEl = React.createRef();\n  state = {}\n  table = null;\n  constructor(props) {\n    super(props);\n    const self = this;\n    this.defaultConfig = {\n      \"pagingType\": \"full_numbers\",\n      \"lengthMenu\": [\n        [10, 25, 50, 100, -1],\n        [10, 25, 50, 100, \"All\"]\n      ],\n      dom: 'rt<\"bottom\"lpi><\"clear\">',\n      buttons: [\n        {\n          extend:    'excelHtml5',\n          text:      '<i class=\"fa fa-file-excel-o text-info\"></i>',\n          titleAttr: 'Excel',\n          exportOptions: {\n            columns: \"thead th:not(.noExport)\"\n          }\n        }\n      ],\n      responsive: true,\n      language: {\n        search: \"_INPUT_\",\n        searchPlaceholder: \"Search records\",\n      },\n      rowCallback: function( row, data ) {\n        let jRow = $(row);\n        jRow.tooltip('dispose');\n        let title = '';\n        if(data.__meta_pending) {\n            title = 'Pending - ';\n            let className = 'table-dark';\n            if(data.__meta_error && data.__meta_error.message) {\n                className = (data.__meta_error.message !== \"Network Error\") ? 'table-warning' : className;\n                let error = data.__meta_error;\n                title += error.message;\n                if(error.errors) {\n                    for(let errorSub of Object.keys(error.errors) ){\n                      title += '\\n' + error.errors[errorSub];\n                    }\n                }\n            }\n            row.classList.add(className);\n        } else if(data[self.props.softDeleteField]) {\n            title = 'Discontinued';\n            row.classList.add('table-danger');\n        } else {\n          row.classList.remove('table-warning');\n          row.classList.remove('table-dark');\n          row.classList.remove('table-danger');\n        }\n\n        if(title)\n            jRow.tooltip({toggle: \"tooltip\", placement: \"bottom\", title });\n      }\n    };\n  }\n  \n  componentDidMount() {\n    this.initTable();\n  }\n\n  componentWillUnmount() {\n      $(this.tableEl.current).find('tr[title]').tooltip('dispose');\n  }\n\n  initTable() {\n    const self = this;\n    let config = this.props.config || {};\n    let configRowCallback = this.props.config.rowCallback;\n    config.rowCallback = (row, data) => {\n      self.highlightRow(row, data);\n      configRowCallback && configRowCallback(row, data);\n    };\n    this.table = $(this.tableEl.current).DataTable({...this.defaultConfig, ...config});\n  }\n\n  componentDidUpdate(prevProp,prevState) {\n    if(!lodash.isEqual(prevProp.config, this.props.config)) {\n      this.table.destroy();\n      this.initTable();\n    }\n  }\n\n  draw = () => {\n    this.table.draw();\n  }\n\n  highlightRow = (row, data) => {\n    let jRow = $(row);\n      jRow.tooltip('dispose');\n      let title = '';\n      if(data.__meta_pending) {\n          title = 'Pending - ';\n          let className = 'table-dark';\n          if(data.__meta_error && data.__meta_error.message) {\n              className = (data.__meta_error.message !== \"Network Error\") ? 'table-warning' : className;\n              let error = data.__meta_error;\n              title += error.message;\n              if(error.errors) {\n                  for(let errorSub of Object.keys(error.errors) ){\n                    title += '\\n' + error.errors[errorSub];\n                  }\n              }\n          }\n          row.classList.add(className);\n      } else if(data[this.props.softDeleteField]) {\n          title = 'Discontinued';\n          row.classList.add('table-danger');\n      } else {\n        row.classList.remove('table-warning');\n        row.classList.remove('table-dark');\n        row.classList.remove('table-danger');\n      }\n\n      if(title)\n          jRow.tooltip({toggle: \"tooltip\", placement: \"bottom\", title });\n  }\n\n  render() {\n    return <div className=\"row\">\n      <div className=\"col-md-12\">\n        <div className=\"card data-tables\">\n        <div className=\"card-header text-center\">\n          <h3>{this.props.title}</h3>\n        </div>\n        <div className=\"card-body table-striped table-no-bordered table-hover dataTable dtr-inline table-full-width\">\n          <div className=\"toolbar col-12\">\n            <div className=\"row\">\n              {this.props.toolbar}\n            </div>\n          </div>\n          <div className=\"fresh-datatables\">\n          <table ref={this.tableEl} className=\"table table-striped table-no-bordered table-hover\" cellSpacing=\"0\" width=\"100%\" style={{width: '100%'}}>\n            <thead>\n              <tr>\n                {this.props.children}\n              </tr>\n            </thead>\n            <tfoot>\n              <tr>\n                {this.props.children}\n              </tr>\n            </tfoot>\n          </table>\n          </div>\n        </div>\n        </div>\n      </div>\n    </div>\n  }\n}\n","export default function getCookie(cname) {\n  var name = cname + \"=\";\n  var decodedCookie = decodeURIComponent(document.cookie);\n  var ca = decodedCookie.split(';');\n  for(var i = 0; i <ca.length; i++) {\n  var c = ca[i];\n  while (c.charAt(0) == ' ') {\n    c = c.substring(1);\n  }\n  if (c.indexOf(name) == 0) {\n    return c.substring(name.length, c.length);\n  }\n  }\n  return \"\";\n}","import Swal from 'sweetalert2';\n\nexport default function(action, config={} ) {\n\treturn Swal.fire({\n\t  title: 'Are you sure?',\n\t  text: config.consequence || \"You won't be able to revert this!\",\n\t  icon: 'warning',\n\t  showCancelButton: true,\n\t  confirmButtonColor: '#3085d6',\n\t  cancelButtonColor: '#d33',\n\t  confirmButtonText:  config.yes || 'Yes'\n\t}).then((result) => {\n\t  if (result.value) {\n\t  \tlet loadingModal = Swal.fire({\n\t      title: config.loading || 'Waiting...',\n\t      text: config.loading_text || 'waiting for operation to complete',\n\t      showConfirmButton: false,\n\t      onBeforeOpen: () => {\n\t   \t \t\tSwal.showLoading()\n\t   \t \t}\n\t    });\n\n\t    action().then(res=>{\n\t  \t\tloadingModal.closeModal();\n\t  \t\tSwal.fire(\n\t\t      res.success,\n\t\t      res.succes_text,\n\t\t      'success'\n\t\t    );\n\t\t\t}, error => {\n\t\t\t\tloadingModal.closeModal();\n\t\t\t\tSwal.fire({\n\t\t\t\t  icon: 'error',\n\t\t\t\t  title: 'Oops...',\n\t\t\t\t  text: error.error,\n\t\t\t\t  footer: error.footer || ''\n\t\t\t\t});\n\t\t\t});\n\t  }\n\t  else if (result.dismiss === Swal.DismissReason.cancel) {\n\t    Swal.fire(\n\t      'Cancelled',\n\t      config.canceled,\n\t      'error'\n\t    )\n\t  }\n\t});\n}","import React, {Component} from 'react';\n// import 'eonasdan-bootstrap-datetimepicker'\n// import 'eonasdan-bootstrap-datetimepicker/build/css/bootstrap-datetimepicker.min.css';\nimport 'bootstrap-datepicker'\nimport 'bootstrap-datepicker/dist/css/bootstrap-datepicker.min.css';\nimport jquery from 'jquery';\n\nexport default class DateInput extends Component {\n\tstate = {date: ''}\n\tdateInput = React.createRef()\n\thiddenInput = React.createRef()\n\tcomponentDidMount(){\n\t\tvar self = this;\n\t\tjquery(this.dateInput.current).datepicker({format: 'dd/mm/yyyy',zIndexOffset: 1040}).on('changeDate changeMonth changeYear',e=>self.handleChange(e))\n\t\tthis.dateInput.current.value = this.props.value ? this.props.value.split('-').reverse().join('/') : '';\n\t}\n\tcomponentDidUpdate(prevProp,prevState){\n\t\tif(prevProp.value !== this.props.value){\n\t\t\tlet val = this.props.value ? this.props.value.split('-').reverse().join('/') : '';\n\t\t\tthis.dateInput.current.value = val;\n\t\t\tif((new Date(this.props.value)).getDate())\n\t\t\t\tjquery(this.dateInput.current).datepicker('setDate',val);\n\t\t}\n\t}\n\thandleChange(e){\n\t\tlet val = e.target.value.split('/').reverse().join('-');\n\t\tvar nativeInputValueSetter = Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype, \"value\").set;\n\t\tnativeInputValueSetter.call(this.hiddenInput.current, val);\n\n\t\tvar ev2 = new Event('input', { bubbles: true});\n\t\tthis.hiddenInput.current.dispatchEvent(ev2);\n\t}\n\trender(){\n\t\tlet props = {...this.props};\n\t\tdelete props.value;\n\t\treturn <>\n\t\t\t<input onChange={this.handleChange.bind(this)} {...props} type='text' ref={this.dateInput} />\n\t\t\t<input onChange={this.props.onChange} name={this.props.name} style={{display: 'none'}} ref={this.hiddenInput} value={this.state.date} />\n\t\t</>\n\t}\n}","/*! CellEdit 1.0.19\n * ©2016 Elliott Beaty - datatables.net/license\n */\n\n/**\n * @summary     CellEdit\n * @description Make a cell editable when clicked upon\n * @version     1.0.19\n * @file        dataTables.editCell.js\n * @author      Elliott Beaty\n * @contact     elliott@elliottbeaty.com\n * @copyright   Copyright 2016 Elliott Beaty\n *\n * This source file is free software, available under the following license:\n *   MIT license - http://datatables.net/license/mit\n *\n * This source file is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY\n * or FITNESS FOR A PARTICULAR PURPOSE. See the license files for details.\n *\n * For details please refer to: http://www.datatables.net\n */\n\njQuery.fn.dataTable.Api.register('MakeCellsEditable()', function (settings) {\n    var table = this.table();\n\n    jQuery.fn.extend({\n        // UPDATE\n        updateEditableCell: function (callingElement) {\n            // Need to redeclare table here for situations where we have more than one datatable on the page. See issue6 on github\n            var table = $(callingElement).closest(\"table\").DataTable().table();\n            var row = table.row($(callingElement).parents('tr'));\n            var cell = table.cell($(callingElement).parents('td, th'));\n            var columnIndex = cell.index().column;\n            var inputField =getInputField(callingElement);\n\n            // Update\n            var newValue = inputField.val();\n            if (!newValue && ((settings.allowNulls) && settings.allowNulls != true)) {\n                // If columns specified\n                if (settings.allowNulls.columns) {\n                    // If current column allows nulls\n                    if (settings.allowNulls.columns.indexOf(columnIndex) > -1) {\n                        _update(newValue);\n                    } else {\n                        _addValidationCss();\n                    }\n                    // No columns allow null\n                } else if (!newValue) {\n                    _addValidationCss();\n                }\n                //All columns allow null\n            } else if (newValue && settings.onValidate) {\n                if (settings.onValidate(cell, row, newValue)) {\n                    _update(newValue);\n                } else {\n                    _addValidationCss();\n                }\n            }\n            else {\n                _update(newValue);\n            }\n            function _addValidationCss() {\n                // Show validation error\n                if (settings.allowNulls.errorClass) {\n                    $(inputField).addClass(settings.allowNulls.errorClass);\n                } else {\n                    $(inputField).css({ \"border\": \"red solid 1px\" });\n                }\n            }\n            function _update(newValue) {\n                var oldValue = cell.data();\n                cell.data(newValue);\n                //Return cell & row.\n                settings.onUpdate(cell, row, oldValue);\n            }\n            // Get current page\n            var currentPageIndex = table.page.info().page;\n\n            //Redraw table\n            // table.page(currentPageIndex).draw(false);\n        },\n        // CANCEL\n        cancelEditableCell: function (callingElement) {\n            var table = $(callingElement.closest(\"table\")).DataTable().table();\n            var cell = table.cell($(callingElement).parents('td, th'));\n            // Set cell to it's original value\n            cell.data(cell.data());\n\n            // Redraw table\n            table.draw();\n        }\n\n\n    });\n\n    // Destroy\n    if (settings === \"destroy\") {\n        $(table.body()).off(\"click\", \"td\");\n        table = null;\n    }\n\n    if (table != null) {\n        // On cell click\n        $(table.body()).on('click', 'td', function () {\n\n            var currentColumnIndex = table.cell(this).index().column;\n\n            // DETERMINE WHAT COLUMNS CAN BE EDITED\n            if ((settings.columns && settings.columns.indexOf(currentColumnIndex) > -1) || (!settings.columns)) {\n                var row = table.row($(this).parents('tr'));\n                editableCellsRow = row;\n\n                var cell = table.cell(this).node();\n                var oldValue = table.cell(this).data();\n                // Sanitize value\n                oldValue = sanitizeCellValue(oldValue);\n\n                // Show input\n                if (!$(cell).find('input').length && !$(cell).find('select').length && !$(cell).find('textarea').length) {\n                    // Input CSS\n                    var input = getInputHtml(currentColumnIndex, settings, oldValue);\n                    $(cell).html(input.html);\n                    if (input.focus) {\n                        $('#ejbeatycelledit').focus();\n                    }\n                }\n            }\n        });\n    }\n\n});\n\nfunction getInputHtml(currentColumnIndex, settings, oldValue) {\n    var inputSetting, inputType, input, inputCss, confirmCss, cancelCss, startWrapperHtml = '', endWrapperHtml = '', listenToKeys = false;\n\n    input = {\"focus\":true,\"html\":null};\n\n    if(settings.inputTypes){\n\t\t$.each(settings.inputTypes, function (index, setting) {\n\t\t\tif (setting.column == currentColumnIndex) {\n\t\t\t\tinputSetting = setting;\n\t\t\t\tinputType = inputSetting.type.toLowerCase();\n\t\t\t}\n\t\t});\n\t}\n\n    if (settings.inputCss) { inputCss = settings.inputCss; }\n    if (settings.wrapperHtml) {\n        var elements = settings.wrapperHtml.split('{content}');\n        if (elements.length === 2) {\n            startWrapperHtml = elements[0];\n            endWrapperHtml = elements[1];\n        }\n    }\n    \n    if (settings.confirmationButton) {\n        if (settings.confirmationButton.listenToKeys) { listenToKeys = settings.confirmationButton.listenToKeys; }\n        confirmCss = settings.confirmationButton.confirmCss;\n        cancelCss = settings.confirmationButton.cancelCss;\n        inputType = inputType + \"-confirm\";\n    }\n    switch (inputType) {\n        case \"list\":\n            input.html = startWrapperHtml + \"<select class='\" + inputCss + \"' onchange='$(this).updateEditableCell(this);'>\";\n            $.each(inputSetting.options, function (index, option) {\n                if (oldValue == option.value) {\n                   input.html = input.html + \"<option value='\" + option.value + \"' selected>\" + option.display + \"</option>\"\n                } else {\n                   input.html = input.html + \"<option value='\" + option.value + \"' >\" + option.display + \"</option>\"\n                }\n            });\n            input.html = input.html + \"</select>\" + endWrapperHtml;\n            input.focus = false;\n            break;\n        case \"list-confirm\": // List w/ confirm\n            input.html = startWrapperHtml + \"<select class='\" + inputCss + \"'>\";\n            $.each(inputSetting.options, function (index, option) {\n                if (oldValue == option.value) {\n                   input.html = input.html + \"<option value='\" + option.value + \"' selected>\" + option.display + \"</option>\"\n                } else {\n                   input.html = input.html + \"<option value='\" + option.value + \"' >\" + option.display + \"</option>\"\n                }\n            });\n            input.html = input.html + \"</select>&nbsp;<a href='javascript:void(0);' class='\" + confirmCss + \"' onclick='$(this).updateEditableCell(this);'>Confirm</a> <a href='javascript:void(0);' class='\" + cancelCss + \"' onclick='$(this).cancelEditableCell(this)'>Cancel</a>\" + endWrapperHtml;\n            input.focus = false;\n            break;\n        case \"datepicker\": //Both datepicker options work best when confirming the values\n        case \"datepicker-confirm\":\n            // Makesure jQuery UI is loaded on the page\n            if (typeof jQuery.ui == 'undefined') {\n                alert(\"jQuery UI is required for the DatePicker control but it is not loaded on the page!\");\n                break;\n            }\n\t        jQuery(\".datepick\").datepicker(\"destroy\");\n\t        input.html = startWrapperHtml + \"<input id='ejbeatycelledit' type='text' name='date' class='datepick \" + inputCss + \"'   value='\" + oldValue + \"'></input> &nbsp;<a href='javascript:void(0);' class='\" + confirmCss + \"' onclick='$(this).updateEditableCell(this)'>Confirm</a> <a href='javascript:void(0);' class='\" + cancelCss + \"' onclick='$(this).cancelEditableCell(this)'>Cancel</a>\" + endWrapperHtml;\n\t        setTimeout(function () { //Set timeout to allow the script to write the input.html before triggering the datepicker\n\t            var icon = \"http://jqueryui.com/resources/demos/datepicker/images/calendar.gif\";\n                // Allow the user to provide icon\n\t            if (typeof inputSetting.options !== 'undefined' && typeof inputSetting.options.icon !== 'undefined') {\n\t                icon = inputSetting.options.icon;\n\t            }\n\t            var self = jQuery('.datepick').datepicker(\n                    {\n                        showOn: \"button\",\n                        buttonImage: icon,\n                        buttonImageOnly: true,\n                        buttonText: \"Select date\"\n                    });\n\t        },100);\n\t        break;\n        case \"text-confirm\": // text input w/ confirm\n            input.html = startWrapperHtml + \"<input id='ejbeatycelledit' class='\" + inputCss + \"' value='\"+oldValue+\"'\" + (listenToKeys ? \" onkeyup='if(event.keyCode==13) {$(this).updateEditableCell(this);} else if (event.keyCode===27) {$(this).cancelEditableCell(this);}'\" : \"\") + \"></input>&nbsp;<a href='javascript:void(0);' class='\" + confirmCss + \"' onclick='$(this).updateEditableCell(this)'>Confirm</a> <a href='javascript:void(0);' class='\" + cancelCss + \"' onclick='$(this).cancelEditableCell(this)'>Cancel</a>\" + endWrapperHtml;\n            break;\n        case \"undefined-confirm\": // text input w/ confirm\n            input.html = startWrapperHtml + \"<input id='ejbeatycelledit' class='\" + inputCss + \"' value='\" + oldValue + \"'\" + (listenToKeys ? \" onkeyup='if(event.keyCode==13) {$(this).updateEditableCell(this);} else if (event.keyCode===27) {$(this).cancelEditableCell(this);}'\" : \"\") + \"></input>&nbsp;<a href='javascript:void(0);' class='\" + confirmCss + \"' onclick='$(this).updateEditableCell(this)'>Confirm</a> <a href='javascript:void(0);' class='\" + cancelCss + \"' onclick='$(this).cancelEditableCell(this)'>Cancel</a>\" + endWrapperHtml;\n            break;\n        case \"textarea\":\n        case \"textarea-confirm\":\n            input.html = startWrapperHtml + \"<textarea id='ejbeatycelledit' class='\" + inputCss + \"'>\"+oldValue+\"</textarea><a href='javascript:void(0);' class='\" + confirmCss + \"' onclick='$(this).updateEditableCell(this)'>Confirm</a> <a href='javascript:void(0);' class='\" + cancelCss + \"' onclick='$(this).cancelEditableCell(this)'>Cancel</a>\" + endWrapperHtml;\n            break;\n\tcase \"number-confirm\" :\n\t    input.html = startWrapperHtml + \"<input id='ejbeatycelledit' type='number' class='\" + inputCss + \"' value='\"+oldValue+\"'\" + (listenToKeys ? \" onkeyup='if(event.keyCode==13) {$(this).updateEditableCell(this);} else if (event.keyCode===27) {$(this).cancelEditableCell(this);}'\" : \"\") + \"></input>&nbsp;<a href='javascript:void(0);' class='\" + confirmCss + \"' onclick='$(this).updateEditableCell(this)'>Confirm</a> <a href='javascript:void(0);' class='\" + cancelCss + \"' onclick='$(this).cancelEditableCell(this)'>Cancel</a>\" + endWrapperHtml;\n\t    break;\n        default: // text input\n            input.html = startWrapperHtml + \"<input id='ejbeatycelledit' class='\" + inputCss + \"' onfocusout='$(this).updateEditableCell(this)' value='\" + oldValue + \"' onkeyup='if(event.keyCode==13) {event.target.blur()}' ></input>\" + endWrapperHtml;\n            break;\n    }\n    return input;\n}\n\nfunction getInputField(callingElement) {\n    // Update datatables cell value\n    var inputField;\n    switch ($(callingElement).prop('nodeName').toLowerCase()) {\n        case 'a': // This means they're using confirmation buttons\n            if ($(callingElement).siblings('input').length > 0) {\n                inputField = $(callingElement).siblings('input');\n            }\n            if ($(callingElement).siblings('select').length > 0) {\n                inputField = $(callingElement).siblings('select');\n            }\n            if ($(callingElement).siblings('textarea').length > 0) {\n                inputField = $(callingElement).siblings('textarea');\n            }\n        break;\n        default:\n            inputField = $(callingElement);\n    }\n    return inputField;\n}\n\nfunction sanitizeCellValue(cellValue) {\n    if (typeof (cellValue) === 'undefined' || cellValue === null || cellValue.length < 1) {\n        return \"\";\n    }\n\n    // If not a number\n    if (isNaN(cellValue)) {\n        // escape single quote\n        cellValue = cellValue.replace(/'/g, \"&#39;\");\n    }\n    return cellValue;\n}\n","import React, { Component } from 'react';\nimport { inject, observer } from 'mobx-react';\nimport lodash from 'lodash';\n\nimport ShowNotification from '../components/ShowNotification';\nimport DateInput from '../components/DateInput';\nimport confirmAction from '../utils/confirmAction';\n\n@inject('classesStore')\nexport default class StudentForm extends Component {\n\tdefaults = {\n\t\tfirstname: '',\n\t\tlastname: '',\n\t\tadmission_no: '',\n\t\tclass_id: '',\n\t\tstream_id: '',\n\t\tfathers_name: '',\n\t\tfathers_contact: '',\n\t\tmothers_name: '',\n\t\tmothers_contact: '',\n\t\tdob: '',\n\t\tdoa: '',\n\t\tgender: '',\n\t\tentry_marks: ''\n\t};\n\n\tstate = {previewUrl: '', error: {}, loading: false, classes: null, loading: false, data: {...this.defaults}\n\t};\n\n\tcomponentDidMount() {\n    this.props.classesStore.list(true).then(classes=>{\n    \tthis.setState({classes});\n    });\n\t}\n\n\tcomponentDidUpdate(prevProps,prevState) {\n\t\tif(!lodash.isEqual(this.props.data, prevProps.data)){\n\t\t\tthis.setState({data: {...this.defaults,...this.props.data}})\n\t\t}\n\t\tif((this.props.data||{}).profile != (prevProps.data||{}).profile){\n\t\t\tlet url = '/uploads/students_profile/' + this.props.data.profile;\n\t\t\tif(this.props.data.profile.startsWith('data:image/')){\n\t\t\t\turl = this.props.data.profile;\n\t\t\t}\n\t\t\tthis.setState({previewUrl: url});\n\t\t}\n\n\t\tif(!lodash.isEqual(this.props.error,prevProps.error)){\n\t\t\tthis.setState({error: this.props.error})\n\t\t}\n\t}\n\n\tinputChanged = (field,event) => {\n\t\tlet val = event.target.value;\n\t\t/// parseInt class_id and stream_id into stream for consistency in indexDB\n\t\tif(field == 'class_id' || field == 'stream_id'){\n\t\t\tval = parseInt(val) || val;\n\t\t}\n\t\tthis.setState( (state) => state.data[field] = val);\n\t}\n\n\tprofileChanged = (event) => {\n\t\tlet files = event.target.files;\n\t\tif(files && files[0]) {\n\t\t\tvar reader = new FileReader();\n\t\t\treader.onload = (e) => {\n\t\t\t\tthis.setState({previewUrl: e.target.result});\n\t\t\t\tthis.setState( (state) => (state.data['profile'] = e.target.result, state));\n\t\t\t};\n\t\t\treader.readAsDataURL(files[0]);\n\t\t}\n\t}\n\n\tsaveContinue = () => {\n\t\tthis.submit().then(()=>{\n\t\t\tthis.setState({data: {...this.defaults},error: {}});\n\t\t})\n\t}\n\n\tsave = () => {\n\t\tthis.submit().then(()=>this.props.close());\n\t}\n\n\tapply = () => {\n\t\tthis.submit().then(()=>{\n\t\t\tthis.setState({error: {}});\n\t\t})\n\t}\n\n\tsubmit = () => {\n\t\tlet data = this.state.data;\n\t\tthis.setState({loading: true});\n\t\treturn this.props.submit(data).then( res => {\n\t\t\tif(this.props.edit) {\n\t\t\t\tShowNotification(\"Student Successfully Edited\", \"success\", \"nc-check-2\");\n\t\t\t}else {\n\t\t\t\tShowNotification(\"Student Created Successfully\", \"success\", \"nc-check-2\");\n\t\t\t}\n\t\t}, error => {\n\t\t\tthis.setState({error});\n\t\t\tthrow error;\n\t\t}).finally(_=>this.setState({loading:false}));\n\t}\n\n\tdiscontinue = () => {\n\t\tconfirmAction( () => {\n\t\t\treturn this.props.discontinue().then(res=>{\n\t\t\t\tthis.props.close();\n\t\t\t\treturn {success: 'Discontinued!', succes_text: 'Student was discontinued'};\n\t\t\t}, error => {\n\t\t\t\tthrow {error: \"Student couldn't be discontinued\"};\n\t\t\t})\n\t\t}, {loading_title: 'Discontinuing...', loading_text: 'Discontinuing Member', canceled: \"Discontinuing Student Operation Cancelled\", consequence: 'Student information will be unaccessible in the next period'});\n\t}\n\n\trestore = () => {\n\t\tconfirmAction( () => {\n      return this.props.restore().then(res=>{\n        this.props.close();\n        return {success: 'Restored!', succes_text: 'Student was restored'};\n      }, error => {\n        throw {error: 'Student could not be restored.'};\n      })\n    }, {loading_title: 'Restoring...', loading_text: 'Restoring Student', canceled: \"Restoring Student Operation Cancelled\", consequence: 'Student information will be made accessible again'});\n\t}\n\n\tdelete = () => {\n\t\tconfirmAction( () => {\n\t\t\treturn this.props.delete().then(res=>{\n\t\t\t\tthis.props.close();\n\t\t\t\treturn {success: 'Deleted!', succes_text: 'Student was deleted'};\n\t\t\t}, error => {\n\t\t\t\tthrow {error: \"Student couldn't be deleted.\"};\n\t\t\t})\n\t\t}, {loading_title: 'Deleting...', loading_text: 'Deleting Student', canceled: \"Deleting Student Operation Cancelled\", consequence: 'Student will be completely removed'});\n\t}\n\n\tcancel = () => {\n\t\tlet cancelAsync = async () => this.props.cancel();\n\t\tif(lodash.isEmpty(this.props.data) || (!this.props.data.__meta_pending && lodash.isEqual(this.props.data, this.state.data))) {\n\t\t\tthis.props.close();\n\t\t\treturn;\n\t\t}\n\t\tconfirmAction( () => {\n\t\t\treturn cancelAsync().then(res=>{\n\t\t\t\tthis.props.close();\n\t\t\t\treturn {success: 'Cancelled!', succes_text: 'Student entry was cancelled'};\n\t\t\t}, error => {\n\t\t\t\tthrow {error: \"Student entry couldn't be removed.\"};\n\t\t\t})\n\t\t}, {loading_title: 'Deleting...', loading_text: 'Cancelling entry', canceled: \"\", consequence: 'Entered information will be discarded'});\n\t}\n\n\thandleSubmit = (e) => {\n\t\te.preventDefault();\n\t\tthis.submitAction();\n\t}\n\n\tchooseAction = (e) => {\n\t\tswitch(e.target.name) {\n\t\t\tcase 'apply':\n\t\t\t\tthis.submitAction = this.apply;\n\t\t\t\tbreak;\n\t\t\tcase 'save':\n\t\t\t\tthis.submitAction = this.save;\n\t\t\t\tbreak;\n\t\t\tcase 'save_continue':\n\t\t\t\tthis.submitAction = this.saveContinue;\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\trender() {\n\t\tlet { classes } = this.state;\n\t\tlet error = this.state.error || {};\n\t\tlet firstnameInvalid='', lastnameInvalid='', admissionNoInvalid='', genderInvalid='', entryMarksInvalid='', fathersNameInvalid='', fathersContactInvalid='',\n\t\t\tmothersNameInvalid='', mothersContactInvalid='', classInvalid='', streamInvalid='', dobInvalid='', doaInvalid='';\n\t\tif(error.errors) {\n\t\t\tfirstnameInvalid = error.errors.firstname ? 'is-invalid' : '';\n\t\t\tlastnameInvalid = error.errors.lastname ? 'is-invalid' : '';\n\t\t\tadmissionNoInvalid = error.errors.admission_no ? 'is-invalid' : '';\n\t\t\tgenderInvalid = error.errors.gender ? 'is-invalid' : '';\n\t\t\tentryMarksInvalid = error.errors.entry_marks ? 'is-invalid' : '';\n\t\t\tfathersNameInvalid = error.errors.fathers_name ? 'is-invalid' : '';\n\t\t\tfathersContactInvalid = error.errors.fathers_contact ? 'is-invalid' : '';\n\t\t\tmothersNameInvalid = error.errors.mothers_name ? 'is-invalid' : '';\n\t\t\tmothersContactInvalid = error.errors.mothers_contact ? 'is-invalid' : '';\n\t\t\tclassInvalid = error.errors.class_id ? 'is-invalid' : '';\n\t\t\tstreamInvalid = error.errors.stream_id ? 'is-invalid' : '';\n\t\t\tdobInvalid = error.errors.dob ? 'is-invalid' : '';\n\t\t\tdoaInvalid = error.errors.doa ? 'is-invalid' : '';\n\t\t}\n\n\t\tlet streams = null;\n\n\t\tif(classes) {\n\t\t\tlet selectedClass = classes.find( (cls) => cls.id == this.state.data.class_id );\n\t\t\tif(selectedClass) {\n\t\t\t\tstreams = selectedClass.streams;\n\t\t\t}\n\t\t}\n\n\t\treturn <div className=\"container-fluid\">\n\t\t\t{this.props.edit && <div className=\"row\">\n    \t    <div className=\"col-md-12\">\n    \t      <span className=\"pull-right\">\n    \t      \t{this.state.data.dod ? <button type=\"button\" className=\"btn btn-secondary\" onClick={this.restore} >Restore</button>\n    \t      \t : <button type=\"button\" className=\"btn btn-warning\" onClick={this.discontinue} >Discontinue</button> }\n    \t      \t&nbsp;\n    \t        <button type=\"button\" className=\"btn btn-danger\" onClick={this.delete} >Delete</button>\n    \t      </span>\n    \t    </div>\n\t    </div>}\n\t\t  <div className=\"row\">\n\t\t    <div className=\"col-md-12\">\n\t\t      <div className=\"card stacked-form\">\n\t\t\t\t\t  <div className=\"card-header \">\n\t\t\t\t\t    <h4 className=\"card-title\">Student Details</h4>\n\t\t\t\t\t  </div>\n\t\t\t\t\t  <div className=\"card-body \">\n\t\t\t\t\t    <form method=\"#\" action=\"#\" onSubmit={this.handleSubmit} >\n\t\t\t\t\t    \t{error.message && <div className=\"alert alert-danger\">\n                    <span>\n                        <b> Error - </b> {error.message}\n                    </span>\n                </div>}\n\t\t\t\t\t    \t<div className=\"row\">\n\t\t\t\t\t    \t\t<div className=\"col-md-9\">\n\t\t\t\t\t    \t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t        <label>First Name</label>\n\t\t\t\t\t\t\t\t        <input value={this.state.data.firstname} onChange={this.inputChanged.bind(this,'firstname')} type=\"text\" placeholder=\"First Name\" className={`form-control ${firstnameInvalid}`} required />\n\t\t\t\t\t\t\t\t        {firstnameInvalid && error.errors.firstname.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t\t\t      </div>\n\n\t\t\t\t\t\t\t\t      <div className=\"form-group\">\n\t\t\t\t\t\t\t\t        <label>Last Name</label>\n\t\t\t\t\t\t\t\t        <input value={this.state.data.lastname} onChange={this.inputChanged.bind(this,'lastname')} type=\"text\" placeholder=\"Last Name\" className={`form-control ${lastnameInvalid}`} required />\n\t\t\t\t\t\t\t\t        {lastnameInvalid && error.errors.lastname.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t\t\t      </div>\n\n\t\t\t\t\t\t\t\t      <div className=\"form-group\">\n\t\t\t\t\t\t\t\t        <label>Admission No</label>\n\t\t\t\t\t\t\t\t        <input value={this.state.data.admission_no} onChange={this.inputChanged.bind(this,'admission_no')} type=\"text\" placeholder=\"Admission No\" className={`form-control ${admissionNoInvalid}`} required />\n\t\t\t\t\t\t\t\t        {admissionNoInvalid && error.errors.admission_no.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t\t\t      </div>\n\t\t\t\t\t    \t\t</div>\n\t\t\t\t\t\t      <div className=\"col-md-3 d-flex align-items-center\">\n\t\t\t\t\t\t      \t<div>\n\t\t\t\t\t\t      \t\n\t\t\t\t\t\t      \t<div className=\"input-group\">\n\t\t\t\t\t\t      \t\t<div>\n\t\t\t\t\t\t\t      \t\t<img src={this.state.previewUrl || '/img/profile-placeholder.jpg'} className=\"rounded img-fluid\" style={{width: '100%', height: '100%'}} alt=\"Responsive image\" />\n\t\t\t\t\t\t\t      \t</div>\n\t\t\t\t\t\t\t\t\t\t  <span style={{position: 'absolute', bottom: 0}}>\n\t\t\t\t\t\t\t\t\t\t  \t<span className=\"btn btn-primary\"><i className=\"fa fa-camera\"></i>Change</span>\n\t\t\t\t\t\t\t\t\t\t    <input type=\"file\" onChange={this.profileChanged} style={{position: 'absolute', bottom: 0, top: 0, right: 0, left: 0}} className=\"custom-file-input\" id=\"inputGroupFile01\" aria-describedby=\"inputGroupFileAddon01\" />\n\t\t\t\t\t\t\t\t\t\t  </span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t      </div>\n\t\t\t\t\t      </div>\n\n\t\t\t\t\t      <div className=\"row\">\n\t\t\t\t\t      \t\n\t\t\t\t\t      \t<div className=\"form-group col-md-6\">\n\t\t\t\t\t\t        <label>Entry Marks(percentage)</label>\n\t\t\t\t\t\t        <input value={this.state.data.entry_marks} onChange={this.inputChanged.bind(this,'entry_marks')} type=\"text\" placeholder=\"Entry marks\" className={`form-control ${entryMarksInvalid}`} required />\n\t\t\t\t\t\t        {entryMarksInvalid && error.errors.entry_marks.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t      </div>\n\n\t\t\t\t\t\t      <div className=\"form-group col-md-6\">\n\t\t\t\t\t\t        <label>Gender</label>\n\t\t\t\t\t\t        <select value={this.state.data.gender} onChange={this.inputChanged.bind(this,'gender')} name=\"gender\" className={`form-control ${genderInvalid}`} required >\n\t\t\t\t\t\t        \t<option value=\"\">Select Gender</option>\n                      <option value=\"M\">Male</option>\n                      <option value=\"F\">Female</option>\n                    </select>\n\t\t\t\t\t\t        {genderInvalid && error.errors.gender.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t      </div>\n\t\t\t\t\t\t    </div>\n\n\t\t\t\t\t      <div className=\"row\">\n\t\t\t\t\t\t      <div className=\"form-group col-md-8\">\n\t\t\t\t\t\t        <label>Father's Names</label>\n\t\t\t\t\t\t        <input value={this.state.data.fathers_name} onChange={this.inputChanged.bind(this,'fathers_name')} type=\"text\" placeholder=\"Father's Names\" className={`form-control ${fathersNameInvalid}`} required />\n\t\t\t\t\t\t        {fathersNameInvalid && error.errors.fathers_name.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t      </div>\n\t\t\t\t\t\t      <div className=\"form-group col-md-4\">\n\t\t\t\t\t\t        <label>Father's Contact</label>\n\t\t\t\t\t\t        <input value={this.state.data.fathers_contact} onChange={this.inputChanged.bind(this,'fathers_contact')} type=\"text\" placeholder=\"Father's Contact\" className={`form-control ${fathersContactInvalid}`} required />\n\t\t\t\t\t\t        {fathersContactInvalid && error.errors.fathers_contact.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t      </div>\n\t\t\t\t\t      </div>\n\n\t\t\t\t\t      <div className=\"row\">\n\t\t\t\t\t\t      <div className=\"form-group col-md-8\">\n\t\t\t\t\t\t        <label>Mother's Names</label>\n\t\t\t\t\t\t        <input value={this.state.data.mothers_name} onChange={this.inputChanged.bind(this,'mothers_name')} type=\"text\" placeholder=\"Mother's Names\" className={`form-control ${mothersNameInvalid}`} required />\n\t\t\t\t\t\t        {mothersNameInvalid && error.errors.mothers_name.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t      </div>\n\t\t\t\t\t\t      <div className=\"form-group col-md-4\">\n\t\t\t\t\t\t        <label>Mother's Contact</label>\n\t\t\t\t\t\t        <input value={this.state.data.mothers_contact} onChange={this.inputChanged.bind(this,'mothers_contact')} type=\"text\" placeholder=\"Mother's Contact\" className={`form-control ${mothersContactInvalid}`} required />\n\t\t\t\t\t\t        {mothersContactInvalid && error.errors.mothers_contact.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t      </div>\n\t\t\t\t\t      </div>\n\n\t\t\t\t\t      <div className=\"row\">\n\t\t\t\t\t\t      <div className=\"form-group col-md-6\">\n\t\t\t\t\t\t        <label>Class</label>\n\t\t\t\t\t\t        <select disabled={!classes} value={this.state.data.class_id} onChange={this.inputChanged.bind(this,'class_id')} name=\"class\" className={`form-control ${classInvalid}`} required >\n\t\t\t\t\t\t        \t<option value=\"\">Select Class</option>\n                      {classes && classes.map( (cls) => <option key={cls.id} value={cls.id}>{cls.name}</option> )}\n                    </select>\n\t\t\t\t\t\t        {classInvalid && error.errors.class_id.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t      </div>\n\n\t\t\t\t\t\t      <div className=\"form-group col-md-6\">\n\t\t\t\t\t\t        <label>Stream</label>\n\t\t\t\t\t\t        <select disabled={!streams} value={this.state.data.stream_id} onChange={this.inputChanged.bind(this,'stream_id')} name=\"stream\" className={`form-control ${streamInvalid}`} required >\n\t\t\t\t\t\t        \t<option value=\"\">Select Stream</option>\n                      {streams && streams.map( (stream) => <option key={stream.id} value={stream.id}>{stream.name}</option> )}\n                    </select>\n\t\t\t\t\t\t        {streamInvalid && error.errors.stream_id.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t      </div>\n\n\t\t\t\t\t      </div>\n\n\t\t\t\t\t      <div className=\"row\">\n\t\t\t\t\t\t      <div className=\"form-group col-md-6\">\n\t\t\t\t\t\t        <label>Date of Birth</label>\n\t\t\t\t\t\t        <DateInput value={this.state.data.dob} onChange={this.inputChanged.bind(this,'dob')} type=\"text\" placeholder=\"Date of Birth\" className={`form-control ${dobInvalid}`} required />\n\t\t\t\t\t\t        {doaInvalid && error.errors.doa.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t      </div>\n\t\t\t\t\t\t      <div className=\"form-group col-md-6\">\n\t\t\t\t\t\t        <label>Date of Admission</label>\n\t\t\t\t\t\t        <DateInput value={this.state.data.doa} onChange={this.inputChanged.bind(this,'doa')} type=\"text\" placeholder=\"Date of Admission\" className={`form-control ${doaInvalid}`} required />\n\t\t\t\t\t\t        {doaInvalid && error.errors.doa.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t      </div>\n\t\t\t\t\t\t    </div>\n\n\t\t\t\t\t\t    <div className=\"row\">\n\t\t\t\t\t\t    \t<div className=\"col-sm-2\">\n\t\t\t\t            <input onClick={this.chooseAction} type=\"submit\" name=\"save\" value=\"SAVE\" disabled={this.state.loading} className=\"btn btn-success\" />\n\t\t\t\t          </div>\n\t\t\t\t\t\t\t  \t{this.props.edit ? <div className=\"col-sm-2\">\n\t\t\t\t            \t<input onClick={this.chooseAction} type=\"submit\" name=\"apply\" value=\"APPLY\" disabled={this.state.loading} className=\"btn btn-primary\" />\n\t\t\t\t          \t</div> :\n\t\t\t\t          \t<div className=\"col-sm-3\">\n\t\t\t\t            \t<input onClick={this.chooseAction} type=\"submit\" name=\"save_continue\" value=\"SAVE AND CONTINUE\" disabled={this.state.loading} className=\"btn btn-primary\" />\n\t\t\t\t          \t</div>\n\t\t\t\t          }\n\t\t\t\t          <div className=\"col-sm-3\">\n\t\t\t\t            \t<input onClick={this.cancel} type=\"button\" value=\"CANCEL\" disabled={this.state.loading} className=\"btn btn-danger\" />\n\t\t\t\t          </div>\n\t\t\t\t\t\t    </div>\n\n\t\t\t\t\t    </form>\n\t\t\t\t\t  </div>\n\t\t\t\t\t  <div className=\"card-footer \">\n\t\t\t\t\t  </div>\n\n\t\t\t\t\t</div>\n\t\t    </div>\n\t\t  </div>\n\t\t</div>\n\n\t}\n}","import React, {Component} from 'react';\n\nexport default class CardStats extends Component {\n\trender() {\n\t\treturn <div className=\"card card-stats\">\n      <div className=\"card-body \">\n        <div className=\"row\">\n          <div className=\"col-5\">\n            <div className=\"icon-big text-center icon-warning\">\n              <i className={`nc-icon text-warning ${this.props.icon}`}></i>\n            </div>\n          </div>\n          <div className=\"col-7\">\n            <div className=\"numbers\">\n              <p className=\"card-category\">{this.props.category}</p>\n              <h4 className=\"card-title\">{this.props.title}</h4>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"card-footer \">\n        <hr />\n        <div className=\"stats\">\n          <i className=\"fa fa-clock-o\"></i> {this.props.footer}\n        </div>\n      </div>\n    </div>\n\t}\n}","import React, { Component } from 'react';\nimport lodash from 'lodash';\n\nimport ShowNotification from '../components/ShowNotification';\nimport confirmAction from '../utils/confirmAction';\n\nexport default class StockForm extends Component {\n\tdefaults = {\n\t\tname: '',\n\t\tamount: ''\n\t};\n\n\tstate = {error: {}, loading: false, teachers: null, data: {...this.defaults}};\n\n\tcomponentDidUpdate(prevProps,prevState) {\n\t\tif(this.props.edit){\n\t\t\tif(!lodash.isEqual(this.props.data, prevProps.data)){\n\t\t\t\tthis.setState({data: {...this.state.data,...this.props.data}})\n\t\t\t}\n\t\t}\n\t\tif(!lodash.isEqual(this.props.error,prevProps.error)){\n\t\t\tthis.setState({error: {...this.state.error,...this.props.error}})\n\t\t}\n\t}\n\n\tinputChanged = (field,event) => {\n\t\tlet val = event.target.value;\n\t\tthis.setState( (state) => state.data[field] = val);\n\t}\n\t\n\tsaveContinue = () => {\n\t\tthis.submit().then(()=>{\n\t\t\tthis.setState({data: {...this.defaults},error: {}});\n\t\t})\n\t}\n\n\tsave = () => {\n\t\tthis.submit().then(()=>this.props.close());\n\t}\n\n\tapply = () => {\n\t\tthis.submit().then(()=>{\n\t\t\tthis.setState({error: {}});\n\t\t})\n\t}\n\n\tsubmit = () => {\n\t\tlet data = this.state.data;\n\t\tthis.setState({loading: true});\n\t\treturn this.props.submit(data).then( res => {\n\t\t\tif(this.props.edit) {\n\t\t\t\tShowNotification(\"Category Successfully Edited\", \"success\", \"nc-check-2\");\n\t\t\t}else {\n\t\t\t\tShowNotification(\"Category Created Successfully\", \"success\", \"nc-check-2\");\n\t\t\t}\n\t\t}, error => {\n\t\t\tthis.setState({error: error.response.data});\n\t\t\treturn Promise.reject(error.response.data);\n\t\t}).finally(_=>this.setState({loading:false}));\n\t}\n\n\tdelete = () => {\n    confirmAction( () => {\n      return axios.delete(`/api/finances/fee-structure/category/${this.props.data.id}`).then(res=>{\n        this.props.close();\n        return {success: 'Deleted!', succes_text: 'Fee Category was deleted'};\n      }, error => {\n        throw {error: \"Fee Category couldn't be deleted.\"};\n      })\n    }, {loading_title: 'Deleting...', loading_text: 'Deleting Fee Category', canceled: \"Deleting Fee Category Operation Cancelled\", consequence: 'Fee Category will be deleted'});\n  }\n\n\trender() {\n\t\tlet error = this.state.error || {};\n\t\tlet nameInvalid='', amountInvalid='';\n\t\tif(error.errors) {\n\t\t\tnameInvalid = error.errors.name ? 'is-invalid' : '';\n\t\t\tamountInvalid = error.errors.amount ? 'is-invalid' : '';\n\t\t}\n\n\t\treturn <div className=\"container-fluid\">\n\t\t\t{this.props.edit && <div className=\"row\">\n          <div className=\"col-md-12\">\n            <span className=\"pull-right\">\n              <button type=\"button\" className=\"btn btn-danger\" onClick={this.delete} >Delete</button>\n            </span>\n          </div>\n      </div>}\n\t\t  <div className=\"row\">\n\t\t    <div className=\"col-md-12\">\n\t\t      <div className=\"card stacked-form\">\n\t\t\t\t\t  <div className=\"card-header \">\n\t\t\t\t\t    <h4 className=\"card-title\">Item Details</h4>\n\t\t\t\t\t  </div>\n\t\t\t\t\t  <div className=\"card-body \">\n\t\t\t\t\t    <form method=\"#\" action=\"#\">\n\t\t\t\t\t    \t{error.message && <div className=\"alert alert-danger\">\n                    <span>\n                        <b> Error - </b> {error.message}\n                    </span>\n                </div>}\n\t\t\t\t\t      <div className=\"form-group\">\n\t\t\t\t\t        <label>Category Name</label>\n\t\t\t\t\t        <input value={this.state.data.name} onChange={this.inputChanged.bind(this,'name')} type=\"text\" placeholder=\"Category Name\" className={`form-control datepicker ${nameInvalid}`} />\n\t\t\t\t\t        {nameInvalid && error.errors.name.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t      </div>\n\n\t\t\t\t\t      <div className=\"form-group\">\n\t\t\t\t\t        <label>Amount</label>\n\t\t\t\t\t        <input value={this.state.data.amount} onChange={this.inputChanged.bind(this,'amount')} type=\"text\" placeholder=\"Amount\" className={`form-control datepicker ${amountInvalid}`} />\n\t\t\t\t\t        {amountInvalid && error.errors.amount.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t      </div>\n\n\t\t\t\t\t    </form>\n\t\t\t\t\t  </div>\n\t\t\t\t\t  <div className=\"card-footer \">\n\t\t\t\t\t  \t<div className=\"row\">\n\t\t\t\t\t\t  \t{this.props.edit ? <div className=\"col-sm-2\">\n\t\t\t            \t<input onClick={this.apply} type=\"button\" value=\"APPLY\" disabled={this.state.loading} className=\"btn btn-primary\" />\n\t\t\t          \t</div> :\n\t\t\t          \t<div className=\"col-sm-3\">\n\t\t\t            \t<input onClick={this.saveContinue} type=\"button\" value=\"SAVE AND CONTINUE\" disabled={this.state.loading} className=\"btn btn-primary\" />\n\t\t\t          \t</div>\n\t\t\t          }\n\t\t\t          <div className=\"col-sm-2\">\n\t\t\t            <input onClick={this.save} type=\"button\" value=\"SAVE\" disabled={this.state.loading} className=\"btn btn-success\" />\n\t\t\t          </div>\n\t\t\t          <div className=\"col-sm-2\">\n\t\t\t            <input onClick={this.props.close} type=\"button\" value=\"CLOSE\" disabled={this.state.loading} className=\"btn btn-warning\" />\n\t\t\t          </div>\n\t\t\t\t\t    </div>\n\t\t\t\t\t  </div>\n\n\n\t\t\t\t\t  \n\n\n\t\t\t\t\t</div>\n\t\t    </div>\n\t\t  </div>\n\t\t</div>\n\n\t}\n}","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport {inject} from 'mobx-react';\n\nimport DataTable from '../components/DataTable';\nimport getCookie from '../utils/getCookie';\n\nimport FeeCategoryForm from '../components/FeeCategoryForm';\n\n@inject('classesStore')\nexport default class FeeStructure extends Component {\n  state = { date: '', classes: null, class_id: '' };\n  dataTable = null;\n  constructor(props) {\n    super(props);\n    var self = this;\n    window.feeCategoryActionEdit = this.edit;\n\n    this.state = { date: '', classes: null, class_id: '', total: 0, totalCommon: 0, totalClass: 0 };\n    if(this.props.location.state && this.props.location.state.class_id)\n      this.state.class_id = this.props.location.state.class_id;\n\n    this.dataTable = React.createRef()\n    this.dataTableConfig = {\n      dom: 'lfrtip',\n      paging: false,\n      searching: false,\n      serverSide: true,\n      processing: true,\n      ajax: function(params, callback, settings) {\n        params.class_id = self.state.class_id || '';\n        axios.get('/api/finances/fee-structure', {params: {params}}).then(response=>{\n          callback(response.data);\n          self.setState({\n            total: response.data.total,\n            totalCommon: response.data.totalCommon,\n            totalClass: response.data.totalClass ? response.data.totalClass : 0\n          });\n        })\n      },\n      columns: [\n        { data: 'name', name: 'name', 'class': 'text-center'},\n        { data: 'amount', name: 'amount', 'class': 'text-center'},\n        { data: null, 'class': 'text-center', render: function(data,type,row) {\n          return `<span>\n            <a onclick=\"feeCategoryActionEdit('${data.id}')\" class=\"btn btn-link btn-warning details\"><i class=\"fa fa-edit\"></i></a>\n          </span>`\n        }}\n      ],\n    };\n  }\n\n  edit = (category) => {\n    this.props.history.push(`${this.props.match.url}/category/${category}`);\n  }\n\n  inputChanged = (event) => {\n    this.setState({class_id: event.target.value}, this.filterChanged);\n  }\n\n  filterChanged = () => {\n    this.dataTable.current.draw();\n  }\n\n\tcomponentDidMount() {\n    this.props.classesStore.list({},true).then(classes=>{\n      this.setState({classes});\n    });\n\t}\n\n\trender() {\n    let match = this.props.match;\n\t\tlet {classes} = this.state;\n\n\t\treturn <div className=\"container-fluid\">\n      <div className=\"row\">\n        <div className=\"col-md-12\">\n          <span className=\"pull-right\">\n            <Link to={`${match.url}/category/new${this.state.class_id ? ('/' + this.state.class_id ) : '' }`} className=\"btn btn-dark details ml-1\">Add Fee Category</Link>\n          </span>\n        </div>\n      </div>\n      <DataTable ref={this.dataTable} title=\"Fee Structure\" config={this.dataTableConfig} toolbar={\n        <>\n          <div className=\"col-6\">\n            <div className=\"form-group row\">\n              <label className=\"col-sm-2 col-form-label\">Class:</label>\n              <div className=\"col-10\">\n                <select onChange={this.inputChanged} value={this.state.class_id} id='filterByClass' className=\"form-control\">\n                  <option value=''> Common </option>\n                  {classes && classes.map( (cls) => <option key={cls.id} value={cls.id}>{cls.name}</option> )}\n                </select>\n              </div>\n            </div>\n          </div>\n          <div className=\"col-6\">\n            <div className=\"row\">\n              <div className=\"col-4\">\n                <p><span>Total:</span> {this.state.total}</p>\n              </div>\n              <div className=\"col-4\">\n                <p><span>Common:</span> {this.state.totalCommon}</p>\n              </div>\n              <div className=\"col-4\">\n                <p><span>Class:</span> {this.state.totalClass}</p>\n              </div>\n            </div>\n          </div>\n        </>\n      }>\n        <th>Category</th>\n        <th>Amount</th>\n        <th>Action</th>\n      </DataTable>\n\t\t</div>\n\n\t}\n}\n\nexport class FeeCategoryNew extends Component {\n    state = { error: {} };\n    submit = (data) => {\n        if(this.props.match.params.classId) {\n          data.class_id = this.props.match.params.classId;\n        }\n        return axios.post('/api/finances/fee-structure/category/new', data).then( res => {\n            this.setState({error: {}})\n            return res;\n        }, error => {\n            this.setState({error: error.response.data});\n            return Promise.reject(error);\n        })\n    }\n\n    close = () => {\n        this.props.history.push('/school/finances/fee-structure', {class_id: this.props.match.params.classId});\n    }\n    render() {\n        return <FeeCategoryForm error={this.state.error} submit={this.submit} close={this.close} />\n    }\n}\n\nexport class FeeCategoryEdit extends Component {\n    state = { error: {}, data: {} };\n\n    componentDidMount() {\n        if(this.props.location.state && this.props.location.state.feeCategory){\n            this.setState({data: this.props.location.state.feeCategory});\n        }else if(this.props.match.params.categoryId){\n            axios.get(`/api/finances/fee-structure/category/${this.props.match.params.categoryId}`).then(response => {\n                this.setState({data: response.data});\n            },error=>this.setState({error:error.response.data}))\n        }\n        \n    }\n\n  submit = (data) => {\n        return axios.put(`/api/finances/fee-structure/category/${this.props.match.params.categoryId}`, data).then( res => {\n            this.setState({error: {}})\n            return res;\n        }, error => {\n            this.setState({error: error.response.data});\n            return Promise.reject(error);\n        })\n    }\n\n    close = () => {\n        this.props.history.push('/school/finances/fee-structure', {class_id: this.state.data.class_id});\n    }\n\n    render() {\n        return <FeeCategoryForm edit={true} error={this.state.error} data={this.state.data} submit={this.submit} close={this.close} />\n    }\n}\n","import React, { Component } from 'react';\nimport lodash from 'lodash';\n\nimport ShowNotification from '../components/ShowNotification';\nimport DateInput from '../components/DateInput';\nimport confirmAction from '../utils/confirmAction';\n\nexport default class TeacherForm extends Component {\n\tdefaults = {\n\t\tadmission_no: '',\n\t\tamount: '',\n\t\tdate: '',\n\t\tmethod: ''\n\t};\n\n\tstate = {error: {}, loading: false, data: {...this.defaults}};\n\n\tcomponentDidUpdate(prevProps,prevState) {\n\t\tif(this.props.edit){\n\t\t\tif(!lodash.isEqual(this.props.data, prevProps.data)){\n\t\t\t\tthis.setState({data: {...this.state.data,...this.props.data}})\n\t\t\t}\n\t\t}\n\t\tif(!lodash.isEqual(this.props.error,prevProps.error)){\n\t\t\tthis.setState({error: {...this.state.error,...this.props.error}})\n\t\t}\n\t}\n\n\tinputChanged = (field,event) => {\n\t\tlet val = event.target.value;\n\t\tthis.setState( (state) => state.data[field] = val);\n\t}\n\t\n\tsaveContinue = () => {\n\t\tthis.submit().then(()=>{\n\t\t\tthis.setState({data: {...this.defaults},error: {}});\n\t\t})\n\t}\n\n\tsave = () => {\n\t\tthis.submit().then(()=>this.props.close());\n\t}\n\n\tapply = () => {\n\t\tthis.submit().then(()=>{\n\t\t\tthis.setState({error: {}});\n\t\t})\n\t}\n\n\tsubmit = () => {\n\t\tlet data = this.state.data;\n\t\tthis.setState({loading: true});\n\t\treturn this.props.submit(data).then( res => {\n\t\t\tif(this.props.edit) {\n\t\t\t\tShowNotification(\"Fee Payment Successfully Edited\", \"success\", \"nc-check-2\");\n\t\t\t}else {\n\t\t\t\tShowNotification(\"Fee Payment Created Successfully\", \"success\", \"nc-check-2\");\n\t\t\t}\n\t\t}, error => {\n\t\t\tthis.setState({error: error.response.data});\n\t\t\treturn Promise.reject(error.response.data);\n\t\t}).finally(_=>this.setState({loading:false}));\n\t}\n\n\tdelete = () => {\n    confirmAction( () => {\n      return axios.delete(`/api/finances/fee-payment/${this.props.data.id}`).then(res=>{\n        this.props.close();\n        return {success: 'Deleted!', succes_text: 'Fee payment was deleted'};\n      }, error => {\n        throw {error: \"Fee payment couldn't be deleted.\"};\n      })\n    }, {loading_title: 'Deleting...', loading_text: 'Deleting Fee Payment', canceled: \"Deleting Fee Payment Operation Cancelled\", consequence: 'Fee Payment will be deleted'});\n  }\n\n\trender() {\n\t\tlet error = this.state.error || {};\n\t\tlet admissionNoInvalid='', amountInvalid='', dateInvalid='', methodInvalid='';\n\t\tif(error.errors) {\n\t\t\tadmissionNoInvalid = error.errors.admission_no ? 'is-invalid' : '';\n\t\t\tamountInvalid = error.errors.amount ? 'is-invalid' : '';\n\t\t\tdateInvalid = error.errors.date ? 'is-invalid' : '';\n\t\t\tmethodInvalid = error.errors.method ? 'is-invalid' : '';\n\t\t}\n\n\t\treturn <div className=\"container-fluid\" >\n\t\t\t{this.props.edit && <div className=\"row\">\n          <div className=\"col-md-12\">\n            <span className=\"pull-right\">\n              <button type=\"button\" className=\"btn btn-danger\" onClick={this.delete} >Delete</button>\n            </span>\n          </div>\n      </div>}\n\t\t  <div className=\"row\">\n\t\t    <div className=\"col-md-12\">\n\t\t      <div className=\"card stacked-form\">\n\t\t\t\t\t  <div className=\"card-header \">\n\t\t\t\t\t    <h4 className=\"card-title\">Payment Details</h4>\n\t\t\t\t\t  </div>\n\t\t\t\t\t  <div className=\"card-body \">\n\t\t\t\t\t    <form method=\"#\" action=\"#\">\n\t\t\t\t\t    \t{error.message && <div className=\"alert alert-danger\">\n                    <span>\n                        <b> Error - </b> {error.message}\n                    </span>\n                </div>}\n\t\t\t\t\t      <div className=\"form-group\">\n\t\t\t\t\t        <label>Admission Number</label>\n\t\t\t\t\t        <input value={this.state.data.admission_no} onChange={this.inputChanged.bind(this,'admission_no')} type=\"text\" placeholder=\"Student Admission Number\" className={`form-control ${admissionNoInvalid}`} />\n\t\t\t\t\t        {admissionNoInvalid && error.errors.admission_no.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t      </div>\n\n\t\t\t\t\t      <div className=\"form-group\">\n\t\t\t\t\t        <label>Amount</label>\n\t\t\t\t\t        <input value={this.state.data.amount} onChange={this.inputChanged.bind(this,'amount')} type=\"text\" placeholder=\"Amount\" className={`form-control ${amountInvalid}`} />\n\t\t\t\t\t        {amountInvalid && error.errors.amount.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t      </div>\n\n\t\t\t\t\t      <div className=\"form-group\">\n\t\t\t\t\t        <label>Method of Payment</label>\n\t\t\t\t\t        <select value={this.state.data.method} onChange={this.inputChanged.bind(this,'method')} name=\"method\" className={`form-control ${methodInvalid}`} >\n\t\t\t\t\t        \t<option value=\"\">Select Method</option>\n                    <option value=\"cash\">CASH</option>\n                    <option value=\"mobile\">MOBILE</option>\n                    <option value=\"cheque\">CHEQUE</option>\n                    <option value=\"bankers_cheque\">BANKERS CHEQUE</option>\n                  </select>\n\t\t\t\t\t        {methodInvalid && error.errors.method.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t      </div>\n\n\t\t\t\t\t      <div className=\"form-group\">\n\t\t\t\t\t        <label>Date</label>\n\t\t\t\t\t        <DateInput value={this.state.data.date} onChange={this.inputChanged.bind(this,'date')} placeholder=\"Date\" className={`form-control ${dateInvalid}`} />\n\t\t\t\t\t        {dateInvalid && error.errors.date.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t      </div>\n\n\t\t\t\t\t    </form>\n\t\t\t\t\t  </div>\n\t\t\t\t\t  <div className=\"card-footer \">\n\t\t\t\t\t  \t<div className=\"row\">\n\t\t\t\t\t\t  \t{this.props.edit ? <div className=\"col-sm-2\">\n\t\t\t            \t<input onClick={this.apply} type=\"button\" value=\"APPLY\" disabled={this.state.loading} className=\"btn btn-primary\" />\n\t\t\t          \t</div> :\n\t\t\t          \t<div className=\"col-sm-3\">\n\t\t\t            \t<input onClick={this.saveContinue} type=\"button\" value=\"SAVE AND CONTINUE\" disabled={this.state.loading} className=\"btn btn-primary\" />\n\t\t\t          \t</div>\n\t\t\t          }\n\t\t\t          <div className=\"col-sm-2\">\n\t\t\t            <input onClick={this.save} type=\"button\" value=\"SAVE\" disabled={this.state.loading} className=\"btn btn-success\" />\n\t\t\t          </div>\n\t\t\t          <div className=\"col-sm-2\">\n\t\t\t            <input onClick={this.props.close} type=\"button\" value=\"CLOSE\" disabled={this.state.loading} className=\"btn btn-warning\" />\n\t\t\t          </div>\n\t\t\t\t\t    </div>\n\t\t\t\t\t  </div>\n\n\n\t\t\t\t\t  \n\n\n\t\t\t\t\t</div>\n\t\t    </div>\n\t\t  </div>\n\t\t</div>\n\n\t}\n}","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\n\nimport FeePaymentForm from '../components/FeePaymentForm';\nimport DataTable from '../components/DataTable';\nimport getCookie from '../utils/getCookie';\n\nexport default class FeePayment extends Component {\n    constructor(props) {\n        super(props);\n        window.todListActionEdit = this.edit;\n        this.dataTable = React.createRef();\n        this.dataTableConfig = {\n            serverSide: true,\n            processing: true,\n            ajax: function(params, callback, settings) {\n                axios.get('/api/finances/fee-payment', {params: {params}}).then(response=>{\n                    callback(response.data);\n                })\n            },\n            columns: [\n                { data: 'admission_no', name: 'admission_no', 'class': 'text-center'},\n                { data: 'firstname', name: 'firstname', 'class': 'text-center'},\n                { data: 'lastname', name: 'lastname', 'class': 'text-center'},\n                { data: 'amount', name: 'amount', 'class': 'text-center'},\n                { data: 'method', name: 'method', 'class': 'text-center'},\n                { data: 'date', name: 'date', 'class': 'text-center', render: (data,type,row) => (new Date(data)).toDateString() },\n                { data: null, 'class': 'text-center', render: function(data,type,row) {\n                    return `<span>\n                      <a onclick=\"todListActionEdit('${data.id}')\" class=\"btn btn-link btn-warning details\"><i class=\"fa fa-edit\"></i></a>\n                  </span>`\n                }}\n            ],\n        };\n    }\n\n    edit = (payment) => {\n        this.props.history.push(`${this.props.match.url}/${payment}`);\n    }\n\n\trender() {\n\t\tlet match = this.props.match;\n\t\treturn <div className=\"container-fluid\">\n    \t    <div className=\"row\">\n        \t    <div className=\"col-md-12\">\n        \t      <span className=\"pull-right\">\n        \t        <Link to={`${match.url}/new`} className=\"btn btn-success details\">New Payment</Link>\n        \t      </span>\n        \t    </div>\n    \t    </div>\n            <DataTable ref={this.dataTable} title=\"Fee Payment\" config={this.dataTableConfig}>\n                <th>Admission No.</th>\n                <th>Firstname</th>\n                <th>Lastname</th>\n                <th>Amount</th>\n                <th>Method</th>\n                <th>Date</th>\n                <th className=\"disabled-sorting text-center noExport\">Actions</th>\n            </DataTable>\n\t\t</div>\n\n\t}\n}\n\nexport class FeePaymentNew extends Component {\n    state = { error: {} };\n    submit = (data) => {\n        return axios.post('/api/finances/fee-payment', data).then( res => {\n            this.setState({error: {}})\n            return res;\n        }, error => {\n            this.setState({error: error.response.data});\n            return Promise.reject(error);\n        })\n    }\n\n    close = () => {\n        this.props.history.push('/school/finances/fee-payment');\n    }\n    render() {\n        return <FeePaymentForm error={this.state.error} submit={this.submit} close={this.close} />\n    }\n}\n\nexport class FeePaymentEdit extends Component {\n    state = { error: {}, data: {} };\n\n    componentDidMount() {\n    if(this.props.location.state && this.props.location.state.payment){\n        this.setState({data: this.props.location.state.payment})\n    }else if(this.props.match.params.paymentId){\n        axios.get(`/api/finances/fee-payment/${this.props.match.params.paymentId}`).then(response => {\n            this.setState({data: response.data});\n        },error=>this.setState({error:error.response.data}))\n    }\n    \n  }\n\n  submit = (data) => {\n        return axios.put(`/api/finances/fee-payment/${this.props.match.params.paymentId}`, data).then( res => {\n            this.setState({error: {}})\n            return res;\n        }, error => {\n            this.setState({error: error.response.data});\n            return Promise.reject(error);\n        })\n    }\n\n    close = () => {\n        this.props.history.push('/school/finances/fee-payment');\n    }\n\n    render() {\n        return <FeePaymentForm edit={true} error={this.state.error} data={this.state.data} submit={this.submit} close={this.close} />\n    }\n}","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport {inject} from 'mobx-react';\n\nimport StudentForm from '../components/StudentForm';\nimport DataTable from '../components/DataTable';\nimport getCookie from '../utils/getCookie';\n\n@inject('classesStore')\nexport default class FeeBalance extends Component {\n  dateRef = React.createRef();\n  state = { classes: null, class_id: '', stream_id: '', date: '' };\n  dataTable = null;\n  constructor(props) {\n    super(props);\n    var self = this;\n    this.dataTable = React.createRef()\n    this.dataTableConfig = {\n      serverSide: true,\n      processing: true,\n      ajax: function(params, callback, settings) {\n        params.class_id = self.state.class_id;\n        params.stream_id = self.state.stream_id;\n        axios.get('/api/finances/fee-balance', {params: {params}}).then(response=>{\n          callback(response.data);\n        })\n      },\n      columns: [\n        { data: 'admission_no', name: 'admission_no', 'class': 'text-center'},\n        { data: 'firstname', name: 'firstname', 'class': 'text-center'},\n        { data: 'lastname', name: 'lastname', 'class': 'text-center'},\n        { data: 'total', name: 'total', 'class': 'text-center', render: (data,type,row) => data ? data : '-' },\n        { data: 'payed', name: 'payed', 'class': 'text-center', render: (data,type,row) => data ? data : '-' },\n        { data: 'balance', name: 'balance', 'class': 'text-center', render: (data,type,row) => data ? data : '-' }\n      ],\n    };\n  }\n\n  inputChanged(field,event) {\n    let val = event.target.value;\n    if(field == 'stream_id')\n      this.setState({stream_id: val}, this.filterChanged);\n    else if(field == 'class_id')\n      this.setState({class_id: val, stream_id: ''}, this.filterChanged);\n    else\n      this.setState({[field]: val}, this.filterChanged);\n  }\n\n  filterChanged = () => {\n    this.dataTable.current.draw();\n  }\n\n\tcomponentDidMount() {\n    this.props.classesStore.list({},true).then(classes=>{\n      this.setState({classes});\n    })\n\t}\n\n\trender() {\n\t\tlet match = this.props.match;\n\n    let {classes} = this.state;\n    let streams = null;\n\n    if(classes) {\n      let selectedClass = classes.find( (cls) => cls.id == this.state.class_id );\n      if(selectedClass) {\n        streams = selectedClass.streams;\n      }\n    }\n\n\t\treturn <div className=\"container-fluid\">\n      <DataTable ref={this.dataTable} title=\"Fee Balance\" config={this.dataTableConfig} toolbar={\n        <>\n          <select onChange={this.inputChanged.bind(this,'class_id')} value={this.state.class_id} id='filterByClass' className=\"form-control col-6\">\n            <option value=''>-- Select Class --</option>\n            {classes && classes.map( (cls) => <option key={cls.id} value={cls.id}>{cls.name}</option> )}\n          </select>\n          <select onChange={this.inputChanged.bind(this,'stream_id')} value={this.state.stream_id} id='filterByStream' className=\"form-control col-6\">\n            <option value=''>-- Select Stream --</option>\n            {streams && streams.map( (stream) => <option key={stream.id} value={stream.id}>{stream.name}</option> )}\n          </select>\n        </>\n      }>\n        <th>Admission No.</th>\n        <th>Firstname</th>\n        <th>Lastname</th>\n        <th>Total</th>\n        <th>Payed</th>\n        <th>Balance</th>\n      </DataTable>\n\t\t</div>\n\n\t}\n}\n","import React, { Component } from 'react';\nimport $ from 'jquery';\n\nexport default class Checkbox extends Component {\n\tinputEl = React.createRef();\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {checked: this.props.checked};\n\t}\n\tinputChanged = (event) => {\n\t\tevent.stopPropagation();\n\t\tif(this.props.onChange)\n\t\t\tthis.props.onChange(event);\n\t}\n\n\tcomponentDidUpdate(prevProps,prevState) {\n\t\tif(this.props.checked != prevProps.checked) {\n\t\t\tthis.setState({checked: this.props.checked})\n\t\t}\n\t}\n\n\ttoggle = (event) => {\n\t\tif(this.props.disabled){\n\t\t\treturn;\n\t\t}\n\t\tlet value = this.state.checked ? false : true;\n\t\tthis.setState({checked: value}, ()=>{\n\t\t\tvar nativeInputValueSetter = Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype, \"value\").set;\n\t\t\tnativeInputValueSetter.call(this.inputEl.current, 'on');\n\n\t\t\tvar ev2 = new Event('click', { bubbles: true});\n\t\t\tthis.inputEl.current.dispatchEvent(ev2);\n\t\t});\n\t}\n\n\trender() {\n\t\treturn <div className={`bootstrap-switch-${this.state.checked ? 'on' : 'off'} bootstrap-switch bootstrap-switch-wrapper bootstrap-switch-animate`}\n\t\t\tstyle={{width: '72px'}} onClick={this.toggle}>\n    \t<div className=\"bootstrap-switch-container\" style={{width: '122px', marginLeft: '0px'}}>\n    \t\t<span className=\"bootstrap-switch-handle-on bootstrap-switch-info\" style={{width: '50px'}}>\n    \t\t\t<i className=\"fa fa-check\"></i>\n    \t\t</span>\n    \t\t<span className=\"bootstrap-switch-label\" style={{width: '30px'}} >&nbsp;</span>\n    \t\t<span className=\"bootstrap-switch-handle-off bootstrap-switch-info\" style={{width: '50px'}}>\n    \t\t\t<i className=\"fa fa-times\"></i>\n    \t\t</span>\n    \t\t<input ref={this.inputEl} checked={this.state.checked} onChange={()=>{}}  onClick={this.inputChanged} type=\"checkbox\" name={this.props.name} data-toggle=\"switch\" data-on-color=\"info\" data-off-color=\"info\" data-on-text=\"<i class='fa fa-check'></i>\" data-off-text=\"<i class='fa fa-times'></i>\" />\n    \t\t\n    \t</div>\n    </div>\n\t}\n}\n","import React, { Component } from 'react';\nimport lodash from 'lodash';\n\nimport ShowNotification from '../components/ShowNotification';\nimport DateInput from '../components/DateInput';\nimport Checkbox from '../components/Checkbox';\nimport confirmAction from '../utils/confirmAction';\n\nexport default class DebtForm extends Component {\n\tdefaults = {\n\t\tdebtor: '',\n\t\tamount: '',\n\t\tdate: '',\n\t\tdue: '',\n\t\trelieved: false,\n\t\tcanceled: false\n\t};\n\n\tstate = {error: {}, loading: false, teachers: null, data: {...this.defaults}};\n\n\tcomponentDidUpdate(prevProps,prevState) {\n\t\tif(this.props.edit){\n\t\t\tif(!lodash.isEqual(this.props.data, prevProps.data)){\n\t\t\t\tthis.setState({data: {...this.state.data,...this.props.data}})\n\t\t\t}\n\t\t}\n\t\tif(!lodash.isEqual(this.props.error,prevProps.error)){\n\t\t\tthis.setState({error: {...this.state.error,...this.props.error}})\n\t\t}\n\t}\n\n\tinputChanged = (event) => {\n\t\tlet field = event.target.name;\n\t\tlet val = event.target.type == 'checkbox' ? event.target.checked : event.target.value;\n\t\tthis.setState( (state) => state.data[field] = val);\n\t}\n\t\n\tsaveContinue = () => {\n\t\tthis.submit().then(()=>{\n\t\t\tthis.setState({data: {...this.defaults},error: {}});\n\t\t})\n\t}\n\n\tsave = () => {\n\t\tthis.submit().then(()=>this.props.close());\n\t}\n\n\tapply = () => {\n\t\tthis.submit().then(()=>{\n\t\t\tthis.setState({error: {}});\n\t\t})\n\t}\n\n\tsubmit = () => {\n\t\tlet data = this.state.data;\n\t\tthis.setState({loading: true});\n\t\treturn this.props.submit(data).then( res => {\n\t\t\tif(this.props.edit) {\n\t\t\t\tShowNotification(\"Debt Successfully Edited\", \"success\", \"nc-check-2\");\n\t\t\t}else {\n\t\t\t\tShowNotification(\"Debt Created Successfully\", \"success\", \"nc-check-2\");\n\t\t\t}\n\t\t}, error => {\n\t\t\tthis.setState({error: error.response.data});\n\t\t\treturn Promise.reject(error.response.data);\n\t\t}).finally(_=>this.setState({loading:false}));\n\t}\n\n\tdelete = () => {\n    confirmAction( () => {\n      return axios.delete(`/api/finances/debt/${this.props.data.id}`).then(res=>{\n        this.props.close();\n        return {success: 'Deleted!', succes_text: 'Debt was deleted'};\n      }, error => {\n        throw {error: \"Debt couldn't be deleted.\"};\n      })\n    }, {loading_title: 'Deleting...', loading_text: 'Deleting Debt', canceled: \"Deleting Debt Operation Cancelled\", consequence: 'Debt will be deleted'});\n  }\n\n\trender() {\n\t\tlet error = this.state.error || {};\n\t\tlet debtorInvalid='', amountInvalid='', dateInvalid='', dueInvalid='';\n\t\tif(error.errors) {\n\t\t\tdebtorInvalid = error.errors.debtor ? 'is-invalid' : '';\n\t\t\tamountInvalid = error.errors.amount ? 'is-invalid' : '';\n\t\t\tdateInvalid = error.errors.date ? 'is-invalid' : '';\n\t\t\tdueInvalid = error.errors.due ? 'is-invalid' : '';\n\t\t}\n\n\t\treturn <div className=\"container-fluid\">\n\t\t\t{this.props.edit && <div className=\"row\">\n          <div className=\"col-md-12\">\n            <span className=\"pull-right\">\n              <button type=\"button\" className=\"btn btn-danger\" onClick={this.delete} >Delete</button>\n            </span>\n          </div>\n      </div>}\n\t\t  <div className=\"row\">\n\t\t    <div className=\"col-md-12\">\n\t\t      <div className=\"card stacked-form\">\n\t\t\t\t\t  <div className=\"card-header \">\n\t\t\t\t\t    <h4 className=\"card-title\">Debt Details</h4>\n\t\t\t\t\t  </div>\n\t\t\t\t\t  <div className=\"card-body \">\n\t\t\t\t\t    <form method=\"#\" action=\"#\">\n\t\t\t\t\t    \t{error.message && <div className=\"alert alert-danger\">\n                    <span>\n                        <b> Error - </b> {error.message}\n                    </span>\n                </div>}\n\t\t\t\t\t      <div className=\"form-group\">\n\t\t\t\t\t        <label>Debtor's Name</label>\n\t\t\t\t\t        <input value={this.state.data.debtor} onChange={this.inputChanged} name=\"debtor\" type=\"text\" placeholder=\"Debtor's Name\" className={`form-control ${debtorInvalid}`} />\n\t\t\t\t\t        {debtorInvalid && error.errors.debtor.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t      </div>\n\n\t\t\t\t\t      <div className=\"form-group\">\n\t\t\t\t\t        <label>Amount</label>\n\t\t\t\t\t        <input value={this.state.data.amount} onChange={this.inputChanged} name=\"amount\" type=\"text\" placeholder=\"Amount\" className={`form-control ${amountInvalid}`} />\n\t\t\t\t\t        {amountInvalid && error.errors.amount.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t      </div>\n\n\t\t\t\t\t      <div className=\"row\">\n\t\t\t\t\t\t      <div className=\"form-group col-sm-6\">\n\t\t\t\t\t\t        <label>Date</label>\n\t\t\t\t\t\t        <DateInput value={this.state.data.date} onChange={this.inputChanged} name=\"date\" type=\"text\" placeholder=\"Date\" className={`form-control ${dateInvalid}`} />\n\t\t\t\t\t\t        {dateInvalid && error.errors.date.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t      </div>\n\t\t\t\t\t\t      <div className=\"form-group col-sm-6\">\n\t\t\t\t\t\t        <label>Due Date</label>\n\t\t\t\t\t\t        <DateInput value={this.state.data.due} onChange={this.inputChanged} name=\"due\" type=\"text\" placeholder=\"Due Date\" className={`form-control ${dueInvalid}`} />\n\t\t\t\t\t\t        {dueInvalid && error.errors.due.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t      </div>\n\t\t\t\t\t      </div>\n\n\t\t\t\t\t      {this.props.edit && <div className=\"row\">\n\t\t\t\t\t\t      <div className=\"form-group col-sm-6 row\">\n\t\t\t              <label className=\"col-sm-4 col-form-label\">Relieved</label>\n\t\t\t              <div className=\"col-sm-8\">\n\t\t\t                <Checkbox checked={this.state.data.relieved} onChange={this.inputChanged} name='relieved' />\n\t\t\t              </div>\n\t\t\t            </div>\n\n\t\t\t            <div className=\"form-group col-sm-6 row\">\n\t\t\t              <label className=\"col-sm-4 col-form-label\">Canceled</label>\n\t\t\t              <div className=\"col-sm-8\">\n\t\t\t                <Checkbox checked={this.state.data.canceled} onChange={this.inputChanged} name='canceled' />\n\t\t\t              </div>\n\t\t\t            </div>\n\t\t            </div>}\n\n\t\t\t\t\t    </form>\n\t\t\t\t\t  </div>\n\t\t\t\t\t  <div className=\"card-footer \">\n\t\t\t\t\t  \t<div className=\"row\">\n\t\t\t\t\t\t  \t{this.props.edit ? <div className=\"col-sm-2\">\n\t\t\t            \t<input onClick={this.apply} type=\"button\" value=\"APPLY\" disabled={this.state.loading} className=\"btn btn-primary\" />\n\t\t\t          \t</div> :\n\t\t\t          \t<div className=\"col-sm-3\">\n\t\t\t            \t<input onClick={this.saveContinue} type=\"button\" value=\"SAVE AND CONTINUE\" disabled={this.state.loading} className=\"btn btn-primary\" />\n\t\t\t          \t</div>\n\t\t\t          }\n\t\t\t          <div className=\"col-sm-2\">\n\t\t\t            <input onClick={this.save} type=\"button\" value=\"SAVE\" disabled={this.state.loading} className=\"btn btn-success\" />\n\t\t\t          </div>\n\t\t\t          <div className=\"col-sm-2\">\n\t\t\t            <input onClick={this.props.close} type=\"button\" value=\"CLOSE\" disabled={this.state.loading} className=\"btn btn-warning\" />\n\t\t\t          </div>\n\t\t\t\t\t    </div>\n\t\t\t\t\t  </div>\n\n\n\t\t\t\t\t  \n\n\n\t\t\t\t\t</div>\n\t\t    </div>\n\t\t  </div>\n\t\t</div>\n\n\t}\n}","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\n\nimport DebtForm from '../components/DebtForm';\nimport DataTable from '../components/DataTable';\nimport getCookie from '../utils/getCookie';\n\nexport default class Debt extends Component {\n    constructor(props) {\n        super(props);\n        window.todListActionEdit = this.edit;\n        this.dataTable = React.createRef();\n        this.dataTableConfig = {\n            serverSide: true,\n            processing: true,\n            ajax: function(params, callback, settings) {\n                axios.get('/api/finances/debt', {params: {params}}).then(response=>{\n                    callback(response.data);\n                })\n            },\n            columns: [\n                { data: 'debtor', name: 'debtor', 'class': 'text-center'},\n                { data: 'amount', name: 'amount', 'class': 'text-center'},\n                { data: 'payed', name: 'payed', 'class': 'text-center', render: (data,type,row) => data ? data : '-' },\n                { data: 'outstanding', name: 'outstanding', 'class': 'text-center', render: (data,type,row) => data ? data : '-' },\n                { data: 'date', name: 'date', 'class': 'text-center', render: (data,type,row) => data ? (new Date(data)).toDateString() : '-' },\n                { data: 'due', name: 'due', 'class': 'text-center', render: (data,type,row) => data ? (new Date(data)).toDateString() : '-' },\n                { data: null, 'class': 'text-center', render: function(data,type,row) {\n                    return `<span>\n                      <a onclick=\"todListActionEdit('${data.id}')\" class=\"btn btn-link btn-warning details\"><i class=\"fa fa-edit\"></i></a>\n                  </span>`\n                }}\n            ],\n        };\n    }\n\n    edit = (debt) => {\n        this.props.history.push(`${this.props.match.url}/${debt}`);\n    }\n\n\trender() {\n\t\tlet match = this.props.match;\n\t\treturn <div className=\"container-fluid\">\n    \t    <div className=\"row\">\n        \t    <div className=\"col-md-12\">\n        \t      <span className=\"pull-right\">\n        \t        <Link to={`${match.url}/new`} className=\"btn btn-success details\">New Debt</Link>\n        \t      </span>\n        \t    </div>\n    \t    </div>\n            <DataTable ref={this.dataTable} title=\"Debts\" config={this.dataTableConfig}>\n                <th>Debtor</th>\n                <th>Amount</th>\n                <th>Payed</th>\n                <th>Outstanding</th>\n                <th>Date</th>\n                <th>Due</th>\n                <th className=\"disabled-sorting text-center noExport\">Actions</th>\n            </DataTable>\n\t\t</div>\n\n\t}\n}\n\nexport class DebtNew extends Component {\n    state = { error: {} };\n    submit = (data) => {\n        return axios.post('/api/finances/debt', data).then( res => {\n            this.setState({error: {}})\n            return res;\n        }, error => {\n            this.setState({error: error.response.data});\n            return Promise.reject(error);\n        })\n    }\n\n    close = () => {\n        this.props.history.push('/school/finances/debt');\n    }\n    render() {\n        return <DebtForm error={this.state.error} submit={this.submit} close={this.close} />\n    }\n}\n\nexport class DebtEdit extends Component {\n    state = { error: {}, data: {} };\n\n    componentDidMount() {\n    if(this.props.location.state && this.props.location.state.debt){\n        this.setState({data: this.props.location.state.debt})\n    }else if(this.props.match.params.debtId){\n        axios.get(`/api/finances/debt/${this.props.match.params.debtId}`).then(response => {\n            this.setState({data: response.data});\n        },error=>this.setState({error:error.response.data}))\n    }\n    \n  }\n\n  submit = (data) => {\n        return axios.put(`/api/finances/debt/${this.props.match.params.debtId}`, data).then( res => {\n            this.setState({error: {}})\n            return res;\n        }, error => {\n            this.setState({error: error.response.data});\n            return Promise.reject(error);\n        })\n    }\n\n    close = () => {\n        this.props.history.push('/school/finances/debt');\n    }\n\n    render() {\n        return <DebtForm edit={true} error={this.state.error} data={this.state.data} submit={this.submit} close={this.close} />\n    }\n}","import React, { Component } from 'react';\nimport lodash from 'lodash';\n\nimport ShowNotification from '../components/ShowNotification';\nimport DateInput from '../components/DateInput';\nimport confirmAction from '../utils/confirmAction';\n\nexport default class ExpenditureForm extends Component {\n\tdefaults = {\n\t\tdate: '',\n\t\tamount: '',\n\t\texpensable_type: '',\n\t\tcause: '',\n\t\tdebt_id: '',\n\t\tstock_item_id: '',\n\t\tquantity: ''\n\t};\n\n\tstate = {error: {}, loading: false, data: {...this.defaults}};\n\n\tcomponentDidMount() {\n    axios.get('/api/finances/debt').then(res=>{\n    \tthis.setState({debts: res.data.data});\n    });\n\n    axios.get('/api/stocks').then(res=>{\n    \tthis.setState({stockItems: res.data});\n    })\n\n    axios.get('/api/staffs').then(res=>{\n    \tthis.setState({staffs: res.data.data});\n    })\n\t}\n\n\tcomponentDidUpdate(prevProps,prevState) {\n\t\tif(this.props.edit){\n\t\t\tif(!lodash.isEqual(this.props.data, prevProps.data)){\n\t\t\t\tthis.setState({data: {...this.state.data,...this.props.data}})\n\t\t\t}\n\t\t}\n\t\tif(!lodash.isEqual(this.props.error,prevProps.error)){\n\t\t\tthis.setState({error: {...this.state.error,...this.props.error}})\n\t\t}\n\t}\n\n\tinputChanged = (event) => {\n\t\tlet field = event.target.name;\n\t\tlet val = event.target.value;\n\t\tthis.setState( (state) => state.data[field] = val);\n\t}\n\t\n\tsaveContinue = () => {\n\t\tthis.submit().then(()=>{\n\t\t\tthis.setState({data: {...this.defaults},error: {}});\n\t\t})\n\t}\n\n\tsave = () => {\n\t\tthis.submit().then(()=>this.props.close());\n\t}\n\n\tapply = () => {\n\t\tthis.submit().then(()=>{\n\t\t\tthis.setState({error: {}});\n\t\t})\n\t}\n\n\tsubmit = () => {\n\t\tlet data = this.state.data;\n\t\tthis.setState({loading: true});\n\t\treturn this.props.submit(data).then( res => {\n\t\t\tif(this.props.edit) {\n\t\t\t\tShowNotification(\"Expenditure Successfully Edited\", \"success\", \"nc-check-2\");\n\t\t\t}else {\n\t\t\t\tShowNotification(\"Expenditure Created Successfully\", \"success\", \"nc-check-2\");\n\t\t\t}\n\t\t}, error => {\n\t\t\tthis.setState({error: error.response.data});\n\t\t\treturn Promise.reject(error.response.data);\n\t\t}).finally(_=>this.setState({loading:false}));\n\t}\n\n\tdelete = () => {\n    confirmAction( () => {\n      return axios.delete(`/api/finances/expenditure/${this.props.data.id}`).then(res=>{\n        this.props.close();\n        return {success: 'Deleted!', succes_text: 'Expenditure was deleted'};\n      }, error => {\n        throw {error: \"Expenditure couldn't be deleted.\"};\n      })\n    }, {loading_title: 'Deleting...', loading_text: 'Deleting Expenditure', canceled: \"Deleting Expenditure Operation Cancelled\", consequence: 'Expenditure will be deleted'});\n  }\n\n\trender() {\n\t\tlet error = this.state.error || {};\n\t\tlet dateInvalid='', amountInvalid='', typeInvalid='', causeInvalid='', debtorInvalid='', staffInvalid='', stockItemInvalid='', stockQuantityInvalid='';\n\t\tif(error.errors) {\n\t\t\tdateInvalid = error.errors.date ? 'is-invalid' : '';\n\t\t\tamountInvalid = error.errors.amount ? 'is-invalid' : '';\n\t\t\ttypeInvalid = error.errors.expensable_type ? 'is-invalid' : '';\n\t\t\tcauseInvalid = error.errors.cause ? 'is-invalid' : '';\n\t\t\tdebtorInvalid = error.errors.debt_id ? 'is-invalid' : '';\n\t\t\tstaffInvalid = error.errors.staff_id ? 'is-invalid' : '';\n\t\t\tstockItemInvalid = error.errors.stock_item_id ? 'is-invalid' : '';\n\t\t\tstockQuantityInvalid = error.errors.quantity ? 'is-invalid' : '';\n\t\t}\n\n\t\tlet {debts, stockItems, staffs} = this.state;\n\n\t\treturn <div className=\"container-fluid\" ref={this.elRef} >\n\t\t\t{this.props.edit && <div className=\"row\">\n          <div className=\"col-md-12\">\n            <span className=\"pull-right\">\n              <button type=\"button\" className=\"btn btn-danger\" onClick={this.delete} >Delete</button>\n            </span>\n          </div>\n      </div>}\n\t\t  <div className=\"row\">\n\t\t    <div className=\"col-md-12\">\n\t\t      <div className=\"card stacked-form\">\n\t\t\t\t\t  <div className=\"card-header \">\n\t\t\t\t\t    <h4 className=\"card-title\">Expenditure Details</h4>\n\t\t\t\t\t  </div>\n\t\t\t\t\t  <div className=\"card-body \">\n\t\t\t\t\t    <form method=\"#\" action=\"#\">\n\t\t\t\t\t    \t{error.message && <div className=\"alert alert-danger\">\n                    <span>\n                        <b> Error - </b> {error.message}\n                    </span>\n                </div>}\n\t\t\t\t\t    \t<div className=\"row\">\n\t\t\t\t\t    \t\t<div className=\"form-group col-sm-6\">\n\t\t\t\t\t\t        <label>Date</label>\n\t\t\t\t\t\t        <DateInput value={this.state.data.date} onChange={this.inputChanged} name=\"date\" type=\"text\" placeholder=\"Date\" className={`form-control ${dateInvalid}`} />\n\t\t\t\t\t\t        {dateInvalid && error.errors.date.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t      </div>\n\t\t\t\t\t\t      <div className=\"form-group col-sm-6\">\n\t\t\t\t\t\t        <label>Amount</label>\n\t\t\t\t\t\t        <input value={this.state.data.amount} onChange={this.inputChanged} name=\"amount\" type=\"text\" placeholder=\"Amount\" className={`form-control ${amountInvalid}`} />\n\t\t\t\t\t\t        {amountInvalid && error.errors.amount.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t      </div>\n\t\t\t\t\t    \t</div>\n\n\t\t\t\t\t      <div className=\"row\">\n\t\t\t\t\t\t      <div className=\"form-group col-sm-6\">\n\t\t\t\t\t\t        <label>Expenditure Type</label>\n\t\t\t\t\t\t        <select value={this.state.data.expensable_type} onChange={this.inputChanged} name=\"expensable_type\" className={`form-control ${typeInvalid}`} size=\"9\" >\n\t\t\t\t\t\t        \t<option value=\"\">MISCELLANEOUS</option>\n\t                    <option value=\"debt\">DEBT</option>\n\t                    <option value=\"stock\">STOCK</option>\n\t                    <option value=\"staff\">STAFF</option>\n\t                  </select>\n\t\t\t\t\t\t        {typeInvalid && error.errors.expensable_type.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t      </div>\n\n\t\t\t\t\t\t      <div className=\"col-sm-6\">\n\t\t\t\t\t\t      \t{this.state.data.expensable_type == 'debt' && <div className=\"form-group\">\n\t\t\t\t\t\t      \t\t<label>Debtor</label>\n\t\t\t\t\t\t\t        <select value={this.state.data.debt_id} onChange={this.inputChanged} name=\"debt_id\" className={`form-control ${debtorInvalid}`} size=\"9\" >\n\t\t                    <option value=\"\"> --Select Debtor-- </option>\n\t                    \t{debts && debts.map( debt => <option key={debt.id} value={debt.id}>{lodash.unescape(debt.debtor)}</option>)}\n\t\t                  </select>\n\t\t\t\t\t\t\t        {debtorInvalid && error.errors.debt_id.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t      \t</div>}\n\n\t\t\t\t\t\t      \t{this.state.data.expensable_type == 'stock' && <div className=\"form-group\">\n\t\t\t\t\t\t      \t\t<label>Stock</label>\n\t\t\t\t\t\t\t        <select value={this.state.data.stock_item_id} onChange={this.inputChanged} name=\"stock_item_id\" className={`form-control ${stockItemInvalid}`} size=\"5\" >\n\t\t                    <option value=\"\"> --Select Item-- </option>\n\t                    \t{stockItems && stockItems.map( item => <option key={item.id} value={item.id}>{item.name}</option>)}\n\t\t                  </select>\n\t\t                  {stockItemInvalid && error.errors.stock_item_id.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t                  &nbsp;\n\t\t                  <input type=\"text\"\n\t\t                  \tplaceholder=\"Quantity\"\n\t\t                  \tvalue={this.state.data.quantity}\n\t\t                  \tonChange={this.inputChanged}\n\t\t                  \tname=\"quantity\"\n\t\t                  \tclassName={`form-control ${stockQuantityInvalid}`} />\n\t\t\t\t\t\t\t        {stockQuantityInvalid && error.errors.quantity.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t      \t</div>}\n\n\t\t\t\t\t\t      \t{this.state.data.expensable_type == 'staff' && <div className=\"form-group\">\n\t\t\t\t\t\t      \t\t<label>Staff</label>\n\t\t\t\t\t\t\t        <select value={this.state.data.staff_id} onChange={this.inputChanged} name=\"staff_id\" className={`form-control ${staffInvalid}`} size=\"9\" >\n\t\t                    <option value=\"\"> -- Select Staff Member -- </option>\n\t                    \t{staffs && staffs.map( staff => <option key={staff.id} value={staff.id}>{staff.firstname} {staff.lastname}</option>)}\n\t\t                  </select>\n\t\t\t\t\t\t\t        {staffInvalid && error.errors.staff_id.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t      \t</div>}\n\n\t\t\t\t\t\t      \t{this.state.data.expensable_type == '' && <div className=\"form-group\">\n\t\t\t\t\t\t      \t\t<label>Cause</label>\n\t\t\t\t\t\t      \t\t<textarea\n\t\t\t\t\t\t      \t\t\tvalue={this.state.data.cause}\n\t\t\t\t\t\t      \t\t\tonChange={this.inputChanged} name=\"cause\"\n\t\t\t\t\t\t      \t\t\tplaceholder=\"What was the expenditure for\" \n\t\t\t\t\t\t      \t\t\tclassName={`form-control ${causeInvalid}`}>\n\t\t\t\t\t\t      \t\t</textarea>\n\t\t\t\t\t\t      \t\t{causeInvalid && error.errors.cause.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t      \t</div>}\n\t\t\t\t\t\t      </div>\n\n\t\t\t\t\t\t    </div>\n\n\t\t\t\t\t    </form>\n\t\t\t\t\t  </div>\n\t\t\t\t\t  <div className=\"card-footer \">\n\t\t\t\t\t  \t<div className=\"row\">\n\t\t\t\t\t\t  \t{this.props.edit ? <div className=\"col-sm-2\">\n\t\t\t            \t<input onClick={this.apply} type=\"button\" value=\"APPLY\" disabled={this.state.loading} className=\"btn btn-primary\" />\n\t\t\t          \t</div> :\n\t\t\t          \t<div className=\"col-sm-3\">\n\t\t\t            \t<input onClick={this.saveContinue} type=\"button\" value=\"SAVE AND CONTINUE\" disabled={this.state.loading} className=\"btn btn-primary\" />\n\t\t\t          \t</div>\n\t\t\t          }\n\t\t\t          <div className=\"col-sm-2\">\n\t\t\t            <input onClick={this.save} type=\"button\" value=\"SAVE\" disabled={this.state.loading} className=\"btn btn-success\" />\n\t\t\t          </div>\n\t\t\t          <div className=\"col-sm-2\">\n\t\t\t            <input onClick={this.props.close} type=\"button\" value=\"CLOSE\" disabled={this.state.loading} className=\"btn btn-warning\" />\n\t\t\t          </div>\n\t\t\t\t\t    </div>\n\t\t\t\t\t  </div>\n\n\n\t\t\t\t\t  \n\n\n\t\t\t\t\t</div>\n\t\t    </div>\n\t\t  </div>\n\t\t</div>\n\n\t}\n}","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\n\nimport ExpenditureForm from '../components/ExpenditureForm';\nimport DataTable from '../components/DataTable';\nimport getCookie from '../utils/getCookie';\n\nexport default class Expenditure extends Component {\n    constructor(props) {\n        super(props);\n        window.expenditureListActionEdit = this.edit;\n        this.dataTable = React.createRef();\n        this.dataTableConfig = {\n            serverSide: true,\n            processing: true,\n            ajax: function(params, callback, settings) {\n                axios.get('/api/finances/expenditure', {params: {params}}).then(response=>{\n                    callback(response.data);\n                })\n            },\n            columns: [\n                { data: 'date', name: 'date', 'class': 'text-center', render: (data,type,row) => (new Date(data)).toDateString() },\n                { data: 'amount', name: 'amount', 'class': 'text-center'},\n                { data: 'expensable_type', name: 'expensable_type', 'class': 'text-center', render: (data,type,row) => (data||'MISCELLANEOUS').toUpperCase() },\n                { data: 'cause', name: 'cause', 'class': 'text-center'},\n                { data: null, 'class': 'text-center', render: function(data,type,row) {\n                    return `<span>\n                      <a onclick=\"expenditureListActionEdit('${data.id}')\" class=\"btn btn-link btn-warning details\"><i class=\"fa fa-edit\"></i></a>\n                  </span>`\n                }}\n            ],\n        };\n    }\n\n    edit = (expenditure) => {\n        this.props.history.push(`${this.props.match.url}/${expenditure}`);\n    }\n    \n\trender() {\n\t\tlet match = this.props.match;\n\t\treturn <div className=\"container-fluid\">\n    \t    <div className=\"row\">\n        \t    <div className=\"col-md-12\">\n        \t      <span className=\"pull-right\">\n        \t        <Link to={`${match.url}/new`} className=\"btn btn-success details\">New Expenditure</Link>\n        \t      </span>\n        \t    </div>\n    \t    </div>\n            <DataTable ref={this.dataTable} title=\"Expenditures\" config={this.dataTableConfig}>\n                <th>Date</th>\n                <th>Amount</th>\n                <th>Type</th>\n                <th>Cause</th>\n                <th className=\"disabled-sorting text-center noExport\">Actions</th>\n            </DataTable>\n\t\t</div>\n\n\t}\n}\n\nexport class ExpenditureNew extends Component {\n    state = { error: {} };\n    submit = (data) => {\n        return axios.post('/api/finances/expenditure', data).then( res => {\n            this.setState({error: {}})\n            return res;\n        }, error => {\n            this.setState({error: error.response.data});\n            return Promise.reject(error);\n        })\n    }\n\n    close = () => {\n        this.props.history.push('/school/finances/expenditure');\n    }\n    render() {\n        return <ExpenditureForm error={this.state.error} submit={this.submit} close={this.close} />\n    }\n}\n\nexport class ExpenditureEdit extends Component {\n    state = { error: {}, data: {} };\n\n    componentDidMount() {\n    if(this.props.location.state && this.props.location.state.expenditure){\n        this.setState({data: this.props.location.state.expenditure})\n    }else if(this.props.match.params.expenditureId){\n        axios.get(`/api/finances/expenditure/${this.props.match.params.expenditureId}`).then(response => {\n            this.setState({data: response.data.data});\n        },error=>this.setState({error:error.response.data}))\n    }\n    \n  }\n\n  submit = (data) => {\n        return axios.put(`/api/finances/expenditure/${this.props.match.params.expenditureId}`, data).then( res => {\n            this.setState({error: {}})\n            return res;\n        }, error => {\n            this.setState({error: error.response.data});\n            return Promise.reject(error);\n        })\n    }\n\n    close = () => {\n        this.props.history.push('/school/finances/expenditure');\n    }\n\n    render() {\n        return <ExpenditureForm edit={true} error={this.state.error} data={this.state.data} submit={this.submit} close={this.close} />\n    }\n}","import React, {Component} from 'react';\nimport lodash from 'lodash';\n\nimport CardStats from '../components/CardStats';\nimport Chartist from 'chartist';\n\nexport default class Finance extends Component {\n\tstate = {finances: null }\n\tcomponentDidMount() {\n\t\taxios.get('/api/finances').then(res=>{\n\t\t\tthis.setState({finances: res.data});\n\t\t})\n\t\tthis.initChart();\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\tif(!lodash.isEqual(this.state.finances,prevState.finances)){\n\t\t\tthis.initChart();\n\t\t}\n\t}\n\n\tinitChart() {\n\t\tif(!this.state.finances)\n\t\t\treturn;\n\t\tlet finances = this.state.finances;\n\t\tvar dataPreferences = {\n      series: [\n        [25, 30, 20, 25]\n      ]\n    };\n\n    var optionsPreferences = {\n      donut: true,\n      donutWidth: 40,\n      startAngle: 0,\n      total: 100,\n      showLabel: false,\n      axisX: {\n          showGrid: false\n      }\n    };\n    Chartist.Pie('#chartEmail', dataPreferences, optionsPreferences);\n    Chartist.Pie('#chartEmail', this.calculateChartStat(finances.fees, finances.payments, finances.debt));\n\t}\n\n\tcalculateBalance(balance_down,payments,expenditure) {\n\t\tlet b = balance_down ? balance_down.balance : 0;\n\t\tlet p = payments ? payments.total : 0;\n\t\tlet e = expenditure ? expenditure.total : 0;\n\t\tlet date = balance_down ? balance_down.date : '';\n\t\tdate = payments && (Date.parse(payments.date) > Date.parse(date) ? payments.date : date)\n\t\tdate = expenditure && (Date.parse(expenditure.date) > Date.parse(date) ? expenditure.date : date)\n\t\tlet balance = b + p - e;\n\t\treturn {balance,date};\n\t}\n\n\tcalculateChartStat(fees,payments,debt){\n\t\tpayments = payments ? payments.total : 0;\n\t\tdebt = debt ? debt.outstanding : 0;\n\t\tlet unpayed = (fees ? fees.total : 0) - payments;\n\t\tif(unpayed >= 0) {\n\t\t\tlet total = payments + unpayed + debt;\n\t\t\tpayments = (payments/total) * 100;\n\t\t\tunpayed = (unpayed/total) * 100;\n\t\t\tdebt = (debt/total) * 100;\n\t\t\treturn {\n\t\t\t\tlabels: [`${Math.floor(payments)}%`, `${Math.floor(debt)}%`, `${Math.floor(unpayed)}%`],\n\t\t\t\tseries: [payments, debt, unpayed]\n\t\t\t};\n\t\t} else {\n\t\t\tlet total = payments + debt;\n\t\t\tpayments = (payments/total) * 100;\n\t\t\tdebt = (debt/total) * 100;\n\t\t\treturn {\n\t\t\t\tlabels: [`${Math.floor(payments)}%`, `${Math.floor(debt)}%`],\n\t\t\t\tseries: [payments, debt]\n\t\t\t};\n\t\t}\n\t}\n\n\trender() {\n\t\tlet finances = this.state.finances || {};\n\t\tlet balance = this.calculateBalance(finances.balance_down,finances.payments,finances.expenditure);\n\t\treturn <div className=\"container-fluid\">\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-lg-4 col-sm-6\">\n\t\t\t\t\t<CardStats\n\t\t\t\t\t\tcategory=\"Balance Carried Down\"\n\t\t\t\t\t\ttitle={finances.balance_down ? finances.balance_down.balance : 0}\n\t\t\t\t\t\ticon=\"nc-cloud-download-93\"\n\t\t\t\t\t\tfooter={finances.balance_down ? (new Date(finances.balance_down.date)).toDateString() : '-' } />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-lg-4 col-sm-6\">\n\t\t\t\t\t<CardStats\n\t\t\t\t\t\tcategory=\"Total Fees\"\n\t\t\t\t\t\ttitle={finances.fees ? finances.fees.total : 0}\n\t\t\t\t\t\ticon=\"nc-bag\"\n\t\t\t\t\t\tfooter={finances.fees ? (new Date(finances.fees.date)).toDateString() : '-' } />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-lg-4 col-sm-6\">\n\t\t\t\t\t<CardStats \n\t\t\t\t\t\tcategory=\"Total Debt\"\n\t\t\t\t\t\ttitle={finances.debt ? finances.debt.outstanding : 0}\n\t\t\t\t\t\ticon=\"nc-bank\"\n\t\t\t\t\t\tfooter={finances.debt ? (new Date(finances.debt.date)).toDateString() : '-' } />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-lg-4 col-sm-6\">\n\t\t\t\t\t<CardStats\n\t\t\t\t\t\tcategory=\"Total Payment\"\n\t\t\t\t\t\ttitle={finances.payments ? finances.payments.total : 0}\n\t\t\t\t\t\ticon=\"nc-money-coins\"\n\t\t\t\t\t\tfooter={finances.payments ? (new Date(finances.payments.date)).toDateString() : '-' } />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-lg-4 col-sm-6\">\n\t\t\t\t\t<CardStats\n\t\t\t\t\t\tcategory=\"Total Expenditure\"\n\t\t\t\t\t\ttitle={finances.expenditure ? finances.expenditure.total : 0}\n\t\t\t\t\t\ticon=\"nc-paper-2\"\n\t\t\t\t\t\tfooter={finances.expenditure ? (new Date(finances.expenditure.date)).toDateString() : '-'} />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-lg-4 col-sm-6\">\n\t\t\t\t\t<CardStats\n\t\t\t\t\t\tcategory=\"Account Balance\"\n\t\t\t\t\t\ttitle={balance ? balance.balance : 0}\n\t\t\t\t\t\ticon=\"nc-credit-card\"\n\t\t\t\t\t\tfooter={balance ? (new Date(balance.date)).toDateString() : '-'} />\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row\">\n        <div className=\"col-md-4\">\n            <div className=\"card \">\n                <div className=\"card-header \">\n                    <h4 className=\"card-title\">Period Statistics</h4>\n                    <p className=\"card-category\">Current Period Status</p>\n                </div>\n                <div className=\"card-body \">\n                    <div id=\"chartEmail\" className=\"ct-chart ct-perfect-fourth\"></div>\n                </div>\n                <div className=\"card-footer \">\n                    <div className=\"legend\">\n                        <i className=\"fa fa-circle text-info\"></i> Payed Fees\n                        <i className=\"fa fa-circle text-danger\"></i> Debt\n                        <i className=\"fa fa-circle text-warning\"></i> Unpayed fees\n                    </div>\n                    <hr />\n                    <div className=\"stats\">\n                        <i className=\"fa fa-clock-o\"></i> \n                    </div>\n                </div>\n            </div>\n        </div>\n      </div>\n\n\t\t</div>\n\t}\n}","import React, { Component } from 'react';\nimport { Route } from \"react-router-dom\";\n\nimport AnimatedSwitch from '../components/animated-switch';\n\nimport FeeStructure, { FeeCategoryNew, FeeCategoryEdit } from './FeeStructure';\nimport FeePayment, { FeePaymentNew, FeePaymentEdit } from './FeePayment';\nimport FeeBalance from './FeeBalance';\nimport Debt, { DebtNew, DebtEdit } from './Debt';\nimport Expenditure, { ExpenditureNew, ExpenditureEdit } from './Expenditure';\nimport Finance from './Finance';\n\nexport default class FinancePages extends Component {\n\trender() {\n\t\tlet match = this.props.match;\n\t\treturn <AnimatedSwitch>\n\t\t\t\t\t\t<Route path={`${match.path}/fee-structure/category/new/:classId?`} render={(props) => <FeeCategoryNew {...props} /> } />\n\t\t\t\t\t\t<Route path={`${match.path}/fee-structure/category/:categoryId`} render={(props) => <FeeCategoryEdit {...props} /> } />\n\t\t\t\t\t\t<Route exact path={`${match.path}/fee-structure`} render={(props) => <FeeStructure {...props} /> } />\n\n\t\t\t\t\t\t<Route path={`${match.path}/fee-payment/new`} render={(props) => <FeePaymentNew {...props} /> } />\n\t\t\t\t\t\t<Route path={`${match.path}/fee-payment/:paymentId`} render={(props) => <FeePaymentEdit {...props} /> } />\n\t\t\t\t\t\t<Route exact path={`${match.path}/fee-payment`} render={(props) => <FeePayment {...props} /> } />\n\n\t\t\t\t\t\t<Route exact path={`${match.path}/fee-balance`} render={(props) => <FeeBalance {...props} /> } />\n\n\t\t\t\t\t\t<Route path={`${match.path}/debt/new`} render={(props) => <DebtNew {...props} /> } />\n\t\t\t\t\t\t<Route path={`${match.path}/debt/:debtId`} render={(props) => <DebtEdit {...props} /> } />\n\t\t\t\t\t\t<Route exact path={`${match.path}/debt`} render={(props) => <Debt {...props} /> } />\n\n\t\t\t\t\t\t<Route path={`${match.path}/expenditure/new`} render={(props) => <ExpenditureNew {...props} /> } />\n\t\t\t\t\t\t<Route path={`${match.path}/expenditure/:expenditureId`} render={(props) => <ExpenditureEdit {...props} /> } />\n\t\t\t\t\t\t<Route exact path={`${match.path}/expenditure`} render={(props) => <Expenditure {...props} /> } />\n\n\t\t\t\t\t\t<Route path=\"\" render={(props) => <Finance {...props} /> } />\n\t\t\t\t\t</AnimatedSwitch>\n\t}\n}\n"],"sourceRoot":""}