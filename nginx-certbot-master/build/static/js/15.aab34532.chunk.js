/*! For license information please see 15.aab34532.chunk.js.LICENSE.txt */
(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[15],{115:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n=a(7),r=a(3),s=a(4),l=a(11),c=a(10),o=a(37),i=a(12),u=a(0),m=a.n(u),d=a(36),p=a.n(d),h=(a(123),a(127),a(128),a(129),a(130),a(131),a(132),a(133),a(134),a(135),a(136),a(122),function(e){function t(e){var a;Object(r.a)(this,t),(a=Object(l.a)(this,Object(c.a)(t).call(this,e))).tableEl=m.a.createRef(),a.state={},a.table=null,a.draw=function(){a.table.draw()},a.highlightRow=function(e,t){var n=$(e);n.tooltip("dispose");var r="";if(t.__meta_pending){r="Pending - ";var s="table-dark";if(t.__meta_error&&t.__meta_error.message){s="Network Error"!==t.__meta_error.message?"table-warning":s;var l=t.__meta_error;if(r+=l.message,l.errors)for(var c=0,o=Object.keys(l.errors);c<o.length;c++){var i=o[c];r+="\n"+l.errors[i]}}e.classList.add(s)}else t[a.props.softDeleteField]?(r="Discontinued",e.classList.add("table-danger")):(e.classList.remove("table-warning"),e.classList.remove("table-dark"),e.classList.remove("table-danger"));r&&n.tooltip({toggle:"tooltip",placement:"bottom",title:r})};var n=Object(o.a)(a);return a.defaultConfig={pagingType:"full_numbers",lengthMenu:[[10,25,50,100,-1],[10,25,50,100,"All"]],dom:'rt<"bottom"lpi><"clear">',buttons:[{extend:"excelHtml5",text:'<i class="fa fa-file-excel-o text-info"></i>',titleAttr:"Excel",exportOptions:{columns:"thead th:not(.noExport)"}}],responsive:!0,language:{search:"_INPUT_",searchPlaceholder:"Search records"},rowCallback:function(e,t){var a=$(e);a.tooltip("dispose");var r="";if(t.__meta_pending){r="Pending - ";var s="table-dark";if(t.__meta_error&&t.__meta_error.message){s="Network Error"!==t.__meta_error.message?"table-warning":s;var l=t.__meta_error;if(r+=l.message,l.errors)for(var c=0,o=Object.keys(l.errors);c<o.length;c++){var i=o[c];r+="\n"+l.errors[i]}}e.classList.add(s)}else t[n.props.softDeleteField]?(r="Discontinued",e.classList.add("table-danger")):(e.classList.remove("table-warning"),e.classList.remove("table-dark"),e.classList.remove("table-danger"));r&&a.tooltip({toggle:"tooltip",placement:"bottom",title:r})}},a}return Object(i.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.initTable()}},{key:"componentWillUnmount",value:function(){$(this.tableEl.current).find("tr[title]").tooltip("dispose")}},{key:"initTable",value:function(){var e=this,t=this.props.config||{},a=this.props.config.rowCallback;t.rowCallback=function(t,n){e.highlightRow(t,n),a&&a(t,n)},this.table=$(this.tableEl.current).DataTable(Object(n.a)({},this.defaultConfig,{},t))}},{key:"componentDidUpdate",value:function(e,t){p.a.isEqual(e.config,this.props.config)||(this.table.destroy(),this.initTable())}},{key:"render",value:function(){return m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-md-12"},m.a.createElement("div",{className:"card data-tables"},m.a.createElement("div",{className:"card-header text-center"},m.a.createElement("h3",null,this.props.title)),m.a.createElement("div",{className:"card-body table-striped table-no-bordered table-hover dataTable dtr-inline table-full-width"},m.a.createElement("div",{className:"toolbar col-12"},m.a.createElement("div",{className:"row"},this.props.toolbar)),m.a.createElement("div",{className:"fresh-datatables"},m.a.createElement("table",{ref:this.tableEl,className:"table table-striped table-no-bordered table-hover",cellSpacing:"0",width:"100%",style:{width:"100%"}},m.a.createElement("thead",null,m.a.createElement("tr",null,this.props.children)),m.a.createElement("tfoot",null,m.a.createElement("tr",null,this.props.children))))))))}}]),t}(u.Component))},116:function(e,t,a){"use strict";function n(e){for(var t=e+"=",a=decodeURIComponent(document.cookie).split(";"),n=0;n<a.length;n++){for(var r=a[n];" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(t))return r.substring(t.length,r.length)}return""}a.d(t,"a",(function(){return n}))},118:function(e,t,a){"use strict";var n=a(124),r=a.n(n);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.a.fire({title:"Are you sure?",text:t.consequence||"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:t.yes||"Yes"}).then((function(a){if(a.value){var n=r.a.fire({title:t.loading||"Waiting...",text:t.loading_text||"waiting for operation to complete",showConfirmButton:!1,onBeforeOpen:function(){r.a.showLoading()}});e().then((function(e){n.closeModal(),r.a.fire(e.success,e.succes_text,"success")}),(function(e){n.closeModal(),r.a.fire({icon:"error",title:"Oops...",text:e.error,footer:e.footer||""})}))}else a.dismiss===r.a.DismissReason.cancel&&r.a.fire("Cancelled",t.canceled,"error")}))}},122:function(e,t){jQuery.fn.dataTable.Api.register("MakeCellsEditable()",(function(e){var t=this.table();jQuery.fn.extend({updateEditableCell:function(t){var a=$(t).closest("table").DataTable().table(),n=a.row($(t).parents("tr")),r=a.cell($(t).parents("td, th")),s=r.index().column,l=function(e){var t;switch($(e).prop("nodeName").toLowerCase()){case"a":$(e).siblings("input").length>0&&(t=$(e).siblings("input")),$(e).siblings("select").length>0&&(t=$(e).siblings("select")),$(e).siblings("textarea").length>0&&(t=$(e).siblings("textarea"));break;default:t=$(e)}return t}(t),c=l.val();function o(){e.allowNulls.errorClass?$(l).addClass(e.allowNulls.errorClass):$(l).css({border:"red solid 1px"})}function i(t){var a=r.data();r.data(t),e.onUpdate(r,n,a)}!c&&e.allowNulls&&1!=e.allowNulls?e.allowNulls.columns?e.allowNulls.columns.indexOf(s)>-1?i(c):o():c||o():c&&e.onValidate?e.onValidate(r,n,c)?i(c):o():i(c);a.page.info().page},cancelEditableCell:function(e){var t=$(e.closest("table")).DataTable().table(),a=t.cell($(e).parents("td, th"));a.data(a.data()),t.draw()}}),"destroy"===e&&($(t.body()).off("click","td"),t=null),null!=t&&$(t.body()).on("click","td",(function(){var a=t.cell(this).index().column;if(e.columns&&e.columns.indexOf(a)>-1||!e.columns){var n=t.row($(this).parents("tr"));editableCellsRow=n;var r=t.cell(this).node(),s=t.cell(this).data();if(s=function(e){if("undefined"===typeof e||null===e||e.length<1)return"";isNaN(e)&&(e=e.replace(/'/g,"&#39;"));return e}(s),!$(r).find("input").length&&!$(r).find("select").length&&!$(r).find("textarea").length){var l=function(e,t,a){var n,r,s,l,c,o,i="",u="",m=!1;s={focus:!0,html:null},t.inputTypes&&$.each(t.inputTypes,(function(t,a){a.column==e&&(r=(n=a).type.toLowerCase())}));t.inputCss&&(l=t.inputCss);if(t.wrapperHtml){var d=t.wrapperHtml.split("{content}");2===d.length&&(i=d[0],u=d[1])}t.confirmationButton&&(t.confirmationButton.listenToKeys&&(m=t.confirmationButton.listenToKeys),c=t.confirmationButton.confirmCss,o=t.confirmationButton.cancelCss,r+="-confirm");switch(r){case"list":s.html=i+"<select class='"+l+"' onchange='$(this).updateEditableCell(this);'>",$.each(n.options,(function(e,t){a==t.value?s.html=s.html+"<option value='"+t.value+"' selected>"+t.display+"</option>":s.html=s.html+"<option value='"+t.value+"' >"+t.display+"</option>"})),s.html=s.html+"</select>"+u,s.focus=!1;break;case"list-confirm":s.html=i+"<select class='"+l+"'>",$.each(n.options,(function(e,t){a==t.value?s.html=s.html+"<option value='"+t.value+"' selected>"+t.display+"</option>":s.html=s.html+"<option value='"+t.value+"' >"+t.display+"</option>"})),s.html=s.html+"</select>&nbsp;<a href='javascript:void(0);' class='"+c+"' onclick='$(this).updateEditableCell(this);'>Confirm</a> <a href='javascript:void(0);' class='"+o+"' onclick='$(this).cancelEditableCell(this)'>Cancel</a>"+u,s.focus=!1;break;case"datepicker":case"datepicker-confirm":if("undefined"==typeof jQuery.ui){alert("jQuery UI is required for the DatePicker control but it is not loaded on the page!");break}jQuery(".datepick").datepicker("destroy"),s.html=i+"<input id='ejbeatycelledit' type='text' name='date' class='datepick "+l+"'   value='"+a+"'></input> &nbsp;<a href='javascript:void(0);' class='"+c+"' onclick='$(this).updateEditableCell(this)'>Confirm</a> <a href='javascript:void(0);' class='"+o+"' onclick='$(this).cancelEditableCell(this)'>Cancel</a>"+u,setTimeout((function(){var e="http://jqueryui.com/resources/demos/datepicker/images/calendar.gif";"undefined"!==typeof n.options&&"undefined"!==typeof n.options.icon&&(e=n.options.icon);jQuery(".datepick").datepicker({showOn:"button",buttonImage:e,buttonImageOnly:!0,buttonText:"Select date"})}),100);break;case"text-confirm":case"undefined-confirm":s.html=i+"<input id='ejbeatycelledit' class='"+l+"' value='"+a+"'"+(m?" onkeyup='if(event.keyCode==13) {$(this).updateEditableCell(this);} else if (event.keyCode===27) {$(this).cancelEditableCell(this);}'":"")+"></input>&nbsp;<a href='javascript:void(0);' class='"+c+"' onclick='$(this).updateEditableCell(this)'>Confirm</a> <a href='javascript:void(0);' class='"+o+"' onclick='$(this).cancelEditableCell(this)'>Cancel</a>"+u;break;case"textarea":case"textarea-confirm":s.html=i+"<textarea id='ejbeatycelledit' class='"+l+"'>"+a+"</textarea><a href='javascript:void(0);' class='"+c+"' onclick='$(this).updateEditableCell(this)'>Confirm</a> <a href='javascript:void(0);' class='"+o+"' onclick='$(this).cancelEditableCell(this)'>Cancel</a>"+u;break;case"number-confirm":s.html=i+"<input id='ejbeatycelledit' type='number' class='"+l+"' value='"+a+"'"+(m?" onkeyup='if(event.keyCode==13) {$(this).updateEditableCell(this);} else if (event.keyCode===27) {$(this).cancelEditableCell(this);}'":"")+"></input>&nbsp;<a href='javascript:void(0);' class='"+c+"' onclick='$(this).updateEditableCell(this)'>Confirm</a> <a href='javascript:void(0);' class='"+o+"' onclick='$(this).cancelEditableCell(this)'>Cancel</a>"+u;break;default:s.html=i+"<input id='ejbeatycelledit' class='"+l+"' onfocusout='$(this).updateEditableCell(this)' value='"+a+"' onkeyup='if(event.keyCode==13) {event.target.blur()}' ></input>"+u}return s}(a,e,s);$(r).html(l.html),l.focus&&$("#ejbeatycelledit").focus()}}}))}))},254:function(e,t,a){"use strict";a.r(t);var n,r,s,l,c,o,i,u,m,d,p=a(3),h=a(4),f=a(11),b=a(10),v=a(12),E=a(0),g=a.n(E),x=a(17),j=a(39),y=a(24),C=a(37),k=a(38),S=a(19),N=a(7),O=a(36),w=a.n(O),_=(a(28),a(29)),T=a(118),$=Object(k.b)("classesStore")(n=Object(k.b)("subjectStore")(n=function(e){function t(){var e,a,n;Object(p.a)(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return(n=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(s)))).defaults={name:"",subject_id:"",total:"",percentage:"",class_id:""},n.state=(a={error:{},loading:!1,classes:null},Object(y.a)(a,"loading",!1),Object(y.a)(a,"data",Object(N.a)({},n.defaults)),a),n.inputChanged=function(e,t){var a=t.target.value;n.setState((function(t){return t.data[e]=a}))},n.saveContinue=function(){n.submit().then((function(){n.setState({data:Object(N.a)({},n.defaults),error:{}})}))},n.save=function(){n.submit().then((function(){return n.props.close()}))},n.apply=function(){n.submit().then((function(){n.setState({error:{}})}))},n.submit=function(){var e=n.state.data;return n.setState({loading:!0}),n.props.submit(e).then((function(e){n.props.edit?Object(_.a)("Exam Successfully Edited","success","nc-check-2"):Object(_.a)("Exam Created Successfully","success","nc-check-2")}),(function(e){return n.setState({error:e}),Promise.reject(e)})).finally((function(e){return n.setState({loading:!1})}))},n.delete=function(){Object(T.a)((function(){return n.props.delete().then((function(e){return n.props.close(),{success:"Deleted!",succes_text:"Exam was deleted"}}),(function(e){throw{error:"Exam couldn't be deleted."}}))}),{loading_title:"Deleting...",loading_text:"Deleting Exam",canceled:"Deleting Exam Operation Cancelled",consequence:"Exam will be deleted"})},n}return Object(v.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.classesStore.list(!0).then((function(t){e.setState({classes:t})})),this.props.subjectStore.list(!0).then((function(t){e.setState({subjects:t})}))}},{key:"componentDidUpdate",value:function(e,t){this.props.edit&&(w.a.isEqual(this.props.data,e.data)||this.setState({data:Object(N.a)({},this.state.data,{},this.props.data)})),w.a.isEqual(this.props.error,e.error)||this.setState({error:Object(N.a)({},this.state.error,{},this.props.error)})}},{key:"render",value:function(){var e=this.state,t=e.classes,a=e.subjects,n=this.state.error||{},r="",s="",l="",c="",o="";return n.errors&&(r=n.errors.name?"is-invalid":"",s=n.errors.subject_id?"is-invalid":"",l=n.errors.total?"is-invalid":"",c=n.errors.percentage?"is-invalid":"",o=n.errors.class_id?"is-invalid":""),g.a.createElement("div",{className:"container-fluid",ref:this.elRef},this.props.edit&&g.a.createElement("div",{className:"row"},g.a.createElement("div",{className:"col-md-12"},g.a.createElement("span",{className:"pull-right"},g.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:this.delete},"Delete")))),g.a.createElement("div",{className:"row"},g.a.createElement("div",{className:"col-md-12"},g.a.createElement("div",{className:"card stacked-form"},g.a.createElement("div",{className:"card-header "},g.a.createElement("h4",{className:"card-title"},"Exam Details")),g.a.createElement("div",{className:"card-body "},g.a.createElement("form",{method:"#",action:"#"},n.message&&g.a.createElement("div",{className:"alert alert-danger"},g.a.createElement("span",null,g.a.createElement("b",null," Error - ")," ",n.message)),g.a.createElement("div",{className:"row"},g.a.createElement("div",{className:"form-group col-md-6"},g.a.createElement("label",null,"Exam Name"),g.a.createElement("input",{value:this.state.data.name,onChange:this.inputChanged.bind(this,"name"),type:"text",placeholder:"Exam Name",className:"form-control ".concat(r)}),r&&n.errors.name.map((function(e,t){return g.a.createElement("span",{key:t,className:"invalid-feedback",role:"alert"},g.a.createElement("strong",null,e))})),g.a.createElement("p",{className:"help-block help-block-error"})),g.a.createElement("div",{className:"form-group col-md-6"},g.a.createElement("label",null,"Subject"),g.a.createElement("select",{disabled:!a,value:this.state.data.subject_id,onChange:this.inputChanged.bind(this,"subject_id"),className:"form-control ".concat(s)},g.a.createElement("option",{value:""},"Select Subject"),a&&a.map((function(e){return g.a.createElement("option",{key:e.id,value:e.id},e.name)}))),s&&n.errors.subject_id.map((function(e,t){return g.a.createElement("span",{key:t,className:"invalid-feedback",role:"alert"},g.a.createElement("strong",null,e))})),g.a.createElement("p",{className:"help-block help-block-error"}))),g.a.createElement("div",{className:"row"},g.a.createElement("div",{className:"form-group col-md-6"},g.a.createElement("label",null,"Total"),g.a.createElement("input",{value:this.state.data.total,onChange:this.inputChanged.bind(this,"total"),type:"text",placeholder:"Total",className:"form-control ".concat(l)}),l&&n.errors.total.map((function(e,t){return g.a.createElement("span",{key:t,className:"invalid-feedback",role:"alert"},g.a.createElement("strong",null,e))})),g.a.createElement("p",{className:"help-block help-block-error"})),g.a.createElement("div",{className:"form-group col-md-6"},g.a.createElement("label",null,"Percentage"),g.a.createElement("input",{value:this.state.data.percentage,onChange:this.inputChanged.bind(this,"percentage"),type:"text",placeholder:"Percentage",className:"form-control ".concat(c)}),c&&n.errors.percentage.map((function(e,t){return g.a.createElement("span",{key:t,className:"invalid-feedback",role:"alert"},g.a.createElement("strong",null,e))})),g.a.createElement("p",{className:"help-block help-block-error"}))),g.a.createElement("div",{className:"row"},g.a.createElement("div",{className:"form-group col-md-6"},g.a.createElement("label",null,"Class"),g.a.createElement("select",{disabled:!t,value:this.state.data.class_id,onChange:this.inputChanged.bind(this,"class_id"),name:"class",className:"form-control ".concat(o)},g.a.createElement("option",{value:""},"Select Class"),t&&t.map((function(e){return g.a.createElement("option",{key:e.id,value:e.id},e.name)}))),o&&n.errors.class_id.map((function(e,t){return g.a.createElement("span",{key:t,className:"invalid-feedback",role:"alert"},g.a.createElement("strong",null,e))})),g.a.createElement("p",{className:"help-block help-block-error"}))))),g.a.createElement("div",{className:"card-footer "},g.a.createElement("div",{className:"row"},this.props.edit?g.a.createElement("div",{className:"col-sm-2"},g.a.createElement("input",{onClick:this.apply,type:"button",value:"APPLY",disabled:this.state.loading,className:"btn btn-primary"})):g.a.createElement("div",{className:"col-sm-3"},g.a.createElement("input",{onClick:this.saveContinue,type:"button",value:"SAVE AND CONTINUE",disabled:this.state.loading,className:"btn btn-primary"})),g.a.createElement("div",{className:"col-sm-2"},g.a.createElement("input",{onClick:this.save,type:"button",value:"SAVE",disabled:this.state.loading,className:"btn btn-success"})),g.a.createElement("div",{className:"col-sm-2"},g.a.createElement("input",{onClick:this.props.close,type:"button",value:"CLOSE",disabled:this.state.loading,className:"btn btn-warning"}))))))))}}]),t}(E.Component))||n)||n,D=a(115),G=(a(116),Object(k.b)("classesStore")(l=Object(k.b)("subjectStore")(l=Object(k.b)("examGroupStore")(l=Object(k.b)("examStore")(l=function(e){function t(e){var a;Object(p.a)(this,t),(a=Object(f.a)(this,Object(b.a)(t).call(this,e))).filterChanged=function(){a.dataTable.current.table.column(4).search(a.state.class_name||""),a.dataTable.current.table.column(1).search(a.state.subject_name||""),a.dataTable.current.table.draw()},a.edit=function(e){a.props.history.push("".concat(a.props.match.url,"/").concat(e))},a.showResults=function(e){a.props.history.push("".concat(a.props.match.url,"/").concat(e,"/record"))},a.state={classes:null,class_name:"",subject_name:"",date:"",examGroupDetails:null},a.dataTable=g.a.createRef();var n=Object(C.a)(a);window.examListActionEdit=a.edit,window.examListActionShowResults=a.showResults;var r=a.props.match.params.examGroupId;return a.dataTableConfig={serverSide:!1,processing:!1,ajax:function(e,t,a){n.props.examStore.list({exam_group_id:r},!0).then((function(e){return t({data:e}),e}))},columns:[{data:"name",name:"name",class:"text-center"},{data:"subject_name",name:"subject_name",class:"text-center"},{data:"total",name:"total",class:"text-center"},{data:"percentage",name:"percentage",class:"text-center"},{data:"class_name",name:"class",class:"text-center"},{data:null,class:"text-center",render:function(e,t,a){return"<span>\n            <a onclick=\"examListActionShowResults('".concat(e.id,'\')" class="btn btn-link btn-warning details"><i class="nc-icon nc-bullet-list-67 icon-bold"></i></a>\n          </span>')}},{data:null,class:"text-center",render:function(e,t,a){return"<span>\n            <a onclick=\"examListActionEdit('".concat(e.id,'\')" class="btn btn-link btn-warning details"><i class="fa fa-edit"></i></a>\n          </span>')}}]},a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"inputChanged",value:function(e,t){var a=t.target.value;this.setState(Object(y.a)({},e,a),this.filterChanged)}},{key:"componentDidMount",value:function(){var e=this;this.props.classesStore.list(!0).then((function(t){e.setState({classes:t})})),this.props.subjectStore.list(!0).then((function(t){e.setState({subjects:t})})),this.props.examGroupStore.get(this.props.match.params.examGroupId).then((function(t){e.setState({examGroupDetails:t})}))}},{key:"render",value:function(){var e=this.props.match,t=this.state,a=t.classes,n=t.subjects,r="".concat(this.state.examGroupDetails?this.state.examGroupDetails.name:""," Exams");return g.a.createElement("div",{className:"container-fluid"},g.a.createElement("div",{className:"row"},g.a.createElement("div",{className:"col-md-12"},g.a.createElement("span",{className:"pull-right"},g.a.createElement(S.b,{to:"".concat(e.url,"/new"),className:"btn btn-success details"},"New Exam")))),g.a.createElement(D.a,{ref:this.dataTable,config:this.dataTableConfig,title:r,toolbar:g.a.createElement(g.a.Fragment,null,g.a.createElement("select",{onChange:this.inputChanged.bind(this,"class_name"),value:this.state.class_name,id:"filterByClass",className:"form-control col-6"},g.a.createElement("option",{value:""},"-- Select Classes--"),a&&a.map((function(e){return g.a.createElement("option",{key:e.id,value:e.name},e.name)}))),g.a.createElement("select",{onChange:this.inputChanged.bind(this,"subject_name"),value:this.state.subject_name,id:"filterBySubject",className:"form-control col-6"},g.a.createElement("option",{value:""},"-- Select Subject--"),n&&n.map((function(e){return g.a.createElement("option",{key:e.id,value:e.name},e.name)}))))},g.a.createElement("th",null,"Name"),g.a.createElement("th",null,"Subject"),g.a.createElement("th",null,"Total"),g.a.createElement("th",null,"Percentage"),g.a.createElement("th",null,"Class"),g.a.createElement("th",null,"Results"),g.a.createElement("th",null,"Action")))}}]),t}(E.Component))||l)||l)||l)||l),A=Object(k.b)("examStore")(r=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={error:{}},a.submit=function(e){return e.exam_group_id=a.props.match.params.examGroupId,a.props.examStore.create(e).then((function(e){return a.setState({error:{},data:e}),e}),(function(e){return a.setState({error:e}),Promise.reject(e)}))},a.close=function(){var e=a.props.match.params.examGroupId;a.props.history.push("/school/examination/exam-groups/".concat(e,"/exams"))},a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return g.a.createElement($,{error:this.state.error,submit:this.submit,close:this.close})}}]),t}(E.Component))||r,I=Object(k.b)("examStore")(s=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={error:{},data:{}},a.submit=function(e){return a.props.examStore.update(e).then((function(e){return a.setState({error:{},data:e}),e}),(function(e){return a.setState({error:e}),Promise.reject(e)}))},a.delete=function(){return a.props.examStore.delete(a.props.match.params.examId)},a.close=function(){var e=a.props.match.params.examGroupId;a.props.history.push("/school/examination/exam-groups/".concat(e,"/exams"))},a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.location.state&&this.props.location.state.exam?this.setState({data:this.props.location.state.exam}):this.props.match.params.examId&&this.props.examStore.get(this.props.match.params.examId,!0).then((function(t){e.setState({data:t})}),(function(t){return e.setState({error:t})}))}},{key:"render",value:function(){return g.a.createElement($,{edit:!0,error:this.state.error,data:this.state.data,submit:this.submit,close:this.close})}}]),t}(E.Component))||s,L=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).defaults={name:""},a.state={error:{},loading:!1,data:Object(N.a)({},a.defaults)},a.inputChanged=function(e,t){var n=t.target.value;a.setState((function(t){return t.data[e]=n}))},a.saveContinue=function(){a.submit().then((function(){a.setState({data:Object(N.a)({},a.defaults),error:{}})}))},a.save=function(){a.submit().then((function(){return a.props.close()}))},a.apply=function(){a.submit().then((function(){a.setState({error:{}})}))},a.submit=function(){var e=a.state.data;return a.setState({loading:!0}),a.props.submit(e).then((function(e){a.props.edit?Object(_.a)("Exam Group Successfully Edited","success","nc-check-2"):Object(_.a)("Exam Group Created Successfully","success","nc-check-2")}),(function(e){return a.setState({error:e}),Promise.reject(e)})).finally((function(e){return a.setState({loading:!1})}))},a.delete=function(){Object(T.a)((function(){return a.props.delete().then((function(e){return a.props.close(),{success:"Deleted!",succes_text:"Exam group was deleted"}}),(function(e){throw{error:"Exam group couldn't be deleted."}}))}),{loading_title:"Deleting...",loading_text:"Deleting Exam group",canceled:"Deleting Exam group Operation Cancelled",consequence:"Exam group with its accossiated exams will be deleted"})},a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"componentDidUpdate",value:function(e,t){this.props.edit&&(w.a.isEqual(this.props.data,e.data)||this.setState({data:Object(N.a)({},this.state.data,{},this.props.data)})),w.a.isEqual(this.props.error,e.error)||this.setState({error:Object(N.a)({},this.state.error,{},this.props.error)})}},{key:"render",value:function(){var e=this.state.error||{},t=e.errors&&e.errors.name?"is-invalid":"";return g.a.createElement("div",{className:"container-fluid"},this.props.edit&&g.a.createElement("div",{className:"row"},g.a.createElement("div",{className:"col-md-12"},g.a.createElement("span",{className:"pull-right"},g.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:this.delete},"Delete")))),g.a.createElement("div",{className:"row"},g.a.createElement("div",{className:"col-md-12"},g.a.createElement("div",{className:"card stacked-form"},g.a.createElement("div",{className:"card-header "},g.a.createElement("h4",{className:"card-title"},"Exam Group Details")),g.a.createElement("div",{className:"card-body "},g.a.createElement("form",{method:"#",action:"#"},e.message&&g.a.createElement("div",{className:"alert alert-danger"},g.a.createElement("span",null,g.a.createElement("b",null," Error - ")," ",e.message)),g.a.createElement("div",{className:"form-group"},g.a.createElement("label",null,"Exam Group Name"),g.a.createElement("input",{value:this.state.data.name,onChange:this.inputChanged.bind(this,"name"),type:"text",placeholder:"Exam Group Name",className:"form-control ".concat(t)}),t&&e.errors.name.map((function(e,t){return g.a.createElement("span",{key:t,className:"invalid-feedback",role:"alert"},g.a.createElement("strong",null,e))})),g.a.createElement("p",{className:"help-block help-block-error"})))),g.a.createElement("div",{className:"card-footer "},g.a.createElement("div",{className:"row"},this.props.edit?g.a.createElement("div",{className:"col-sm-2"},g.a.createElement("input",{onClick:this.apply,type:"button",value:"APPLY",disabled:this.state.loading,className:"btn btn-primary"})):g.a.createElement("div",{className:"col-sm-3"},g.a.createElement("input",{onClick:this.saveContinue,type:"button",value:"SAVE AND CONTINUE",disabled:this.state.loading,className:"btn btn-primary"})),g.a.createElement("div",{className:"col-sm-2"},g.a.createElement("input",{onClick:this.save,type:"button",value:"SAVE",disabled:this.state.loading,className:"btn btn-success"})),g.a.createElement("div",{className:"col-sm-2"},g.a.createElement("input",{onClick:this.props.close,type:"button",value:"CLOSE",disabled:this.state.loading,className:"btn btn-warning"}))))))))}}]),t}(E.Component),P=Object(k.b)("examGroupStore")(i=function(e){function t(e){var a;Object(p.a)(this,t),(a=Object(f.a)(this,Object(b.a)(t).call(this,e))).filterChanged=function(){a.dataTable.current.draw()},a.edit=function(e){a.props.history.push("".concat(a.props.match.url,"/").concat(e))},a.showExams=function(e){a.props.history.push("".concat(a.props.match.url,"/").concat(e,"/exams"))},a.state={classes:null,class_id:"",subject_id:"",date:""},a.dataTable=g.a.createRef();var n=Object(C.a)(a);return window.examListActionEdit=a.edit,window.examListActionShowExams=a.showExams,a.dataTableConfig={serverSide:!1,processing:!1,ajax:function(e,t,a){n.props.examGroupStore.list(e,!0).then((function(e){return t({data:e}),e}))},columns:[{data:"name",name:"name",class:"text-center"},{data:null,class:"text-center",render:function(e,t,a){return"<span>\n            <a onclick=\"examListActionShowExams('".concat(e.id,'\')" class="btn btn-link btn-warning details"><i class="nc-icon nc-bullet-list-67 icon-bold"></i></a>\n          </span>')}},{data:null,class:"text-center",render:function(e,t,a){return"<span>\n            <a onclick=\"examListActionEdit('".concat(e.id,'\')" class="btn btn-link btn-warning details"><i class="fa fa-edit"></i></a>\n          </span>')}}]},a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"inputChanged",value:function(e,t){var a=t.target.value;this.setState(Object(y.a)({},e,a),this.filterChanged)}},{key:"render",value:function(){var e=this.props.match;return g.a.createElement("div",{className:"container-fluid"},g.a.createElement("div",{className:"row"},g.a.createElement("div",{className:"col-md-12"},g.a.createElement("span",{className:"pull-right"},g.a.createElement(S.b,{to:"".concat(e.url,"/new"),className:"btn btn-success details"},"New Exam Group")))),g.a.createElement(D.a,{ref:this.dataTable,config:this.dataTableConfig,title:"Exams Group"},g.a.createElement("th",null,"Name"),g.a.createElement("th",null,"Exams"),g.a.createElement("th",null,"Action")))}}]),t}(E.Component))||i,B=Object(k.b)("examGroupStore")(c=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={error:{}},a.submit=function(e){return a.props.examGroupStore.create(e).then((function(e){return a.setState({error:{},data:e}),e}),(function(e){return a.setState({error:e}),Promise.reject(e)}))},a.close=function(){a.props.history.push("/school/examination")},a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return g.a.createElement(L,{error:this.state.error,submit:this.submit,close:this.close})}}]),t}(E.Component))||c,R=Object(k.b)("examGroupStore")(o=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={error:{},data:{}},a.submit=function(e){return a.props.examGroupStore.update(e).then((function(e){return a.setState({error:{},data:e}),e}),(function(e){return a.setState({error:e}),Promise.reject(e)}))},a.delete=function(){return a.props.examGroupStore.delete(a.props.match.params.examGroupId)},a.close=function(){a.props.history.push("/school/examination")},a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.location.state&&this.props.location.state.student?this.setState({data:this.props.location.state.student}):this.props.match.params.examGroupId&&this.props.examGroupStore.get(this.props.match.params.examGroupId,!0).then((function(t){e.setState({data:t})}),(function(t){return e.setState({error:t})}))}},{key:"render",value:function(){return g.a.createElement(L,{edit:!0,error:this.state.error,data:this.state.data,submit:this.submit,delete:this.delete,close:this.close})}}]),t}(E.Component))||o,M=a(1),U=a.n(M),q=a(6),F=Object(k.b)("classesStore")(u=Object(k.b)("examStore")(u=Object(k.b)("recordStore")(u=function(e){function t(e){var a;Object(p.a)(this,t),(a=Object(f.a)(this,Object(b.a)(t).call(this,e))).state={examDetails:null,cls:null},a.dataTable=null,a.updateValue=function(e,t,n){var r=e.data(),s=(t.data().student_id,t.data());a.props.match.params.examId,Object(C.a)(a);if(s.pending||n!=r)return a.props.recordStore.update(Object(N.a)({},s,{marks:r})).then((function(e){t.data(e).draw()}),(function(e){s.__meta_pending=!0,s.__meta_error=e,t.data(s).draw(),e.response&&e.response.data&&e.response.data.errors.marks&&Object(_.a)(e.response.data.errors.marks[0],"danger","nc-simple-remove")}))},a.filterStream=function(e){var t=e.target.value;a.setState({stream_name:t},(function(){a.dataTable.current.table.column(2).search(t||"").draw()}))},a.filterString=function(e){var t=e.target.value;a.dataTable.current.table.search(t).draw()};var n=Object(C.a)(a);return a.dataTable=g.a.createRef(),a.dataTableConfig={serverSide:!1,processing:!1,ajax:function(e,t,a){n.props.recordStore.list({exam_id:n.props.match.params.examId},!0).then((function(e){return t({data:e}),e}))},columns:[{data:"firstname",name:"firstname",class:"text-center"},{data:"lastname",name:"lastname",class:"text-center"},{data:"stream_name",name:"stream_name",class:"text-center"},{data:"marks",name:"marks",class:"text-center editable",render:function(e,t,a){return a.marks?a.marks:"-"}}]},a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.dataTable.current.table.MakeCellsEditable({onUpdate:this.updateValue,columns:[3]}),this.props.examStore.get(this.props.match.params.examId).then(function(){var t=Object(q.a)(U.a.mark((function t(a){var n;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({examDetails:a}),t.next=3,e.props.classesStore.get(a.class_id);case 3:n=t.sent,e.setState({cls:n});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"render",value:function(){this.props.match,this.state.classes;var e=this.state.cls?this.state.cls.streams:[],t="Record ".concat(this.state.examDetails?this.state.examDetails.name:"");return g.a.createElement("div",{className:"container-fluid"},g.a.createElement("div",{className:"row"},g.a.createElement("div",{className:"col-md-12"})),g.a.createElement(D.a,{ref:this.dataTable,title:t,config:this.dataTableConfig,toolbar:g.a.createElement(g.a.Fragment,null,g.a.createElement("select",{onChange:this.filterStream,value:this.state.stream_name,id:"filterByStream",className:"form-control col-6"},g.a.createElement("option",{value:""},"-- Select Stream--"),e.map((function(e){return g.a.createElement("option",{key:e.id,value:e.name},e.name)}))),g.a.createElement("div",{className:"form-group col-6"},g.a.createElement("input",{type:"text",className:"form-control",onChange:this.filterString,placeholder:"Search"})))},g.a.createElement("th",null,"Firstname"),g.a.createElement("th",null,"Lastname"),g.a.createElement("th",null,"Stream"),g.a.createElement("th",null,"Marks")))}}]),t}(E.Component))||u)||u)||u,V=Object(k.b)("subjectStore")(m=Object(k.b)("classesStore")(m=Object(k.b)("performanceStore")(m=function(e){function t(e){var a;Object(p.a)(this,t),(a=Object(f.a)(this,Object(b.a)(t).call(this,e))).filterClass=function(){a.setState({class_id:event.target.value,stream_name:""},(function(){a.dataTable.current.table.column(2).search(""),a.dataTable.current.table.ajax.reload()}))},a.filterStream=function(){a.setState({stream_name:event.target.value},(function(){a.dataTable.current.table.column(2).search(a.state.stream_name).draw()}))},a.filterString=function(e){var t=e.target.value;a.dataTable.current.table.search(t).draw()};var n=Object(C.a)(a);return a.dataTable=g.a.createRef(),a.state={columns:[],dataTableConfig:{serverSide:!1,processing:!1,ajax:function(e,t,a){n.props.performanceStore.list({class_id:n.state.class_id},!0).then((function(e){t({data:e})}))},columns:[]}},a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=[{data:"firstname",name:"firstname",class:"text-center editable"},{data:"lastname",name:"lastname",class:"text-center editable"},{data:"stream_name",name:"stream_name",class:"text-center editable"}];this.props.subjectStore.list(!0).then((function(a){var n=!0,r=!1,s=void 0;try{for(var l,c=function(){var e=l.value;t.push({data:function(t,a,n,r){return t[e.shorthand]?t["".concat(e.shorthand,"_grade")]:"-"},name:e.shorthand,class:"text-center editable"})},o=a[Symbol.iterator]();!(n=(l=o.next()).done);n=!0)c()}catch(u){r=!0,s=u}finally{try{n||null==o.return||o.return()}finally{if(r)throw s}}t.push({data:function(e,t,a,n){return e.total?e.grade:"-"},name:"total",class:"text-center editable"},{data:null,name:"Action",class:"text-center",render:function(e,t,a){return'<span>\n                <a href="/report-card/'.concat(e.id,'" target="_blank" class="btn btn-link btn-warning"><i class="fa fa-print"></i></a>\n            </span>')}});var i=e.state.dataTableConfig;i.columns=t,e.setState({dataTableConfig:i})})),this.props.classesStore.list(!0).then((function(t){e.setState({classes:t})}))}},{key:"render",value:function(){var e=this,t=(this.props.match,this.state.classes),a=null;if(t){var n=t.find((function(t){return t.id==e.state.class_id}));n&&(a=n.streams)}return g.a.createElement("div",{className:"container-fluid"},g.a.createElement("div",{className:"row"},g.a.createElement("div",{className:"col-md-12"})),this.state.dataTableConfig.columns.length>0&&g.a.createElement(D.a,{ref:this.dataTable,title:"Performance",config:this.state.dataTableConfig,toolbar:g.a.createElement(g.a.Fragment,null,g.a.createElement("select",{onChange:this.filterClass,value:this.state.class_id,id:"filterByClass",className:"form-control col-4"},g.a.createElement("option",{value:""},"-- Select Classes--"),t&&t.map((function(e){return g.a.createElement("option",{key:e.id,value:e.id},e.name)}))),g.a.createElement("select",{onChange:this.filterStream,value:this.state.stream_name,id:"filterByStream",className:"form-control col-4"},g.a.createElement("option",{value:""},"-- Select Stream--"),a&&a.map((function(e){return g.a.createElement("option",{key:e.id,value:e.name},e.name)}))),g.a.createElement("div",{className:"form-group col-4"},g.a.createElement("input",{type:"text",className:"form-control",onChange:this.filterString,placeholder:"Search"})))},this.state.dataTableConfig.columns.map((function(e,t){return g.a.createElement("th",{key:t},e.name)}))))}}]),t}(E.Component))||m)||m)||m,Q=Object(k.b)("classesStore")(d=Object(k.b)("analysisStore")(d=function(e){function t(e){var a;Object(p.a)(this,t),(a=Object(f.a)(this,Object(b.a)(t).call(this,e))).state={},a.dataTables=null,a.filterClass=function(){a.setState({class_id:event.target.value,stream_name:""},(function(){a.dataTable.current.table.column(2).search(""),a.dataTable.current.table.ajax.reload()}))},a.filterStream=function(){a.setState({stream_name:event.target.value},(function(){a.dataTable.current.table.column(2).search(a.state.stream_name).draw()}))},a.filterString=function(e){var t=e.target.value;a.dataTable.current.table.search(t).draw()};var n=Object(C.a)(a);return a.dataTable=g.a.createRef(),a.dataTableConfig={serverSide:!1,processing:!1,ajax:function(e,t,a){n.props.analysisStore.list({class_id:n.state.class_id},!0).then((function(e){t({data:e})}))},columns:[{data:"firstname",name:"firstname",class:"text-center"},{data:"lastname",name:"lastname",class:"text-center"},{data:"stream_name",name:"stream_name",class:"text-center"},{data:"prev_average",name:"prev_average",class:"text-center"},{data:"average",name:"average",class:"text-center"},{data:"difference",name:"difference",class:"text-center"}]},a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.classesStore.list(!0).then((function(t){e.setState({classes:t})}))}},{key:"render",value:function(){var e=this,t=(this.props.match,this.state.classes),a=null;if(t){var n=t.find((function(t){return t.id==e.state.class_id}));n&&(a=n.streams)}return g.a.createElement("div",{className:"container-fluid"},g.a.createElement("div",{className:"row"},g.a.createElement("div",{className:"col-md-12"})),g.a.createElement(D.a,{ref:this.dataTable,title:"Analysis",config:this.dataTableConfig,toolbar:g.a.createElement(g.a.Fragment,null,g.a.createElement("select",{onChange:this.filterClass,value:this.state.class_id,id:"filterByClass",className:"form-control col-4"},g.a.createElement("option",{value:""},"-- Select Classes--"),t&&t.map((function(e){return g.a.createElement("option",{key:e.id,value:e.id},e.name)}))),g.a.createElement("select",{onChange:this.filterStream,value:this.state.stream_name,id:"filterByStream",className:"form-control col-4"},g.a.createElement("option",{value:""},"-- Select Stream--"),a&&a.map((function(e){return g.a.createElement("option",{key:e.id,value:e.name},e.name)}))),g.a.createElement("div",{className:"form-group col-4"},g.a.createElement("input",{type:"text",className:"form-control",onChange:this.filterString,placeholder:"Search"})))},g.a.createElement("th",null,"Firstname"),g.a.createElement("th",null,"Lastname"),g.a.createElement("th",null,"Stream"),g.a.createElement("th",null,"Previous"),g.a.createElement("th",null,"Current"),g.a.createElement("th",null,"Difference")))}}]),t}(E.Component))||d)||d;a.d(t,"default",(function(){return Y}));var Y=function(e){function t(){return Object(p.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.match;return g.a.createElement(j.a,null,g.a.createElement(x.b,{exact:!0,path:"".concat(e.path,"/performance"),render:function(e){return g.a.createElement(V,e)}}),g.a.createElement(x.b,{exact:!0,path:"".concat(e.path,"/analysis"),render:function(e){return g.a.createElement(Q,e)}}),g.a.createElement(x.b,{exact:!0,path:"".concat(e.path,"/exam-groups/:examGroupId/exams/new"),render:function(e){return g.a.createElement(A,e)}}),g.a.createElement(x.b,{exact:!0,path:"".concat(e.path,"/exam-groups/:examGroupId/exams/:examId"),render:function(e){return g.a.createElement(I,e)}}),g.a.createElement(x.b,{exact:!0,path:"".concat(e.path,"/exam-groups/:examGroupId/exams"),render:function(e){return g.a.createElement(G,e)}}),g.a.createElement(x.b,{exact:!0,path:"".concat(e.path,"/exam-groups/:examGroupId/exams/:examId/record"),render:function(e){return g.a.createElement(F,e)}}),g.a.createElement(x.b,{exact:!0,path:"".concat(e.path,"/exam-groups/new"),render:function(e){return g.a.createElement(B,e)}}),g.a.createElement(x.b,{exact:!0,path:"".concat(e.path,"/exam-groups/:examGroupId"),render:function(e){return g.a.createElement(R,e)}}),g.a.createElement(x.b,{exact:!0,path:"".concat(e.path,"/exam-groups"),render:function(e){return g.a.createElement(P,e)}}),g.a.createElement(x.b,{exact:!0,path:"".concat(e.path)},g.a.createElement(x.a,{to:"".concat(e.path,"/exam-groups")})))}}]),t}(E.Component)}}]);
//# sourceMappingURL=15.aab34532.chunk.js.map