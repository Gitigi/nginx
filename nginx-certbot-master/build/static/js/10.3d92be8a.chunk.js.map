{"version":3,"sources":["components/DataTable.js","utils/getCookie.js","utils/confirmAction.js","components/DateInput.js","libs/dataTables.cellEdit.js","components/StudentForm.js","pages/Student.js","components/ReportForm.js","pages/Report.js","pages/Attendance.js","pages/StudentPages.js"],"names":["DataTable","props","tableEl","React","createRef","state","table","draw","highlightRow","row","data","jRow","$","tooltip","title","__meta_pending","className","__meta_error","message","error","errors","Object","keys","errorSub","classList","add","softDeleteField","remove","toggle","placement","self","defaultConfig","dom","buttons","extend","text","titleAttr","exportOptions","columns","responsive","language","search","searchPlaceholder","rowCallback","this","initTable","current","find","config","configRowCallback","prevProp","prevState","lodash","isEqual","destroy","toolbar","ref","cellSpacing","width","style","children","Component","getCookie","cname","name","ca","decodeURIComponent","document","cookie","split","i","length","c","charAt","substring","indexOf","action","Swal","fire","consequence","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","yes","then","result","value","loadingModal","loading","loading_text","showConfirmButton","onBeforeOpen","showLoading","res","closeModal","success","succes_text","footer","dismiss","DismissReason","cancel","canceled","DateInput","date","dateInput","hiddenInput","jquery","datepicker","format","zIndexOffset","on","e","handleChange","reverse","join","val","Date","getDate","target","getOwnPropertyDescriptor","window","HTMLInputElement","prototype","set","call","ev2","Event","bubbles","dispatchEvent","onChange","bind","type","display","jQuery","fn","dataTable","Api","register","settings","updateEditableCell","callingElement","closest","parents","cell","columnIndex","index","column","inputField","prop","toLowerCase","siblings","getInputField","newValue","_addValidationCss","allowNulls","errorClass","addClass","css","_update","oldValue","onUpdate","onValidate","page","info","cancelEditableCell","body","off","currentColumnIndex","editableCellsRow","node","cellValue","isNaN","replace","sanitizeCellValue","input","inputSetting","inputType","inputCss","confirmCss","cancelCss","startWrapperHtml","endWrapperHtml","listenToKeys","inputTypes","each","setting","wrapperHtml","elements","confirmationButton","html","options","option","focus","ui","alert","setTimeout","showOn","buttonImage","buttonImageOnly","buttonText","getInputHtml","StudentForm","inject","defaults","firstname","lastname","admission_no","class_id","stream_id","fathers_name","fathers_contact","mothers_name","mothers_contact","dob","doa","gender","entry_marks","previewUrl","classes","inputChanged","field","event","parseInt","setState","profileChanged","files","reader","FileReader","onload","readAsDataURL","saveContinue","submit","save","close","apply","edit","ShowNotification","finally","_","discontinue","confirmAction","loading_title","restore","delete","cancelAsync","a","isEmpty","handleSubmit","preventDefault","submitAction","chooseAction","classesStore","list","prevProps","profile","url","startsWith","firstnameInvalid","lastnameInvalid","admissionNoInvalid","genderInvalid","entryMarksInvalid","fathersNameInvalid","fathersContactInvalid","mothersNameInvalid","mothersContactInvalid","classInvalid","streamInvalid","dobInvalid","doaInvalid","streams","selectedClass","cls","id","dod","onClick","method","onSubmit","placeholder","required","map","key","role","src","height","alt","position","bottom","top","right","left","aria-describedby","disabled","stream","Student","observer","streamName","streamId","classId","str","student","String","history","push","match","stream_name","filterStream","filterClass","ajax","reload","filterString","locationState","location","studentListActionEdit","dataTableConfig","serverSide","processing","params","callback","studentStore","students","render","toDateString","to","href","NewStudent","create","Promise","reject","studentIdMatch","studentId","get","EditStudent","update","axios","post","saveItem","response","ReportForm","pending","titleInvalid","messageInvalid","dateInvalid","StudentList","showReport","studentListActionShowReport","createdRow","StudentReports","report","studentListActionDelete","reportStore","student_id","reports","NewReport","reportIdMatch","reportId","EditReport","Attendance","dateRef","filterChanged","StudentPages","exact","path"],"mappings":"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","file":"static/js/10.3d92be8a.chunk.js","sourcesContent":["import React, {Component} from 'react';\n\nimport lodash from 'lodash';\n\nimport 'datatables.net-bs4';\nimport 'datatables.net-buttons-bs4';\nimport 'datatables.net-buttons/js/buttons.html5.js';\nimport 'datatables.net-colreorder-bs4';\nimport 'datatables.net-fixedcolumns-bs4';\nimport 'datatables.net-fixedheader-bs4';\nimport 'datatables.net-responsive-bs4';\nimport 'datatables.net-rowgroup-bs4';\nimport 'datatables.net-rowreorder-bs4';\nimport 'datatables.net-scroller-bs4';\nimport 'datatables.net-select-bs4';\nimport '../libs/dataTables.cellEdit';\n\n//datatables dependencies\n// import jsZip from  'jszip';\n// import 'pdfmake';\n// import pdfFonts from 'pdfmake/build/vfs_fonts.js';\n\n// pdfMake.vfs = pdfFonts.pdfMake.vfs;\n// window.JSZip = jsZip;\n\nexport default class DataTable extends Component {\n  tableEl = React.createRef();\n  state = {}\n  table = null;\n  constructor(props) {\n    super(props);\n    const self = this;\n    this.defaultConfig = {\n      \"pagingType\": \"full_numbers\",\n      \"lengthMenu\": [\n        [10, 25, 50, 100, -1],\n        [10, 25, 50, 100, \"All\"]\n      ],\n      dom: 'rt<\"bottom\"lpi><\"clear\">',\n      buttons: [\n        {\n          extend:    'excelHtml5',\n          text:      '<i class=\"fa fa-file-excel-o text-info\"></i>',\n          titleAttr: 'Excel',\n          exportOptions: {\n            columns: \"thead th:not(.noExport)\"\n          }\n        }\n      ],\n      responsive: true,\n      language: {\n        search: \"_INPUT_\",\n        searchPlaceholder: \"Search records\",\n      },\n      rowCallback: function( row, data ) {\n        let jRow = $(row);\n        jRow.tooltip('dispose');\n        let title = '';\n        if(data.__meta_pending) {\n            title = 'Pending - ';\n            let className = 'table-dark';\n            if(data.__meta_error && data.__meta_error.message) {\n                className = (data.__meta_error.message !== \"Network Error\") ? 'table-warning' : className;\n                let error = data.__meta_error;\n                title += error.message;\n                if(error.errors) {\n                    for(let errorSub of Object.keys(error.errors) ){\n                      title += '\\n' + error.errors[errorSub];\n                    }\n                }\n            }\n            row.classList.add(className);\n        } else if(data[self.props.softDeleteField]) {\n            title = 'Discontinued';\n            row.classList.add('table-danger');\n        } else {\n          row.classList.remove('table-warning');\n          row.classList.remove('table-dark');\n          row.classList.remove('table-danger');\n        }\n\n        if(title)\n            jRow.tooltip({toggle: \"tooltip\", placement: \"bottom\", title });\n      }\n    };\n  }\n  \n  componentDidMount() {\n    this.initTable();\n  }\n\n  componentWillUnmount() {\n      $(this.tableEl.current).find('tr[title]').tooltip('dispose');\n  }\n\n  initTable() {\n    const self = this;\n    let config = this.props.config || {};\n    let configRowCallback = this.props.config.rowCallback;\n    config.rowCallback = (row, data) => {\n      self.highlightRow(row, data);\n      configRowCallback && configRowCallback(row, data);\n    };\n    this.table = $(this.tableEl.current).DataTable({...this.defaultConfig, ...config});\n  }\n\n  componentDidUpdate(prevProp,prevState) {\n    if(!lodash.isEqual(prevProp.config, this.props.config)) {\n      this.table.destroy();\n      this.initTable();\n    }\n  }\n\n  draw = () => {\n    this.table.draw();\n  }\n\n  highlightRow = (row, data) => {\n    let jRow = $(row);\n      jRow.tooltip('dispose');\n      let title = '';\n      if(data.__meta_pending) {\n          title = 'Pending - ';\n          let className = 'table-dark';\n          if(data.__meta_error && data.__meta_error.message) {\n              className = (data.__meta_error.message !== \"Network Error\") ? 'table-warning' : className;\n              let error = data.__meta_error;\n              title += error.message;\n              if(error.errors) {\n                  for(let errorSub of Object.keys(error.errors) ){\n                    title += '\\n' + error.errors[errorSub];\n                  }\n              }\n          }\n          row.classList.add(className);\n      } else if(data[this.props.softDeleteField]) {\n          title = 'Discontinued';\n          row.classList.add('table-danger');\n      } else {\n        row.classList.remove('table-warning');\n        row.classList.remove('table-dark');\n        row.classList.remove('table-danger');\n      }\n\n      if(title)\n          jRow.tooltip({toggle: \"tooltip\", placement: \"bottom\", title });\n  }\n\n  render() {\n    return <div className=\"row\">\n      <div className=\"col-md-12\">\n        <div className=\"card data-tables\">\n        <div className=\"card-header text-center\">\n          <h3>{this.props.title}</h3>\n        </div>\n        <div className=\"card-body table-striped table-no-bordered table-hover dataTable dtr-inline table-full-width\">\n          <div className=\"toolbar col-12\">\n            <div className=\"row\">\n              {this.props.toolbar}\n            </div>\n          </div>\n          <div className=\"fresh-datatables\">\n          <table ref={this.tableEl} className=\"table table-striped table-no-bordered table-hover\" cellSpacing=\"0\" width=\"100%\" style={{width: '100%'}}>\n            <thead>\n              <tr>\n                {this.props.children}\n              </tr>\n            </thead>\n            <tfoot>\n              <tr>\n                {this.props.children}\n              </tr>\n            </tfoot>\n          </table>\n          </div>\n        </div>\n        </div>\n      </div>\n    </div>\n  }\n}\n","export default function getCookie(cname) {\n  var name = cname + \"=\";\n  var decodedCookie = decodeURIComponent(document.cookie);\n  var ca = decodedCookie.split(';');\n  for(var i = 0; i <ca.length; i++) {\n  var c = ca[i];\n  while (c.charAt(0) == ' ') {\n    c = c.substring(1);\n  }\n  if (c.indexOf(name) == 0) {\n    return c.substring(name.length, c.length);\n  }\n  }\n  return \"\";\n}","import Swal from 'sweetalert2';\n\nexport default function(action, config={} ) {\n\treturn Swal.fire({\n\t  title: 'Are you sure?',\n\t  text: config.consequence || \"You won't be able to revert this!\",\n\t  icon: 'warning',\n\t  showCancelButton: true,\n\t  confirmButtonColor: '#3085d6',\n\t  cancelButtonColor: '#d33',\n\t  confirmButtonText:  config.yes || 'Yes'\n\t}).then((result) => {\n\t  if (result.value) {\n\t  \tlet loadingModal = Swal.fire({\n\t      title: config.loading || 'Waiting...',\n\t      text: config.loading_text || 'waiting for operation to complete',\n\t      showConfirmButton: false,\n\t      onBeforeOpen: () => {\n\t   \t \t\tSwal.showLoading()\n\t   \t \t}\n\t    });\n\n\t    action().then(res=>{\n\t  \t\tloadingModal.closeModal();\n\t  \t\tSwal.fire(\n\t\t      res.success,\n\t\t      res.succes_text,\n\t\t      'success'\n\t\t    );\n\t\t\t}, error => {\n\t\t\t\tloadingModal.closeModal();\n\t\t\t\tSwal.fire({\n\t\t\t\t  icon: 'error',\n\t\t\t\t  title: 'Oops...',\n\t\t\t\t  text: error.error,\n\t\t\t\t  footer: error.footer || ''\n\t\t\t\t});\n\t\t\t});\n\t  }\n\t  else if (result.dismiss === Swal.DismissReason.cancel) {\n\t    Swal.fire(\n\t      'Cancelled',\n\t      config.canceled,\n\t      'error'\n\t    )\n\t  }\n\t});\n}","import React, {Component} from 'react';\n// import 'eonasdan-bootstrap-datetimepicker'\n// import 'eonasdan-bootstrap-datetimepicker/build/css/bootstrap-datetimepicker.min.css';\nimport 'bootstrap-datepicker'\nimport 'bootstrap-datepicker/dist/css/bootstrap-datepicker.min.css';\nimport jquery from 'jquery';\n\nexport default class DateInput extends Component {\n\tstate = {date: ''}\n\tdateInput = React.createRef()\n\thiddenInput = React.createRef()\n\tcomponentDidMount(){\n\t\tvar self = this;\n\t\tjquery(this.dateInput.current).datepicker({format: 'dd/mm/yyyy',zIndexOffset: 1040}).on('changeDate changeMonth changeYear',e=>self.handleChange(e))\n\t\tthis.dateInput.current.value = this.props.value ? this.props.value.split('-').reverse().join('/') : '';\n\t}\n\tcomponentDidUpdate(prevProp,prevState){\n\t\tif(prevProp.value !== this.props.value){\n\t\t\tlet val = this.props.value ? this.props.value.split('-').reverse().join('/') : '';\n\t\t\tthis.dateInput.current.value = val;\n\t\t\tif((new Date(this.props.value)).getDate())\n\t\t\t\tjquery(this.dateInput.current).datepicker('setDate',val);\n\t\t}\n\t}\n\thandleChange(e){\n\t\tlet val = e.target.value.split('/').reverse().join('-');\n\t\tvar nativeInputValueSetter = Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype, \"value\").set;\n\t\tnativeInputValueSetter.call(this.hiddenInput.current, val);\n\n\t\tvar ev2 = new Event('input', { bubbles: true});\n\t\tthis.hiddenInput.current.dispatchEvent(ev2);\n\t}\n\trender(){\n\t\tlet props = {...this.props};\n\t\tdelete props.value;\n\t\treturn <>\n\t\t\t<input onChange={this.handleChange.bind(this)} {...props} type='text' ref={this.dateInput} />\n\t\t\t<input onChange={this.props.onChange} name={this.props.name} style={{display: 'none'}} ref={this.hiddenInput} value={this.state.date} />\n\t\t</>\n\t}\n}","/*! CellEdit 1.0.19\n * ©2016 Elliott Beaty - datatables.net/license\n */\n\n/**\n * @summary     CellEdit\n * @description Make a cell editable when clicked upon\n * @version     1.0.19\n * @file        dataTables.editCell.js\n * @author      Elliott Beaty\n * @contact     elliott@elliottbeaty.com\n * @copyright   Copyright 2016 Elliott Beaty\n *\n * This source file is free software, available under the following license:\n *   MIT license - http://datatables.net/license/mit\n *\n * This source file is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY\n * or FITNESS FOR A PARTICULAR PURPOSE. See the license files for details.\n *\n * For details please refer to: http://www.datatables.net\n */\n\njQuery.fn.dataTable.Api.register('MakeCellsEditable()', function (settings) {\n    var table = this.table();\n\n    jQuery.fn.extend({\n        // UPDATE\n        updateEditableCell: function (callingElement) {\n            // Need to redeclare table here for situations where we have more than one datatable on the page. See issue6 on github\n            var table = $(callingElement).closest(\"table\").DataTable().table();\n            var row = table.row($(callingElement).parents('tr'));\n            var cell = table.cell($(callingElement).parents('td, th'));\n            var columnIndex = cell.index().column;\n            var inputField =getInputField(callingElement);\n\n            // Update\n            var newValue = inputField.val();\n            if (!newValue && ((settings.allowNulls) && settings.allowNulls != true)) {\n                // If columns specified\n                if (settings.allowNulls.columns) {\n                    // If current column allows nulls\n                    if (settings.allowNulls.columns.indexOf(columnIndex) > -1) {\n                        _update(newValue);\n                    } else {\n                        _addValidationCss();\n                    }\n                    // No columns allow null\n                } else if (!newValue) {\n                    _addValidationCss();\n                }\n                //All columns allow null\n            } else if (newValue && settings.onValidate) {\n                if (settings.onValidate(cell, row, newValue)) {\n                    _update(newValue);\n                } else {\n                    _addValidationCss();\n                }\n            }\n            else {\n                _update(newValue);\n            }\n            function _addValidationCss() {\n                // Show validation error\n                if (settings.allowNulls.errorClass) {\n                    $(inputField).addClass(settings.allowNulls.errorClass);\n                } else {\n                    $(inputField).css({ \"border\": \"red solid 1px\" });\n                }\n            }\n            function _update(newValue) {\n                var oldValue = cell.data();\n                cell.data(newValue);\n                //Return cell & row.\n                settings.onUpdate(cell, row, oldValue);\n            }\n            // Get current page\n            var currentPageIndex = table.page.info().page;\n\n            //Redraw table\n            // table.page(currentPageIndex).draw(false);\n        },\n        // CANCEL\n        cancelEditableCell: function (callingElement) {\n            var table = $(callingElement.closest(\"table\")).DataTable().table();\n            var cell = table.cell($(callingElement).parents('td, th'));\n            // Set cell to it's original value\n            cell.data(cell.data());\n\n            // Redraw table\n            table.draw();\n        }\n\n\n    });\n\n    // Destroy\n    if (settings === \"destroy\") {\n        $(table.body()).off(\"click\", \"td\");\n        table = null;\n    }\n\n    if (table != null) {\n        // On cell click\n        $(table.body()).on('click', 'td', function () {\n\n            var currentColumnIndex = table.cell(this).index().column;\n\n            // DETERMINE WHAT COLUMNS CAN BE EDITED\n            if ((settings.columns && settings.columns.indexOf(currentColumnIndex) > -1) || (!settings.columns)) {\n                var row = table.row($(this).parents('tr'));\n                editableCellsRow = row;\n\n                var cell = table.cell(this).node();\n                var oldValue = table.cell(this).data();\n                // Sanitize value\n                oldValue = sanitizeCellValue(oldValue);\n\n                // Show input\n                if (!$(cell).find('input').length && !$(cell).find('select').length && !$(cell).find('textarea').length) {\n                    // Input CSS\n                    var input = getInputHtml(currentColumnIndex, settings, oldValue);\n                    $(cell).html(input.html);\n                    if (input.focus) {\n                        $('#ejbeatycelledit').focus();\n                    }\n                }\n            }\n        });\n    }\n\n});\n\nfunction getInputHtml(currentColumnIndex, settings, oldValue) {\n    var inputSetting, inputType, input, inputCss, confirmCss, cancelCss, startWrapperHtml = '', endWrapperHtml = '', listenToKeys = false;\n\n    input = {\"focus\":true,\"html\":null};\n\n    if(settings.inputTypes){\n\t\t$.each(settings.inputTypes, function (index, setting) {\n\t\t\tif (setting.column == currentColumnIndex) {\n\t\t\t\tinputSetting = setting;\n\t\t\t\tinputType = inputSetting.type.toLowerCase();\n\t\t\t}\n\t\t});\n\t}\n\n    if (settings.inputCss) { inputCss = settings.inputCss; }\n    if (settings.wrapperHtml) {\n        var elements = settings.wrapperHtml.split('{content}');\n        if (elements.length === 2) {\n            startWrapperHtml = elements[0];\n            endWrapperHtml = elements[1];\n        }\n    }\n    \n    if (settings.confirmationButton) {\n        if (settings.confirmationButton.listenToKeys) { listenToKeys = settings.confirmationButton.listenToKeys; }\n        confirmCss = settings.confirmationButton.confirmCss;\n        cancelCss = settings.confirmationButton.cancelCss;\n        inputType = inputType + \"-confirm\";\n    }\n    switch (inputType) {\n        case \"list\":\n            input.html = startWrapperHtml + \"<select class='\" + inputCss + \"' onchange='$(this).updateEditableCell(this);'>\";\n            $.each(inputSetting.options, function (index, option) {\n                if (oldValue == option.value) {\n                   input.html = input.html + \"<option value='\" + option.value + \"' selected>\" + option.display + \"</option>\"\n                } else {\n                   input.html = input.html + \"<option value='\" + option.value + \"' >\" + option.display + \"</option>\"\n                }\n            });\n            input.html = input.html + \"</select>\" + endWrapperHtml;\n            input.focus = false;\n            break;\n        case \"list-confirm\": // List w/ confirm\n            input.html = startWrapperHtml + \"<select class='\" + inputCss + \"'>\";\n            $.each(inputSetting.options, function (index, option) {\n                if (oldValue == option.value) {\n                   input.html = input.html + \"<option value='\" + option.value + \"' selected>\" + option.display + \"</option>\"\n                } else {\n                   input.html = input.html + \"<option value='\" + option.value + \"' >\" + option.display + \"</option>\"\n                }\n            });\n            input.html = input.html + \"</select>&nbsp;<a href='javascript:void(0);' class='\" + confirmCss + \"' onclick='$(this).updateEditableCell(this);'>Confirm</a> <a href='javascript:void(0);' class='\" + cancelCss + \"' onclick='$(this).cancelEditableCell(this)'>Cancel</a>\" + endWrapperHtml;\n            input.focus = false;\n            break;\n        case \"datepicker\": //Both datepicker options work best when confirming the values\n        case \"datepicker-confirm\":\n            // Makesure jQuery UI is loaded on the page\n            if (typeof jQuery.ui == 'undefined') {\n                alert(\"jQuery UI is required for the DatePicker control but it is not loaded on the page!\");\n                break;\n            }\n\t        jQuery(\".datepick\").datepicker(\"destroy\");\n\t        input.html = startWrapperHtml + \"<input id='ejbeatycelledit' type='text' name='date' class='datepick \" + inputCss + \"'   value='\" + oldValue + \"'></input> &nbsp;<a href='javascript:void(0);' class='\" + confirmCss + \"' onclick='$(this).updateEditableCell(this)'>Confirm</a> <a href='javascript:void(0);' class='\" + cancelCss + \"' onclick='$(this).cancelEditableCell(this)'>Cancel</a>\" + endWrapperHtml;\n\t        setTimeout(function () { //Set timeout to allow the script to write the input.html before triggering the datepicker\n\t            var icon = \"http://jqueryui.com/resources/demos/datepicker/images/calendar.gif\";\n                // Allow the user to provide icon\n\t            if (typeof inputSetting.options !== 'undefined' && typeof inputSetting.options.icon !== 'undefined') {\n\t                icon = inputSetting.options.icon;\n\t            }\n\t            var self = jQuery('.datepick').datepicker(\n                    {\n                        showOn: \"button\",\n                        buttonImage: icon,\n                        buttonImageOnly: true,\n                        buttonText: \"Select date\"\n                    });\n\t        },100);\n\t        break;\n        case \"text-confirm\": // text input w/ confirm\n            input.html = startWrapperHtml + \"<input id='ejbeatycelledit' class='\" + inputCss + \"' value='\"+oldValue+\"'\" + (listenToKeys ? \" onkeyup='if(event.keyCode==13) {$(this).updateEditableCell(this);} else if (event.keyCode===27) {$(this).cancelEditableCell(this);}'\" : \"\") + \"></input>&nbsp;<a href='javascript:void(0);' class='\" + confirmCss + \"' onclick='$(this).updateEditableCell(this)'>Confirm</a> <a href='javascript:void(0);' class='\" + cancelCss + \"' onclick='$(this).cancelEditableCell(this)'>Cancel</a>\" + endWrapperHtml;\n            break;\n        case \"undefined-confirm\": // text input w/ confirm\n            input.html = startWrapperHtml + \"<input id='ejbeatycelledit' class='\" + inputCss + \"' value='\" + oldValue + \"'\" + (listenToKeys ? \" onkeyup='if(event.keyCode==13) {$(this).updateEditableCell(this);} else if (event.keyCode===27) {$(this).cancelEditableCell(this);}'\" : \"\") + \"></input>&nbsp;<a href='javascript:void(0);' class='\" + confirmCss + \"' onclick='$(this).updateEditableCell(this)'>Confirm</a> <a href='javascript:void(0);' class='\" + cancelCss + \"' onclick='$(this).cancelEditableCell(this)'>Cancel</a>\" + endWrapperHtml;\n            break;\n        case \"textarea\":\n        case \"textarea-confirm\":\n            input.html = startWrapperHtml + \"<textarea id='ejbeatycelledit' class='\" + inputCss + \"'>\"+oldValue+\"</textarea><a href='javascript:void(0);' class='\" + confirmCss + \"' onclick='$(this).updateEditableCell(this)'>Confirm</a> <a href='javascript:void(0);' class='\" + cancelCss + \"' onclick='$(this).cancelEditableCell(this)'>Cancel</a>\" + endWrapperHtml;\n            break;\n\tcase \"number-confirm\" :\n\t    input.html = startWrapperHtml + \"<input id='ejbeatycelledit' type='number' class='\" + inputCss + \"' value='\"+oldValue+\"'\" + (listenToKeys ? \" onkeyup='if(event.keyCode==13) {$(this).updateEditableCell(this);} else if (event.keyCode===27) {$(this).cancelEditableCell(this);}'\" : \"\") + \"></input>&nbsp;<a href='javascript:void(0);' class='\" + confirmCss + \"' onclick='$(this).updateEditableCell(this)'>Confirm</a> <a href='javascript:void(0);' class='\" + cancelCss + \"' onclick='$(this).cancelEditableCell(this)'>Cancel</a>\" + endWrapperHtml;\n\t    break;\n        default: // text input\n            input.html = startWrapperHtml + \"<input id='ejbeatycelledit' class='\" + inputCss + \"' onfocusout='$(this).updateEditableCell(this)' value='\" + oldValue + \"' onkeyup='if(event.keyCode==13) {event.target.blur()}' ></input>\" + endWrapperHtml;\n            break;\n    }\n    return input;\n}\n\nfunction getInputField(callingElement) {\n    // Update datatables cell value\n    var inputField;\n    switch ($(callingElement).prop('nodeName').toLowerCase()) {\n        case 'a': // This means they're using confirmation buttons\n            if ($(callingElement).siblings('input').length > 0) {\n                inputField = $(callingElement).siblings('input');\n            }\n            if ($(callingElement).siblings('select').length > 0) {\n                inputField = $(callingElement).siblings('select');\n            }\n            if ($(callingElement).siblings('textarea').length > 0) {\n                inputField = $(callingElement).siblings('textarea');\n            }\n        break;\n        default:\n            inputField = $(callingElement);\n    }\n    return inputField;\n}\n\nfunction sanitizeCellValue(cellValue) {\n    if (typeof (cellValue) === 'undefined' || cellValue === null || cellValue.length < 1) {\n        return \"\";\n    }\n\n    // If not a number\n    if (isNaN(cellValue)) {\n        // escape single quote\n        cellValue = cellValue.replace(/'/g, \"&#39;\");\n    }\n    return cellValue;\n}\n","import React, { Component } from 'react';\nimport { inject, observer } from 'mobx-react';\nimport lodash from 'lodash';\n\nimport ShowNotification from '../components/ShowNotification';\nimport DateInput from '../components/DateInput';\nimport confirmAction from '../utils/confirmAction';\n\n@inject('classesStore')\nexport default class StudentForm extends Component {\n\tdefaults = {\n\t\tfirstname: '',\n\t\tlastname: '',\n\t\tadmission_no: '',\n\t\tclass_id: '',\n\t\tstream_id: '',\n\t\tfathers_name: '',\n\t\tfathers_contact: '',\n\t\tmothers_name: '',\n\t\tmothers_contact: '',\n\t\tdob: '',\n\t\tdoa: '',\n\t\tgender: '',\n\t\tentry_marks: ''\n\t};\n\n\tstate = {previewUrl: '', error: {}, loading: false, classes: null, loading: false, data: {...this.defaults}\n\t};\n\n\tcomponentDidMount() {\n    this.props.classesStore.list(true).then(classes=>{\n    \tthis.setState({classes});\n    });\n\t}\n\n\tcomponentDidUpdate(prevProps,prevState) {\n\t\tif(!lodash.isEqual(this.props.data, prevProps.data)){\n\t\t\tthis.setState({data: {...this.defaults,...this.props.data}})\n\t\t}\n\t\tif((this.props.data||{}).profile != (prevProps.data||{}).profile){\n\t\t\tlet url = '/uploads/students_profile/' + this.props.data.profile;\n\t\t\tif(this.props.data.profile.startsWith('data:image/')){\n\t\t\t\turl = this.props.data.profile;\n\t\t\t}\n\t\t\tthis.setState({previewUrl: url});\n\t\t}\n\n\t\tif(!lodash.isEqual(this.props.error,prevProps.error)){\n\t\t\tthis.setState({error: this.props.error})\n\t\t}\n\t}\n\n\tinputChanged = (field,event) => {\n\t\tlet val = event.target.value;\n\t\t/// parseInt class_id and stream_id into stream for consistency in indexDB\n\t\tif(field == 'class_id' || field == 'stream_id'){\n\t\t\tval = parseInt(val) || val;\n\t\t}\n\t\tthis.setState( (state) => state.data[field] = val);\n\t}\n\n\tprofileChanged = (event) => {\n\t\tlet files = event.target.files;\n\t\tif(files && files[0]) {\n\t\t\tvar reader = new FileReader();\n\t\t\treader.onload = (e) => {\n\t\t\t\tthis.setState({previewUrl: e.target.result});\n\t\t\t\tthis.setState( (state) => (state.data['profile'] = e.target.result, state));\n\t\t\t};\n\t\t\treader.readAsDataURL(files[0]);\n\t\t}\n\t}\n\n\tsaveContinue = () => {\n\t\tthis.submit().then(()=>{\n\t\t\tthis.setState({data: {...this.defaults},error: {}});\n\t\t})\n\t}\n\n\tsave = () => {\n\t\tthis.submit().then(()=>this.props.close());\n\t}\n\n\tapply = () => {\n\t\tthis.submit().then(()=>{\n\t\t\tthis.setState({error: {}});\n\t\t})\n\t}\n\n\tsubmit = () => {\n\t\tlet data = this.state.data;\n\t\tthis.setState({loading: true});\n\t\treturn this.props.submit(data).then( res => {\n\t\t\tif(this.props.edit) {\n\t\t\t\tShowNotification(\"Student Successfully Edited\", \"success\", \"nc-check-2\");\n\t\t\t}else {\n\t\t\t\tShowNotification(\"Student Created Successfully\", \"success\", \"nc-check-2\");\n\t\t\t}\n\t\t}, error => {\n\t\t\tthis.setState({error});\n\t\t\tthrow error;\n\t\t}).finally(_=>this.setState({loading:false}));\n\t}\n\n\tdiscontinue = () => {\n\t\tconfirmAction( () => {\n\t\t\treturn this.props.discontinue().then(res=>{\n\t\t\t\tthis.props.close();\n\t\t\t\treturn {success: 'Discontinued!', succes_text: 'Student was discontinued'};\n\t\t\t}, error => {\n\t\t\t\tthrow {error: \"Student couldn't be discontinued\"};\n\t\t\t})\n\t\t}, {loading_title: 'Discontinuing...', loading_text: 'Discontinuing Member', canceled: \"Discontinuing Student Operation Cancelled\", consequence: 'Student information will be unaccessible in the next period'});\n\t}\n\n\trestore = () => {\n\t\tconfirmAction( () => {\n      return this.props.restore().then(res=>{\n        this.props.close();\n        return {success: 'Restored!', succes_text: 'Student was restored'};\n      }, error => {\n        throw {error: 'Student could not be restored.'};\n      })\n    }, {loading_title: 'Restoring...', loading_text: 'Restoring Student', canceled: \"Restoring Student Operation Cancelled\", consequence: 'Student information will be made accessible again'});\n\t}\n\n\tdelete = () => {\n\t\tconfirmAction( () => {\n\t\t\treturn this.props.delete().then(res=>{\n\t\t\t\tthis.props.close();\n\t\t\t\treturn {success: 'Deleted!', succes_text: 'Student was deleted'};\n\t\t\t}, error => {\n\t\t\t\tthrow {error: \"Student couldn't be deleted.\"};\n\t\t\t})\n\t\t}, {loading_title: 'Deleting...', loading_text: 'Deleting Student', canceled: \"Deleting Student Operation Cancelled\", consequence: 'Student will be completely removed'});\n\t}\n\n\tcancel = () => {\n\t\tlet cancelAsync = async () => this.props.cancel();\n\t\tif(lodash.isEmpty(this.props.data) || (!this.props.data.__meta_pending && lodash.isEqual(this.props.data, this.state.data))) {\n\t\t\tthis.props.close();\n\t\t\treturn;\n\t\t}\n\t\tconfirmAction( () => {\n\t\t\treturn cancelAsync().then(res=>{\n\t\t\t\tthis.props.close();\n\t\t\t\treturn {success: 'Cancelled!', succes_text: 'Student entry was cancelled'};\n\t\t\t}, error => {\n\t\t\t\tthrow {error: \"Student entry couldn't be removed.\"};\n\t\t\t})\n\t\t}, {loading_title: 'Deleting...', loading_text: 'Cancelling entry', canceled: \"\", consequence: 'Entered information will be discarded'});\n\t}\n\n\thandleSubmit = (e) => {\n\t\te.preventDefault();\n\t\tthis.submitAction();\n\t}\n\n\tchooseAction = (e) => {\n\t\tswitch(e.target.name) {\n\t\t\tcase 'apply':\n\t\t\t\tthis.submitAction = this.apply;\n\t\t\t\tbreak;\n\t\t\tcase 'save':\n\t\t\t\tthis.submitAction = this.save;\n\t\t\t\tbreak;\n\t\t\tcase 'save_continue':\n\t\t\t\tthis.submitAction = this.saveContinue;\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\trender() {\n\t\tlet { classes } = this.state;\n\t\tlet error = this.state.error || {};\n\t\tlet firstnameInvalid='', lastnameInvalid='', admissionNoInvalid='', genderInvalid='', entryMarksInvalid='', fathersNameInvalid='', fathersContactInvalid='',\n\t\t\tmothersNameInvalid='', mothersContactInvalid='', classInvalid='', streamInvalid='', dobInvalid='', doaInvalid='';\n\t\tif(error.errors) {\n\t\t\tfirstnameInvalid = error.errors.firstname ? 'is-invalid' : '';\n\t\t\tlastnameInvalid = error.errors.lastname ? 'is-invalid' : '';\n\t\t\tadmissionNoInvalid = error.errors.admission_no ? 'is-invalid' : '';\n\t\t\tgenderInvalid = error.errors.gender ? 'is-invalid' : '';\n\t\t\tentryMarksInvalid = error.errors.entry_marks ? 'is-invalid' : '';\n\t\t\tfathersNameInvalid = error.errors.fathers_name ? 'is-invalid' : '';\n\t\t\tfathersContactInvalid = error.errors.fathers_contact ? 'is-invalid' : '';\n\t\t\tmothersNameInvalid = error.errors.mothers_name ? 'is-invalid' : '';\n\t\t\tmothersContactInvalid = error.errors.mothers_contact ? 'is-invalid' : '';\n\t\t\tclassInvalid = error.errors.class_id ? 'is-invalid' : '';\n\t\t\tstreamInvalid = error.errors.stream_id ? 'is-invalid' : '';\n\t\t\tdobInvalid = error.errors.dob ? 'is-invalid' : '';\n\t\t\tdoaInvalid = error.errors.doa ? 'is-invalid' : '';\n\t\t}\n\n\t\tlet streams = null;\n\n\t\tif(classes) {\n\t\t\tlet selectedClass = classes.find( (cls) => cls.id == this.state.data.class_id );\n\t\t\tif(selectedClass) {\n\t\t\t\tstreams = selectedClass.streams;\n\t\t\t}\n\t\t}\n\n\t\treturn <div className=\"container-fluid\">\n\t\t\t{this.props.edit && <div className=\"row\">\n    \t    <div className=\"col-md-12\">\n    \t      <span className=\"pull-right\">\n    \t      \t{this.state.data.dod ? <button type=\"button\" className=\"btn btn-secondary\" onClick={this.restore} >Restore</button>\n    \t      \t : <button type=\"button\" className=\"btn btn-warning\" onClick={this.discontinue} >Discontinue</button> }\n    \t      \t&nbsp;\n    \t        <button type=\"button\" className=\"btn btn-danger\" onClick={this.delete} >Delete</button>\n    \t      </span>\n    \t    </div>\n\t    </div>}\n\t\t  <div className=\"row\">\n\t\t    <div className=\"col-md-12\">\n\t\t      <div className=\"card stacked-form\">\n\t\t\t\t\t  <div className=\"card-header \">\n\t\t\t\t\t    <h4 className=\"card-title\">Student Details</h4>\n\t\t\t\t\t  </div>\n\t\t\t\t\t  <div className=\"card-body \">\n\t\t\t\t\t    <form method=\"#\" action=\"#\" onSubmit={this.handleSubmit} >\n\t\t\t\t\t    \t{error.message && <div className=\"alert alert-danger\">\n                    <span>\n                        <b> Error - </b> {error.message}\n                    </span>\n                </div>}\n\t\t\t\t\t    \t<div className=\"row\">\n\t\t\t\t\t    \t\t<div className=\"col-md-9\">\n\t\t\t\t\t    \t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t        <label>First Name</label>\n\t\t\t\t\t\t\t\t        <input value={this.state.data.firstname} onChange={this.inputChanged.bind(this,'firstname')} type=\"text\" placeholder=\"First Name\" className={`form-control ${firstnameInvalid}`} required />\n\t\t\t\t\t\t\t\t        {firstnameInvalid && error.errors.firstname.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t\t\t      </div>\n\n\t\t\t\t\t\t\t\t      <div className=\"form-group\">\n\t\t\t\t\t\t\t\t        <label>Last Name</label>\n\t\t\t\t\t\t\t\t        <input value={this.state.data.lastname} onChange={this.inputChanged.bind(this,'lastname')} type=\"text\" placeholder=\"Last Name\" className={`form-control ${lastnameInvalid}`} required />\n\t\t\t\t\t\t\t\t        {lastnameInvalid && error.errors.lastname.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t\t\t      </div>\n\n\t\t\t\t\t\t\t\t      <div className=\"form-group\">\n\t\t\t\t\t\t\t\t        <label>Admission No</label>\n\t\t\t\t\t\t\t\t        <input value={this.state.data.admission_no} onChange={this.inputChanged.bind(this,'admission_no')} type=\"text\" placeholder=\"Admission No\" className={`form-control ${admissionNoInvalid}`} required />\n\t\t\t\t\t\t\t\t        {admissionNoInvalid && error.errors.admission_no.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t\t\t      </div>\n\t\t\t\t\t    \t\t</div>\n\t\t\t\t\t\t      <div className=\"col-md-3 d-flex align-items-center\">\n\t\t\t\t\t\t      \t<div>\n\t\t\t\t\t\t      \t\n\t\t\t\t\t\t      \t<div className=\"input-group\">\n\t\t\t\t\t\t      \t\t<div>\n\t\t\t\t\t\t\t      \t\t<img src={this.state.previewUrl || '/img/profile-placeholder.jpg'} className=\"rounded img-fluid\" style={{width: '100%', height: '100%'}} alt=\"Responsive image\" />\n\t\t\t\t\t\t\t      \t</div>\n\t\t\t\t\t\t\t\t\t\t  <span style={{position: 'absolute', bottom: 0}}>\n\t\t\t\t\t\t\t\t\t\t  \t<span className=\"btn btn-primary\"><i className=\"fa fa-camera\"></i>Change</span>\n\t\t\t\t\t\t\t\t\t\t    <input type=\"file\" onChange={this.profileChanged} style={{position: 'absolute', bottom: 0, top: 0, right: 0, left: 0}} className=\"custom-file-input\" id=\"inputGroupFile01\" aria-describedby=\"inputGroupFileAddon01\" />\n\t\t\t\t\t\t\t\t\t\t  </span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t      </div>\n\t\t\t\t\t      </div>\n\n\t\t\t\t\t      <div className=\"row\">\n\t\t\t\t\t      \t\n\t\t\t\t\t      \t<div className=\"form-group col-md-6\">\n\t\t\t\t\t\t        <label>Entry Marks(percentage)</label>\n\t\t\t\t\t\t        <input value={this.state.data.entry_marks} onChange={this.inputChanged.bind(this,'entry_marks')} type=\"text\" placeholder=\"Entry marks\" className={`form-control ${entryMarksInvalid}`} required />\n\t\t\t\t\t\t        {entryMarksInvalid && error.errors.entry_marks.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t      </div>\n\n\t\t\t\t\t\t      <div className=\"form-group col-md-6\">\n\t\t\t\t\t\t        <label>Gender</label>\n\t\t\t\t\t\t        <select value={this.state.data.gender} onChange={this.inputChanged.bind(this,'gender')} name=\"gender\" className={`form-control ${genderInvalid}`} required >\n\t\t\t\t\t\t        \t<option value=\"\">Select Gender</option>\n                      <option value=\"M\">Male</option>\n                      <option value=\"F\">Female</option>\n                    </select>\n\t\t\t\t\t\t        {genderInvalid && error.errors.gender.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t      </div>\n\t\t\t\t\t\t    </div>\n\n\t\t\t\t\t      <div className=\"row\">\n\t\t\t\t\t\t      <div className=\"form-group col-md-8\">\n\t\t\t\t\t\t        <label>Father's Names</label>\n\t\t\t\t\t\t        <input value={this.state.data.fathers_name} onChange={this.inputChanged.bind(this,'fathers_name')} type=\"text\" placeholder=\"Father's Names\" className={`form-control ${fathersNameInvalid}`} required />\n\t\t\t\t\t\t        {fathersNameInvalid && error.errors.fathers_name.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t      </div>\n\t\t\t\t\t\t      <div className=\"form-group col-md-4\">\n\t\t\t\t\t\t        <label>Father's Contact</label>\n\t\t\t\t\t\t        <input value={this.state.data.fathers_contact} onChange={this.inputChanged.bind(this,'fathers_contact')} type=\"text\" placeholder=\"Father's Contact\" className={`form-control ${fathersContactInvalid}`} required />\n\t\t\t\t\t\t        {fathersContactInvalid && error.errors.fathers_contact.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t      </div>\n\t\t\t\t\t      </div>\n\n\t\t\t\t\t      <div className=\"row\">\n\t\t\t\t\t\t      <div className=\"form-group col-md-8\">\n\t\t\t\t\t\t        <label>Mother's Names</label>\n\t\t\t\t\t\t        <input value={this.state.data.mothers_name} onChange={this.inputChanged.bind(this,'mothers_name')} type=\"text\" placeholder=\"Mother's Names\" className={`form-control ${mothersNameInvalid}`} required />\n\t\t\t\t\t\t        {mothersNameInvalid && error.errors.mothers_name.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t      </div>\n\t\t\t\t\t\t      <div className=\"form-group col-md-4\">\n\t\t\t\t\t\t        <label>Mother's Contact</label>\n\t\t\t\t\t\t        <input value={this.state.data.mothers_contact} onChange={this.inputChanged.bind(this,'mothers_contact')} type=\"text\" placeholder=\"Mother's Contact\" className={`form-control ${mothersContactInvalid}`} required />\n\t\t\t\t\t\t        {mothersContactInvalid && error.errors.mothers_contact.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t      </div>\n\t\t\t\t\t      </div>\n\n\t\t\t\t\t      <div className=\"row\">\n\t\t\t\t\t\t      <div className=\"form-group col-md-6\">\n\t\t\t\t\t\t        <label>Class</label>\n\t\t\t\t\t\t        <select disabled={!classes} value={this.state.data.class_id} onChange={this.inputChanged.bind(this,'class_id')} name=\"class\" className={`form-control ${classInvalid}`} required >\n\t\t\t\t\t\t        \t<option value=\"\">Select Class</option>\n                      {classes && classes.map( (cls) => <option key={cls.id} value={cls.id}>{cls.name}</option> )}\n                    </select>\n\t\t\t\t\t\t        {classInvalid && error.errors.class_id.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t      </div>\n\n\t\t\t\t\t\t      <div className=\"form-group col-md-6\">\n\t\t\t\t\t\t        <label>Stream</label>\n\t\t\t\t\t\t        <select disabled={!streams} value={this.state.data.stream_id} onChange={this.inputChanged.bind(this,'stream_id')} name=\"stream\" className={`form-control ${streamInvalid}`} required >\n\t\t\t\t\t\t        \t<option value=\"\">Select Stream</option>\n                      {streams && streams.map( (stream) => <option key={stream.id} value={stream.id}>{stream.name}</option> )}\n                    </select>\n\t\t\t\t\t\t        {streamInvalid && error.errors.stream_id.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t      </div>\n\n\t\t\t\t\t      </div>\n\n\t\t\t\t\t      <div className=\"row\">\n\t\t\t\t\t\t      <div className=\"form-group col-md-6\">\n\t\t\t\t\t\t        <label>Date of Birth</label>\n\t\t\t\t\t\t        <DateInput value={this.state.data.dob} onChange={this.inputChanged.bind(this,'dob')} type=\"text\" placeholder=\"Date of Birth\" className={`form-control ${dobInvalid}`} required />\n\t\t\t\t\t\t        {doaInvalid && error.errors.doa.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t      </div>\n\t\t\t\t\t\t      <div className=\"form-group col-md-6\">\n\t\t\t\t\t\t        <label>Date of Admission</label>\n\t\t\t\t\t\t        <DateInput value={this.state.data.doa} onChange={this.inputChanged.bind(this,'doa')} type=\"text\" placeholder=\"Date of Admission\" className={`form-control ${doaInvalid}`} required />\n\t\t\t\t\t\t        {doaInvalid && error.errors.doa.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t      </div>\n\t\t\t\t\t\t    </div>\n\n\t\t\t\t\t\t    <div className=\"row\">\n\t\t\t\t\t\t    \t<div className=\"col-sm-2\">\n\t\t\t\t            <input onClick={this.chooseAction} type=\"submit\" name=\"save\" value=\"SAVE\" disabled={this.state.loading} className=\"btn btn-success\" />\n\t\t\t\t          </div>\n\t\t\t\t\t\t\t  \t{this.props.edit ? <div className=\"col-sm-2\">\n\t\t\t\t            \t<input onClick={this.chooseAction} type=\"submit\" name=\"apply\" value=\"APPLY\" disabled={this.state.loading} className=\"btn btn-primary\" />\n\t\t\t\t          \t</div> :\n\t\t\t\t          \t<div className=\"col-sm-3\">\n\t\t\t\t            \t<input onClick={this.chooseAction} type=\"submit\" name=\"save_continue\" value=\"SAVE AND CONTINUE\" disabled={this.state.loading} className=\"btn btn-primary\" />\n\t\t\t\t          \t</div>\n\t\t\t\t          }\n\t\t\t\t          <div className=\"col-sm-3\">\n\t\t\t\t            \t<input onClick={this.cancel} type=\"button\" value=\"CANCEL\" disabled={this.state.loading} className=\"btn btn-danger\" />\n\t\t\t\t          </div>\n\t\t\t\t\t\t    </div>\n\n\t\t\t\t\t    </form>\n\t\t\t\t\t  </div>\n\t\t\t\t\t  <div className=\"card-footer \">\n\t\t\t\t\t  </div>\n\n\t\t\t\t\t</div>\n\t\t    </div>\n\t\t  </div>\n\t\t</div>\n\n\t}\n}","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { inject, observer } from 'mobx-react';\nimport lodash from 'lodash'\n\nimport StudentForm from '../components/StudentForm';\nimport DataTable from '../components/DataTable';\nimport getCookie from '../utils/getCookie';\n\n@inject('studentStore')\n@inject('classesStore')\n@observer\nexport default class Student extends Component {\n    constructor(props) {\n        super(props);\n        let locationState = this.props.location.state || {};\n        this.state = {class_id: locationState.class_id, stream_name: locationState.stream_name};\n        window.studentListActionEdit = this.edit;\n        this.dataTable = React.createRef();\n        var self = this;\n        this.dataTableConfig = {\n            serverSide: false,\n            processing: false,\n            ajax : function (params, callback, settings) {\n                self.props.studentStore.list({class_id: self.state.class_id}, true, true).then(students=>{\n                    callback({data: students});\n                    return students;\n                })\n            },\n            columns: [\n                { data: 'admission_no', name: 'admission_no', 'class': 'text-center'},\n                { data: 'firstname', name: 'firstname', 'class': 'text-center'},\n                { data: 'lastname', name: 'lastname', 'class': 'text-center'},\n                { data: 'stream_name', name: 'stream_name', 'class': 'text-center', render: (data,type,row) =>  data ? data : self.streamName(row.stream_id, row.class_id) },\n                { data: 'class_name', name: 'class_name', 'class': 'text-center', render: (data,type,row) => data ? data : self.className(row.class_id) },\n                { data: 'doa', name: 'doa', 'class': 'text-center', render: (data,type,row) => data ? (new Date(data)).toDateString() : '-' },\n                { data: null, 'class': 'text-center', render: function(data,type,row) {\n                    return `<span>\n                      <a onclick=\"studentListActionEdit('${data.id}')\" class=\"btn btn-link btn-warning details\"><i class=\"fa fa-edit\"></i></a>\n                  </span>`\n                }}\n            ],\n        };\n    }\n\n    componentWillUnmount() {\n        $('tr[title]').tooltip('dispose');\n    }\n\n    streamName = (streamId, classId) => {\n        let streamName = '-';\n        let selectedClass = this.state.classes && this.state.classes.find( (cls) => cls.id == classId );\n        if(selectedClass) {\n            let stream = selectedClass.streams && selectedClass.streams.find( (str) => str.id == streamId );\n            streamName = stream ? stream.name : '-';\n        }\n        return streamName;\n    }\n\n    className = (classId) => {\n        let selectedClass = this.state.classes && this.state.classes.find( (cls) => cls.id == classId );\n        return selectedClass ? selectedClass.name : '-';\n    }\n\n    componentDidMount() {\n        this.props.classesStore.list({}, true).then(classes=>{\n          this.setState({classes});\n        });\n    }\n\n    edit = (student) => {\n        if(String(student).startsWith('dummy_')){\n            this.props.history.push(`${this.props.match.url}/new?student=${student}`)\n        } else {\n            this.props.history.push(`${this.props.match.url}/${student}`);\n        }\n    }\n\n    inputChanged = (event) => {\n        let field = event.target.name;\n        let val = event.target.value;\n        if(field == 'stream_name'){\n          this.setState({stream_name: val}, this.filterStream);\n        }\n        else if(field == 'class_id'){\n          this.setState({class_id: val, stream_name: ''}, this.filterClass);\n        }\n    }\n\n    filterClass = () => {\n        this.dataTable.current.table.column(3).search('');\n        this.dataTable.current.table.ajax.reload();\n    }\n\n    filterStream = () => {\n        this.dataTable.current.table.column(3).search(this.state.stream_name).draw();\n    }\n\n    filterString = (event) => {\n        let value = event.target.value;\n        this.dataTable.current.table.search(value).draw();\n    }\n\n\trender() {\n        let match = this.props.match;\n        let {classes} = this.state;\n        let streams = null;\n\n        if(classes) {\n          let selectedClass = classes.find( (cls) => cls.id == this.state.class_id );\n          if(selectedClass) {\n            streams = selectedClass.streams;\n          }\n        }\n\t\treturn <div className=\"container-fluid\">\n            <div className=\"row\">\n                <div className=\"col-md-12\">\n                  <span className=\"pull-right\">\n                    <Link to={`${match.url}/new`} className=\"btn btn-success details\" href=\"/school/students/create\">New Student</Link>\n                  </span>\n                </div>\n              </div>\n    \t    <DataTable ref={this.dataTable} title=\"Students\" config={this.dataTableConfig} softDeleteField=\"dod\" toolbar={\n            <>\n              <select onChange={this.inputChanged} name=\"class_id\" value={this.state.class_id} id='filterByClass' className=\"form-control col-4\">\n                <option value=''>-- Select Classes--</option>\n                {classes && classes.map( (cls) => <option key={cls.id} value={cls.id}>{cls.name}</option> )}\n              </select>\n              <select onChange={this.inputChanged} name=\"stream_name\" value={this.state.stream_name} id='filterByStream' className=\"form-control col-4\">\n                <option value=''>-- Select Stream--</option>\n                {streams && streams.map( (stream) => <option key={stream.id} value={stream.name}>{stream.name}</option> )}\n              </select>\n              <div className=\"form-group col-4\">\n                <input type=\"text\" className=\"form-control\" onChange={this.filterString} placeholder=\"Search\" />\n              </div>\n            </>\n            }>\n                <th>Admission NO</th>\n                <th>Firstname</th>\n                <th>Lastname</th>\n                <th>Stream</th>\n                <th>Class</th>\n                <th>Date of Adm</th>\n                <th className=\"disabled-sorting text-center noExport\">Actions</th>\n            </DataTable>\n\t\t</div>\n\n\t}\n}\n\n@inject('studentStore')\n@observer\nexport class NewStudent extends Component {\n    state = { error: {}, data: {} };\n\n    componentDidMount() {\n        let studentIdMatch = this.props.location.search.match(/student=([^&]+)/);\n        if(studentIdMatch) {\n            let studentId = studentIdMatch[1];\n            this.props.studentStore.get(studentId, true).then(student => {\n                if(student){\n                    this.setState({data: student, error: student.__meta_error});\n                }\n            })\n        }\n    }\n    submit = (data) => {\n        return this.props.studentStore.create(data).then( student => {\n            this.setState({error: {}, data: student})\n            return student;\n        }, error => {\n            this.setState({error});\n            return Promise.reject(error);\n        })\n    }\n\n    cancel = () => {\n        let studentIdMatch = this.props.location.search.match(/student=([^&]+)/);\n        if(studentIdMatch) {\n            let studentId = studentIdMatch[1];\n            return this.props.studentStore.cancel(studentId);\n        }\n    }\n\n    close = () => {\n        this.props.history.push('/school/students', {class_id: this.state.data.class_id, stream_name: this.state.data.stream_name});\n    }\n\n    render() {\n        return <StudentForm data={this.state.data} error={this.state.error} submit={this.submit} cancel={this.cancel} close={this.close} />\n    }\n}\n\n\n@inject('studentStore')\n@observer\nexport class EditStudent extends Component {\n    state = { error: {}, data: {} };\n\n    componentDidMount() {\n    if(this.props.location.state && this.props.location.state.student){\n        this.setState({data: this.props.location.state.student})\n    }else if(this.props.match.params.id){\n        this.props.studentStore.get(this.props.match.params.id, true).then(student => {\n            this.setState({data: student, error: (student.__meta_error || {}) });\n        },error=>this.setState({error}))\n    }\n    \n  }\n\n  submit = (data) => {\n        return this.props.studentStore.update(data).then( student => {\n            this.setState({error: {}, data: student});\n            return student;\n        }, error => {\n            this.setState({error});\n            return Promise.reject(error);\n        })\n    }\n\n    delete = () => {\n        return this.props.studentStore.delete(this.props.match.params.id);\n    }\n\n    discontinue = () => {\n        return axios.post(`/api/students/discontinue/${this.state.data.id}`).then(res=> {\n            this.props.studentStore.saveItem(res.data);\n            this.setState({error: {}, data: res.data});\n            return res.data;\n        }, error => {\n            error = error.response ? error.response.data : error;\n            this.setState({error});\n            throw error;\n        })\n    }\n    restore = () => {\n        return axios.post(`/api/students/restore/${this.state.data.id}`).then(res=> {\n            this.props.studentStore.saveItem(res.data);\n            this.setState({error: {}, data: res.data});\n            return res.data;\n        }, error => {\n            error = error.response ? error.response.data : error;\n            this.setState({error});\n            throw error;\n        })\n    }\n\n    cancel = () => {\n        return this.props.studentStore.cancel(this.props.match.params.id);\n    }\n\n    close = () => {\n        this.props.history.push('/school/students', {class_id: this.state.data.class_id, stream_name: this.state.data.stream_name});\n    }\n\n    render() {\n        return <StudentForm edit={true} error={this.state.error} data={this.state.data} submit={this.submit} delete={this.delete} discontinue={this.discontinue} restore={this.restore} cancel={this.cancel} close={this.close} />\n    }\n}","import React, { Component } from 'react';\nimport lodash from 'lodash';\n\nimport ShowNotification from '../components/ShowNotification';\nimport DateInput from '../components/DateInput';\nimport confirmAction from '../utils/confirmAction';\n\nexport default class ReportForm extends Component {\n  defaults = {title: '', message: '', date: ''};\n  state = { data: {...this.defaults}, error: {}, loading: false }\n\n  inputChanged(field,event) {\n    let val = event.target.value;\n    this.setState( (state) => (state.data[field] = val, state));\n  }\n\n  componentDidUpdate(prevProps,prevState) {\n    if(this.props.edit){\n      if(!lodash.isEqual(this.props.data, prevProps.data)){\n        this.setState({data: {...this.defaults,...this.props.data}})\n      }\n    }\n    if(!lodash.isEqual(this.props.error,prevProps.error)){\n      this.setState({error: {...this.state.error,...this.props.error}})\n    }\n  }\n\n  submit = () => {\n    let data = this.state.data;\n    data['student_id'] = parseInt(this.props.studentId) || this.props.studentId;\n    this.setState({loading: true});\n    return this.props.submit(data).then( res => {\n      if(this.props.edit) {\n        ShowNotification(\"Report Successfully Edited\", \"success\", \"nc-check-2\");\n      }else {\n        ShowNotification(\"Report Created Successfully\", \"success\", \"nc-check-2\");\n      }\n    }, error => {\n      this.setState({error});\n      return Promise.reject(error);\n    }).finally(_=>this.setState({loading:false}));\n\n  }\n\n  saveContinue = () => {\n    this.submit().then(()=>{\n      this.setState({data: {...this.defaults},error: {}});\n    })\n  }\n\n  save = () => {\n    this.submit().then(()=>this.props.close());\n  }\n\n  apply = () => {\n    this.submit().then(()=>{\n      this.setState({error: {}});\n    })\n  }\n\n  delete = () => {\n    confirmAction( () => {\n      return this.props.delete().then(res=>{\n        this.props.close();\n        return {success: 'Deleted!', succes_text: 'Report was deleted'};\n      }, error => {\n        throw {error: \"Report couldn't be deleted.\"};\n      })\n    }, {loading_title: 'Deleting...', loading_text: 'Deleting Report', canceled: \"Deleting Report Operation Cancelled\", consequence: 'Report will be deleted'});\n  }\n\n  cancel = () => {\n    let cancelAsync = async () => this.props.cancel()\n    if(lodash.isEmpty(this.props.data) || (!this.props.data.pending && lodash.isEqual(this.props.data, this.state.data))) {\n      this.props.close();\n      return;\n    }\n    confirmAction( () => {\n      return cancelAsync().then(res=>{\n        this.props.close();\n        return {success: 'Cancelled!', succes_text: 'Student Report entry was cancelled'};\n      }, error => {\n        throw {error: \"Student Report entry couldn't be removed.\"};\n      })\n    }, {loading_title: 'Cancelling...', loading_text: 'Cancelling entry', canceled: \"\", consequence: 'Entered information will be discarded'});\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    this.submitAction();\n  }\n\n  chooseAction = (e) => {\n    switch(e.target.name) {\n      case 'apply':\n        this.submitAction = this.apply;\n        break;\n      case 'save':\n        this.submitAction = this.save;\n        break;\n      case 'save_continue':\n        this.submitAction = this.saveContinue;\n        break;\n    }\n  }\n\n  render() {\n    let error = this.state.error || {};\n    let titleInvalid='', messageInvalid='', dateInvalid='';\n    if(error.errors) {\n      titleInvalid = error.errors.title ? 'is-invalid' : '';\n      messageInvalid = error.errors.message ? 'is-invalid' : '';\n      dateInvalid = error.errors.date ? 'is-invalid' : '';\n    }\n\n    return <div className=\"container-fluid\">\n      {this.props.edit && <div className=\"row\">\n          <div className=\"col-md-12\">\n            <span className=\"pull-right\">\n              <button type=\"button\" className=\"btn btn-danger\" onClick={this.delete} >Delete</button>\n            </span>\n          </div>\n      </div>}\n      <div className=\"row\">\n        <div className=\"col-md-12\">\n          <div className=\"card stacked-form\">\n            <div className=\"card-header \">\n              <h4 className=\"card-title\">Report</h4>\n            </div>\n            <div className=\"card-body \">\n              <form onSubmit={this.handleSubmit} >\n                {error.message && <div className=\"alert alert-danger\">\n                    <span>\n                        <b> Error - </b> {error.message}\n                    </span>\n                </div>}\n                <div className=\"form-group\">\n                  <label>Title</label>\n                  <input value={this.state.data.title} onChange={this.inputChanged.bind(this,'title')} type=\"text\" placeholder=\"Title\" className={`form-control ${titleInvalid}`} required />\n                  {titleInvalid && error.errors.title.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n                  <p className=\"help-block help-block-error\"></p>\n                </div>\n\n                <div className=\"form-group\">\n                  <label>Message</label>\n                  <textarea value={this.state.data.message} onChange={this.inputChanged.bind(this,'message')} type=\"text\" placeholder=\"Enter message\" className={`form-control ${messageInvalid}`} required ></textarea>\n                  {messageInvalid && error.errors.message.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n                  <p className=\"help-block help-block-error\"></p>\n                </div>\n\n                <div className=\"form-group col-md-6\">\n                  <label>Date</label>\n                  <DateInput value={this.state.data.date} onChange={this.inputChanged.bind(this,'date')} type=\"text\" placeholder=\"Date\" className={`form-control ${dateInvalid}`} required />\n                  {dateInvalid && error.errors.date.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n                  <p className=\"help-block help-block-error\"></p>\n                </div>\n\n                <div className=\"card-footer \">\n                  <div className=\"row\">\n                    <div className=\"col-sm-2\">\n                      <input onClick={this.chooseAction} type=\"submit\" name=\"save\" value=\"SAVE\" disabled={this.state.loading} className=\"btn btn-success\" />\n                    </div>\n                    {this.props.edit ? <div className=\"col-sm-2\">\n                        <input onClick={this.chooseAction} type=\"submit\" name=\"apply\" value=\"APPLY\" disabled={this.state.loading} className=\"btn btn-primary\" />\n                      </div> :\n                      <div className=\"col-sm-3\">\n                        <input onClick={this.chooseAction} name=\"save_continue\" type=\"submit\" value=\"SAVE AND CONTINUE\" disabled={this.state.loading} className=\"btn btn-primary\" />\n                      </div>\n                    }\n                    &nbsp;\n                    <div className=\"col-sm-2\">\n                      <input onClick={this.cancel} type=\"button\" value=\"CANCEL\" disabled={this.state.loading} className=\"btn btn-warning\" />\n                    </div>\n                  </div>\n                </div>\n\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  }\n}\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { inject, observer } from 'mobx-react';\nimport lodash from 'lodash';\n\nimport ReportForm from '../components/ReportForm';\nimport DataTable from '../components/DataTable';\nimport getCookie from '../utils/getCookie';\n\n@inject('studentStore')\n@inject('classesStore')\n@observer\nexport default class StudentList extends Component {\n  constructor(props) {\n    super(props);\n    window.studentListActionShowReport = this.showReport;\n    var self = this;\n    this.state = {class_id: '', stream_name: ''};\n    this.dataTable = React.createRef();\n    this.dataTableConfig = {\n      serverSide: false,\n      processing: false,\n      ajax : function (params, callback, settings) {\n          self.props.studentStore.list({class_id: self.state.class_id}, true).then(students=>{\n              callback({data: students});\n          })\n      },\n      columns: [\n        { data: 'admission_no', name: 'admission_no', 'class': 'text-center'},\n        { data: 'firstname', name: 'firstname', 'class': 'text-center'},\n        { data: 'lastname', name: 'lastname', 'class': 'text-center'},\n        { data: 'stream_name', name: 'stream', 'class': 'text-center'},\n        { data: 'class_name', name: 'class', 'class': 'text-center'},\n        { data: null, 'class': 'text-center', render: function(data,type,row) {\n          return `<span>\n              <a onclick=\"studentListActionShowReport('${data.id}')\" class=\"btn btn-link btn-warning details\"><i class=\"nc-icon nc-bullet-list-67 icon-bold\"></i></a>\n            </span>`\n        }}\n      ],\n      createdRow: function (row, data, index) {\n        if(data.dod) {\n          row.classList.add('table-danger');\n        }\n      }\n    };\n  }\n\n  componentDidMount() {\n      this.props.classesStore.list(true).then(classes=>{\n        this.setState({classes});\n      });\n  }\n\n  inputChanged = (event) => {\n    let field = event.target.name;\n    let val = event.target.value;\n    if(field == 'stream_name'){\n      this.setState({stream_name: val}, this.filterStream);\n    }\n    else if(field == 'class_id'){\n      this.setState({class_id: val, stream_name: ''}, this.filterClass);\n    }\n  }\n\n  filterClass = () => {\n    this.dataTable.current.table.column(3).search('');\n    this.dataTable.current.table.ajax.reload();\n  }\n\n  filterStream = () => {\n      this.dataTable.current.table.column(3).search(this.state.stream_name).draw();\n  }\n\n  filterString = (event) => {\n    let value = event.target.value;\n    this.dataTable.current.table.search(value).draw();\n  }\n\n  showReport = (student) => {\n    this.props.history.push(`${this.props.match.url}/${student}`);\n  }\n\n\trender() {\n\t\tlet match = this.props.match;\n    let {classes} = this.state;\n    let streams = null;\n\n    if(classes) {\n      let selectedClass = classes.find( (cls) => cls.id == this.state.class_id );\n      if(selectedClass) {\n        streams = selectedClass.streams;\n      }\n    }\n\n\t\treturn <div className=\"container-fluid\">\n\t\t  <div className=\"row\">\n\t\t    <div className=\"col-md-12\">\n\t\t      <span className=\"pull-right\">\n\t\t      </span>\n\t\t    </div>\n\t\t  </div>\n      <DataTable ref={this.dataTable} title=\"Students Report\" config={this.dataTableConfig} toolbar={\n        <>\n          <select onChange={this.inputChanged} name=\"class_id\" value={this.state.class_id} id='filterByClass' className=\"form-control col-4\">\n            <option value=''>-- Select Classes--</option>\n            {classes && classes.map( (cls) => <option key={cls.id} value={cls.id}>{cls.name}</option> )}\n          </select>\n          <select onChange={this.inputChanged} name=\"stream_name\" value={this.state.stream_name} id='filterByStream' className=\"form-control col-4\">\n            <option value=''>-- Select Stream--</option>\n            {streams && streams.map( (stream) => <option key={stream.id} value={stream.name}>{stream.name}</option> )}\n          </select>\n          <div className=\"form-group col-4\">\n            <input type=\"text\" className=\"form-control\" onChange={this.filterString} placeholder=\"Search\" />\n          </div>\n        </>\n        }>\n        <th>Admission NO</th>\n        <th>Firstname</th>\n        <th>Lastname</th>\n        <th>Stream</th>\n        <th>Class</th>\n        <th className=\"disabled-sorting text-center noExport\">Show Report</th>\n      </DataTable>\n\t\t</div>\n\n\t}\n}\n\n\n@inject('reportStore')\n@observer\nexport class StudentReports extends Component {\n  constructor(props) {\n    super(props);\n    window.studentListActionEdit = this.edit;\n    window.studentListActionDelete = this.delete;\n    var self = this;\n    this.dataTable = React.createRef();\n    this.dataTableConfig = {\n      serverSide: false,\n      processing: false,\n      ajax : function (params, callback, settings) {\n          self.props.reportStore.list({student_id: self.props.match.params.id}, true, true).then(reports=>{\n              callback({data: reports});\n          })\n      },\n      columns: [\n          { data: 'title', name: 'title', 'class': 'text-center'},\n          { data: 'date', name: 'date', 'class': 'text-center'},\n          { data: null, 'class': 'text-center', render: function(data,type,row) {\n              return `<span>\n                <a onclick=\"studentListActionEdit('${data.id}')\" class=\"btn btn-link btn-warning details\"><i class=\"fa fa-edit\"></i></a>\n            </span>`\n          }}\n      ]\n    }\n  }\n\n  edit = (report) => {\n    this.props.history.push(`${this.props.match.url}/${report}`);\n  }\n\n  delete = (report) => {\n\n  }\n  render() {\n    let match = this.props.match;\n    return <div className=\"container-fluid\">\n      <div className=\"row\">\n        <div className=\"col-md-12\">\n          <span className=\"pull-right\">\n            <Link to={`${match.url}/new`} className=\"btn btn-success details\" href=\"/school/students/create\">New Report</Link>\n          </span>\n        </div>\n      </div>\n      <DataTable ref={this.dataTable} config={this.dataTableConfig} title=\"Report\">\n        <th>Title</th>\n        <th>Date</th>\n        <th className=\"disabled-sorting text-center noExport\">Action</th>\n      </DataTable>\n    </div>\n  }\n}\n\n@inject('reportStore')\n@observer\nexport class NewReport extends Component {\n    state = { error: {} };\n\n    componentDidMount() {\n        let reportIdMatch = this.props.location.search.match(/report=([^&]+)/);\n        if(reportIdMatch) {\n            let reportId = reportIdMatch[1];\n            this.props.reportStore.get(reportId, true).then(report => {\n                if(report){\n                    this.setState({data: report, error: report.error});\n                }\n            })\n        }\n    }\n\n    submit = (data) => {\n      return this.props.reportStore.create(data).then( report => {\n          this.setState({error: {}, data: report})\n          return report;\n      }, error => {\n          this.setState({error});\n          return Promise.reject(error);\n      });\n    }\n\n    cancel = () => {\n        let reportIdMatch = this.props.location.search.match(/report=([^&]+)/);\n        if(reportIdMatch) {\n            let reportId = reportIdMatch[1];\n            return this.props.reportStore.cancel(reportId);\n        }\n    }\n\n    close = () => {\n        this.props.history.push(`/school/students/report/${this.props.match.params.id}`);\n    }\n    render() {\n      let  studentId = this.props.match.params.id;\n      return <ReportForm studentId={studentId} error={this.state.error} submit={this.submit} close={this.close} cancel={this.cancel} />\n    }\n}\n\n@inject('reportStore')\n@observer\nexport class EditReport extends Component {\n  state = { error: {}, data: {} };\n\n  componentDidMount() {\n    if(this.props.location.state && this.props.location.state.report){\n      this.setState({data: this.props.location.state.report})\n    }else if(this.props.match.params.id){\n      this.props.reportStore.get(this.props.match.params.reportId, true).then(report => {\n        this.setState({data: report});\n      },error=>this.setState({error}))\n    }\n    \n  }\n\n  submit = (data) => {\n    return this.props.reportStore.update(data).then( report => {\n      this.setState({error: {}, data: report})\n      return report;\n    }, error => {\n      this.setState({error});\n      return Promise.reject(error);\n    })\n  }\n\n  delete = () => {\n    return this.props.reportStore.delete(this.props.match.params.reportId);\n  }\n\n  close = () => {\n      this.props.history.push(`/school/students/report/${this.props.match.params.id}`);\n  }\n\n  cancel = () => {\n      return this.props.reportStore.cancel(this.props.match.params.reportId);\n  }\n\n  render() {\n    let  studentId = this.props.match.params.id;\n    return <ReportForm studentId={studentId} edit={true} error={this.state.error} data={this.state.data} submit={this.submit} delete={this.delete} close={this.close} cancel={this.cancel} />\n  }\n}","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport {inject} from 'mobx-react';\n\nimport StudentForm from '../components/StudentForm';\nimport DataTable from '../components/DataTable';\nimport DateInput from '../components/DateInput';\nimport getCookie from '../utils/getCookie';\n\n@inject('classesStore')\nexport default class Attendance extends Component {\n  dateRef = React.createRef();\n  state = { classes: null, class_id: '', stream_id: '', date: '' };\n  dataTable = null;\n  constructor(props) {\n    super(props);\n    const self = this;\n    this.dataTable = React.createRef()\n    this.dataTableConfig = {\n      serverSide: true,\n      processing: true,\n      ajax: function(params, callback, settings) {\n        params.class_id = self.state.class_id;\n        params.stream_id = self.state.stream_id;\n        params.date = self.state.date;\n        axios.get('/api/attendance', {params: {params}}).then(response=>{\n          callback(response.data);\n        })\n      },\n      columns: [\n        { data: 'admission_no', name: 'admission_no', 'class': 'text-center'},\n        { data: 'firstname', name: 'firstname', 'class': 'text-center'},\n        { data: 'lastname', name: 'lastname', 'class': 'text-center'},\n        { data: null, 'class': 'text-center', render: function(data,type,row) {\n          let checked = data.date ? \" checked='' \" : ''\n          return `<span>\n              <div class=\"bootstrap-switch bootstrap-switch-wrapper bootstrap-switch-animate bootstrap-switch-${data.date ? 'on': 'off'}\" style=\"width: 72px;\"><div class=\"bootstrap-switch-container\" style=\"width: 122px; margin-left: 0px;\"><span class=\"bootstrap-switch-handle-on bootstrap-switch-info\" style=\"width: 50px;\"><i class=\"fa fa-check\"></i></span><span class=\"bootstrap-switch-label\" style=\"width: 30px;\">&nbsp;</span><span class=\"bootstrap-switch-handle-off bootstrap-switch-info\" style=\"width: 50px;\"><i class=\"fa fa-times\"></i></span><input type=\"checkbox\" checked=\"\" data-toggle=\"switch\" data-on-color=\"info\" data-off-color=\"info\" data-on-text=\"<i class='fa fa-check'></i>\" data-off-text=\"<i class='fa fa-times'></i>\"></div></div>\n            </span>`\n        }}\n      ],\n    };\n  }\n\n  inputChanged = (event) => {\n    let field = event.target.name;\n    let val = event.target.value;\n    if(field == 'stream_id')\n      this.setState({stream_id: val}, this.filterChanged);\n    else if(field == 'class_id')\n      this.setState({class_id: val, stream_id: ''}, this.filterChanged);\n    else\n      this.setState({[field]: val}, this.filterChanged);\n  }\n\n  filterChanged = () => {\n    this.dataTable.current.draw();\n  }\n\n\tcomponentDidMount() {\n    this.props.classesStore.list({},true).then(classes=>{\n      this.setState({classes});\n    })\n\t}\n\n\trender() {\n\t\tlet match = this.props.match;\n\n    let {classes} = this.state;\n    let streams = null;\n\n    if(classes) {\n      let selectedClass = classes.find( (cls) => cls.id == this.state.class_id );\n      if(selectedClass) {\n        streams = selectedClass.streams;\n      }\n    }\n\n\t\treturn <div className=\"container-fluid\">\n      <DataTable ref={this.dataTable} title=\"Attendance\" config={this.dataTableConfig} toolbar={\n        <>\n          <select onChange={this.inputChanged} name=\"class_id\" value={this.state.class_id} id='filterByClass' className=\"form-control col-4\">\n            <option value=''>-- Select Classes--</option>\n            {classes && classes.map( (cls) => <option key={cls.id} value={cls.id}>{cls.name}</option> )}\n          </select>\n          <select onChange={this.inputChanged} name=\"stream_id\" value={this.state.stream_id} id='filterByStream' className=\"form-control col-4\">\n            <option value=''>-- Select Stream--</option>\n            {streams && streams.map( (stream) => <option key={stream.id} value={stream.id}>{stream.name}</option> )}\n          </select>\n          <div className=\"col-4\">\n            <DateInput onChange={this.inputChanged} name=\"date\" className=\"form-control\" placeholder=\"Enter Date\" />\n          </div>\n        </>\n      }>\n        <th>Admission No</th>\n        <th>Firstname</th>\n        <th>Lastname</th>\n        <th>Attendance</th>\n      </DataTable>\n\t\t</div>\n\n\t}\n}\n","import React, { Component } from 'react';\nimport { Route } from \"react-router-dom\";\n\nimport AnimatedSwitch from '../components/animated-switch';\n\nimport Student, {NewStudent, EditStudent} from './Student';\n\nimport Report, {StudentReports, NewReport, EditReport} from './Report';\n\nimport Attendance from './Attendance';\n\nexport default class StudentPages extends Component {\n\trender() {\n\t\tlet match = this.props.match;\n\t\treturn <AnimatedSwitch>\n\t\t\t\t\t\t<Route exact path={`${match.path}`} render={(props) => <Student {...props} /> } />\n\t\t\t\t\t\t<Route path={`${match.path}/new`} render={(props) => <NewStudent {...props} />} />\n\t\t\t\t\t\t<Route exact path={`${match.path}/report`} render={(props) => <Report {...props} />} />\n\t\t\t\t\t\t<Route exact path={`${match.path}/report/:id`} render={(props) => <StudentReports {...props} />} />\n\t\t\t\t\t\t<Route path={`${match.path}/report/:id/new`} render={(props) => <NewReport {...props} />} />\n\t\t\t\t\t\t<Route path={`${match.path}/report/:id/:reportId`} render={(props) => <EditReport {...props} />} />\n\t\t\t\t\t\t<Route path={`${match.path}/attendance`} render={(props) => <Attendance {...props} />} />\n\t\t\t\t\t\t<Route path={`${match.path}/:id`} render={(props) => <EditStudent {...props} />} />\n\t\t\t\t\t\t<Route path=\"\"><h1>404 Not Found</h1></Route>\n\t\t\t\t\t</AnimatedSwitch>\n\t}\n}"],"sourceRoot":""}