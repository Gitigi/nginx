{"version":3,"sources":["components/DataTable.js","utils/getCookie.js","utils/confirmAction.js","components/DateInput.js","libs/dataTables.cellEdit.js","components/CountDown/countDown.js","components/CountDown/index.js","components/PeriodForm.js","pages/Period.js","components/StreamList.js","components/ClassForm.js","components/StreamForm.js","pages/Classes.js","components/SubjectForm.js","pages/Subject.js","components/SubjectGroupForm.js","pages/SubjectGroup.js","pages/Grade.js","pages/Level.js","pages/SetupPages.js"],"names":["DataTable","props","tableEl","React","createRef","state","table","draw","highlightRow","row","data","jRow","$","tooltip","title","__meta_pending","className","__meta_error","message","error","errors","Object","keys","errorSub","classList","add","softDeleteField","remove","toggle","placement","self","defaultConfig","dom","buttons","extend","text","titleAttr","exportOptions","columns","responsive","language","search","searchPlaceholder","rowCallback","this","initTable","current","find","config","configRowCallback","prevProp","prevState","lodash","isEqual","destroy","toolbar","ref","cellSpacing","width","style","children","Component","getCookie","cname","name","ca","decodeURIComponent","document","cookie","split","i","length","c","charAt","substring","indexOf","action","Swal","fire","consequence","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","yes","then","result","value","loadingModal","loading","loading_text","showConfirmButton","onBeforeOpen","showLoading","res","closeModal","success","succes_text","footer","dismiss","DismissReason","cancel","canceled","DateInput","date","dateInput","hiddenInput","jquery","datepicker","format","zIndexOffset","on","e","handleChange","reverse","join","val","Date","getDate","target","getOwnPropertyDescriptor","window","HTMLInputElement","prototype","set","call","ev2","Event","bubbles","dispatchEvent","onChange","bind","type","display","jQuery","fn","dataTable","Api","register","settings","updateEditableCell","callingElement","closest","parents","cell","columnIndex","index","column","inputField","prop","toLowerCase","siblings","getInputField","newValue","_addValidationCss","allowNulls","errorClass","addClass","css","_update","oldValue","onUpdate","onValidate","page","info","cancelEditableCell","body","off","currentColumnIndex","editableCellsRow","node","cellValue","isNaN","replace","sanitizeCellValue","input","inputSetting","inputType","inputCss","confirmCss","cancelCss","startWrapperHtml","endWrapperHtml","listenToKeys","inputTypes","each","setting","wrapperHtml","elements","confirmationButton","html","options","option","focus","ui","alert","setTimeout","showOn","buttonImage","buttonImageOnly","buttonText","getInputHtml","Countdown","userOptions","cont","countdown","year","month","day","hour","minute","second","endCallback","outputFormat","outputTranslation","week","lastTick","intervalsBySize","elementClassPrefix","interval","digitConts","_assignOptions","TIMESTAMP_SECOND","TIMESTAMP_MINUTE","TIMESTAMP_HOUR","TIMESTAMP_DAY","dateData","_fixCompatibility","_getDate","_prepareTimeByOutputFormat","_writeData","getTime","now","stop","setInterval","_updateView","clearInterval","expectedValues","hasOwnProperty","dateObj","usedIntervals","timeDiff","output","filter","item","forEach","Math","trunc","TIMESTAMP_YEAR","TIMESTAMP_WEEK","x","NaN","floor","ceil","intervalName","code","element","_getIntervalContCommonClassName","_getIntervalContClassName","intervalDescription","digit","_getDigitContCommonClassName","_getDigitContClassName","_getDigitElementString","innerHTML","newDigit","lastDigit","_getDigitCont","querySelector","_CountDown","el","cd","init","prevProps","start","end","PeriodForm","defaults","inputChanged","field","event","setState","saveContinue","submit","save","close","apply","edit","ShowNotification","response","Promise","reject","finally","_","delete","confirmAction","axios","id","loading_title","switchTo","post","nameInvalid","elRef","disabled","onClick","method","placeholder","map","key","role","Period","period","editPeriod","history","push","match","url","closePeriod","periodListActionEdit","dataTableConfig","order","serverSide","processing","ajax","params","callback","get","render","toDateString","periodName","periodStart","created_at","periodEnd","height","backgroundColor","borderRadius","fontSize","to","NewPeriod","EditPeriod","put","location","student","StreamList","stream","streamListActionEdit","streams","createdRow","withRouter","ExamForm","levels","levelChain","subLevelChains","setLevel","level","iLevel","l","level_id","restore","classes","subjects","startInvalid","baseLevels","data-toggle","aria-haspopup","aria-expanded","subLevel","classId","TeacherForm","inject","shorthand","teacher_id","teachers","setSubjectTeacher","subjectId","findIndex","sub","subject_id","subjectTeacher","teacherStore","list","subjectStore","shorthandInvalid","teacherInvalid","teacher","firstname","lastname","subject","Classes","cls","studentListActionEdit","classesStore","NewClass","create","EditClass","console","log","update","StreamNew","StreamEdit","streamId","SubjectForm","subjectGroups","subjectGroupStore","subjectGroupInvalid","subject_group_id","group","Subject","NewSubject","EditSubject","SubjectGroup","subjectGroupListActionEdit","SubjectGroupNew","SubjectGroupEdit","subjectGroup","subjectGroupId","Grade","updateValue","updatedCell","updatedRow","min","max","grade","symbol","ordering","paging","searching","MakeCellsEditable","Level","observer","addLevel","parentLevels","sort","a","b","pos","observable","LevelView","editLevel","activeLevel","newName","newShorthand","addSubLevel","parent","splice","setActiveLevel","shorhand","subLevels","aria-label","aria-current","SetupPages","path"],"mappings":"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","file":"static/js/9.260a4493.chunk.js","sourcesContent":["import React, {Component} from 'react';\n\nimport lodash from 'lodash';\n\nimport 'datatables.net-bs4';\nimport 'datatables.net-buttons-bs4';\nimport 'datatables.net-buttons/js/buttons.html5.js';\nimport 'datatables.net-colreorder-bs4';\nimport 'datatables.net-fixedcolumns-bs4';\nimport 'datatables.net-fixedheader-bs4';\nimport 'datatables.net-responsive-bs4';\nimport 'datatables.net-rowgroup-bs4';\nimport 'datatables.net-rowreorder-bs4';\nimport 'datatables.net-scroller-bs4';\nimport 'datatables.net-select-bs4';\nimport '../libs/dataTables.cellEdit';\n\n//datatables dependencies\n// import jsZip from  'jszip';\n// import 'pdfmake';\n// import pdfFonts from 'pdfmake/build/vfs_fonts.js';\n\n// pdfMake.vfs = pdfFonts.pdfMake.vfs;\n// window.JSZip = jsZip;\n\nexport default class DataTable extends Component {\n  tableEl = React.createRef();\n  state = {}\n  table = null;\n  constructor(props) {\n    super(props);\n    const self = this;\n    this.defaultConfig = {\n      \"pagingType\": \"full_numbers\",\n      \"lengthMenu\": [\n        [10, 25, 50, 100, -1],\n        [10, 25, 50, 100, \"All\"]\n      ],\n      dom: 'rt<\"bottom\"lpi><\"clear\">',\n      buttons: [\n        {\n          extend:    'excelHtml5',\n          text:      '<i class=\"fa fa-file-excel-o text-info\"></i>',\n          titleAttr: 'Excel',\n          exportOptions: {\n            columns: \"thead th:not(.noExport)\"\n          }\n        }\n      ],\n      responsive: true,\n      language: {\n        search: \"_INPUT_\",\n        searchPlaceholder: \"Search records\",\n      },\n      rowCallback: function( row, data ) {\n        let jRow = $(row);\n        jRow.tooltip('dispose');\n        let title = '';\n        if(data.__meta_pending) {\n            title = 'Pending - ';\n            let className = 'table-dark';\n            if(data.__meta_error && data.__meta_error.message) {\n                className = (data.__meta_error.message !== \"Network Error\") ? 'table-warning' : className;\n                let error = data.__meta_error;\n                title += error.message;\n                if(error.errors) {\n                    for(let errorSub of Object.keys(error.errors) ){\n                      title += '\\n' + error.errors[errorSub];\n                    }\n                }\n            }\n            row.classList.add(className);\n        } else if(data[self.props.softDeleteField]) {\n            title = 'Discontinued';\n            row.classList.add('table-danger');\n        } else {\n          row.classList.remove('table-warning');\n          row.classList.remove('table-dark');\n          row.classList.remove('table-danger');\n        }\n\n        if(title)\n            jRow.tooltip({toggle: \"tooltip\", placement: \"bottom\", title });\n      }\n    };\n  }\n  \n  componentDidMount() {\n    this.initTable();\n  }\n\n  componentWillUnmount() {\n      $(this.tableEl.current).find('tr[title]').tooltip('dispose');\n  }\n\n  initTable() {\n    const self = this;\n    let config = this.props.config || {};\n    let configRowCallback = this.props.config.rowCallback;\n    config.rowCallback = (row, data) => {\n      self.highlightRow(row, data);\n      configRowCallback && configRowCallback(row, data);\n    };\n    this.table = $(this.tableEl.current).DataTable({...this.defaultConfig, ...config});\n  }\n\n  componentDidUpdate(prevProp,prevState) {\n    if(!lodash.isEqual(prevProp.config, this.props.config)) {\n      this.table.destroy();\n      this.initTable();\n    }\n  }\n\n  draw = () => {\n    this.table.draw();\n  }\n\n  highlightRow = (row, data) => {\n    let jRow = $(row);\n      jRow.tooltip('dispose');\n      let title = '';\n      if(data.__meta_pending) {\n          title = 'Pending - ';\n          let className = 'table-dark';\n          if(data.__meta_error && data.__meta_error.message) {\n              className = (data.__meta_error.message !== \"Network Error\") ? 'table-warning' : className;\n              let error = data.__meta_error;\n              title += error.message;\n              if(error.errors) {\n                  for(let errorSub of Object.keys(error.errors) ){\n                    title += '\\n' + error.errors[errorSub];\n                  }\n              }\n          }\n          row.classList.add(className);\n      } else if(data[this.props.softDeleteField]) {\n          title = 'Discontinued';\n          row.classList.add('table-danger');\n      } else {\n        row.classList.remove('table-warning');\n        row.classList.remove('table-dark');\n        row.classList.remove('table-danger');\n      }\n\n      if(title)\n          jRow.tooltip({toggle: \"tooltip\", placement: \"bottom\", title });\n  }\n\n  render() {\n    return <div className=\"row\">\n      <div className=\"col-md-12\">\n        <div className=\"card data-tables\">\n        <div className=\"card-header text-center\">\n          <h3>{this.props.title}</h3>\n        </div>\n        <div className=\"card-body table-striped table-no-bordered table-hover dataTable dtr-inline table-full-width\">\n          <div className=\"toolbar col-12\">\n            <div className=\"row\">\n              {this.props.toolbar}\n            </div>\n          </div>\n          <div className=\"fresh-datatables\">\n          <table ref={this.tableEl} className=\"table table-striped table-no-bordered table-hover\" cellSpacing=\"0\" width=\"100%\" style={{width: '100%'}}>\n            <thead>\n              <tr>\n                {this.props.children}\n              </tr>\n            </thead>\n            <tfoot>\n              <tr>\n                {this.props.children}\n              </tr>\n            </tfoot>\n          </table>\n          </div>\n        </div>\n        </div>\n      </div>\n    </div>\n  }\n}\n","export default function getCookie(cname) {\n  var name = cname + \"=\";\n  var decodedCookie = decodeURIComponent(document.cookie);\n  var ca = decodedCookie.split(';');\n  for(var i = 0; i <ca.length; i++) {\n  var c = ca[i];\n  while (c.charAt(0) == ' ') {\n    c = c.substring(1);\n  }\n  if (c.indexOf(name) == 0) {\n    return c.substring(name.length, c.length);\n  }\n  }\n  return \"\";\n}","import Swal from 'sweetalert2';\n\nexport default function(action, config={} ) {\n\treturn Swal.fire({\n\t  title: 'Are you sure?',\n\t  text: config.consequence || \"You won't be able to revert this!\",\n\t  icon: 'warning',\n\t  showCancelButton: true,\n\t  confirmButtonColor: '#3085d6',\n\t  cancelButtonColor: '#d33',\n\t  confirmButtonText:  config.yes || 'Yes'\n\t}).then((result) => {\n\t  if (result.value) {\n\t  \tlet loadingModal = Swal.fire({\n\t      title: config.loading || 'Waiting...',\n\t      text: config.loading_text || 'waiting for operation to complete',\n\t      showConfirmButton: false,\n\t      onBeforeOpen: () => {\n\t   \t \t\tSwal.showLoading()\n\t   \t \t}\n\t    });\n\n\t    action().then(res=>{\n\t  \t\tloadingModal.closeModal();\n\t  \t\tSwal.fire(\n\t\t      res.success,\n\t\t      res.succes_text,\n\t\t      'success'\n\t\t    );\n\t\t\t}, error => {\n\t\t\t\tloadingModal.closeModal();\n\t\t\t\tSwal.fire({\n\t\t\t\t  icon: 'error',\n\t\t\t\t  title: 'Oops...',\n\t\t\t\t  text: error.error,\n\t\t\t\t  footer: error.footer || ''\n\t\t\t\t});\n\t\t\t});\n\t  }\n\t  else if (result.dismiss === Swal.DismissReason.cancel) {\n\t    Swal.fire(\n\t      'Cancelled',\n\t      config.canceled,\n\t      'error'\n\t    )\n\t  }\n\t});\n}","import React, {Component} from 'react';\n// import 'eonasdan-bootstrap-datetimepicker'\n// import 'eonasdan-bootstrap-datetimepicker/build/css/bootstrap-datetimepicker.min.css';\nimport 'bootstrap-datepicker'\nimport 'bootstrap-datepicker/dist/css/bootstrap-datepicker.min.css';\nimport jquery from 'jquery';\n\nexport default class DateInput extends Component {\n\tstate = {date: ''}\n\tdateInput = React.createRef()\n\thiddenInput = React.createRef()\n\tcomponentDidMount(){\n\t\tvar self = this;\n\t\tjquery(this.dateInput.current).datepicker({format: 'dd/mm/yyyy',zIndexOffset: 1040}).on('changeDate changeMonth changeYear',e=>self.handleChange(e))\n\t\tthis.dateInput.current.value = this.props.value ? this.props.value.split('-').reverse().join('/') : '';\n\t}\n\tcomponentDidUpdate(prevProp,prevState){\n\t\tif(prevProp.value !== this.props.value){\n\t\t\tlet val = this.props.value ? this.props.value.split('-').reverse().join('/') : '';\n\t\t\tthis.dateInput.current.value = val;\n\t\t\tif((new Date(this.props.value)).getDate())\n\t\t\t\tjquery(this.dateInput.current).datepicker('setDate',val);\n\t\t}\n\t}\n\thandleChange(e){\n\t\tlet val = e.target.value.split('/').reverse().join('-');\n\t\tvar nativeInputValueSetter = Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype, \"value\").set;\n\t\tnativeInputValueSetter.call(this.hiddenInput.current, val);\n\n\t\tvar ev2 = new Event('input', { bubbles: true});\n\t\tthis.hiddenInput.current.dispatchEvent(ev2);\n\t}\n\trender(){\n\t\tlet props = {...this.props};\n\t\tdelete props.value;\n\t\treturn <>\n\t\t\t<input onChange={this.handleChange.bind(this)} {...props} type='text' ref={this.dateInput} />\n\t\t\t<input onChange={this.props.onChange} name={this.props.name} style={{display: 'none'}} ref={this.hiddenInput} value={this.state.date} />\n\t\t</>\n\t}\n}","/*! CellEdit 1.0.19\n * 2016 Elliott Beaty - datatables.net/license\n */\n\n/**\n * @summary     CellEdit\n * @description Make a cell editable when clicked upon\n * @version     1.0.19\n * @file        dataTables.editCell.js\n * @author      Elliott Beaty\n * @contact     elliott@elliottbeaty.com\n * @copyright   Copyright 2016 Elliott Beaty\n *\n * This source file is free software, available under the following license:\n *   MIT license - http://datatables.net/license/mit\n *\n * This source file is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY\n * or FITNESS FOR A PARTICULAR PURPOSE. See the license files for details.\n *\n * For details please refer to: http://www.datatables.net\n */\n\njQuery.fn.dataTable.Api.register('MakeCellsEditable()', function (settings) {\n    var table = this.table();\n\n    jQuery.fn.extend({\n        // UPDATE\n        updateEditableCell: function (callingElement) {\n            // Need to redeclare table here for situations where we have more than one datatable on the page. See issue6 on github\n            var table = $(callingElement).closest(\"table\").DataTable().table();\n            var row = table.row($(callingElement).parents('tr'));\n            var cell = table.cell($(callingElement).parents('td, th'));\n            var columnIndex = cell.index().column;\n            var inputField =getInputField(callingElement);\n\n            // Update\n            var newValue = inputField.val();\n            if (!newValue && ((settings.allowNulls) && settings.allowNulls != true)) {\n                // If columns specified\n                if (settings.allowNulls.columns) {\n                    // If current column allows nulls\n                    if (settings.allowNulls.columns.indexOf(columnIndex) > -1) {\n                        _update(newValue);\n                    } else {\n                        _addValidationCss();\n                    }\n                    // No columns allow null\n                } else if (!newValue) {\n                    _addValidationCss();\n                }\n                //All columns allow null\n            } else if (newValue && settings.onValidate) {\n                if (settings.onValidate(cell, row, newValue)) {\n                    _update(newValue);\n                } else {\n                    _addValidationCss();\n                }\n            }\n            else {\n                _update(newValue);\n            }\n            function _addValidationCss() {\n                // Show validation error\n                if (settings.allowNulls.errorClass) {\n                    $(inputField).addClass(settings.allowNulls.errorClass);\n                } else {\n                    $(inputField).css({ \"border\": \"red solid 1px\" });\n                }\n            }\n            function _update(newValue) {\n                var oldValue = cell.data();\n                cell.data(newValue);\n                //Return cell & row.\n                settings.onUpdate(cell, row, oldValue);\n            }\n            // Get current page\n            var currentPageIndex = table.page.info().page;\n\n            //Redraw table\n            // table.page(currentPageIndex).draw(false);\n        },\n        // CANCEL\n        cancelEditableCell: function (callingElement) {\n            var table = $(callingElement.closest(\"table\")).DataTable().table();\n            var cell = table.cell($(callingElement).parents('td, th'));\n            // Set cell to it's original value\n            cell.data(cell.data());\n\n            // Redraw table\n            table.draw();\n        }\n\n\n    });\n\n    // Destroy\n    if (settings === \"destroy\") {\n        $(table.body()).off(\"click\", \"td\");\n        table = null;\n    }\n\n    if (table != null) {\n        // On cell click\n        $(table.body()).on('click', 'td', function () {\n\n            var currentColumnIndex = table.cell(this).index().column;\n\n            // DETERMINE WHAT COLUMNS CAN BE EDITED\n            if ((settings.columns && settings.columns.indexOf(currentColumnIndex) > -1) || (!settings.columns)) {\n                var row = table.row($(this).parents('tr'));\n                editableCellsRow = row;\n\n                var cell = table.cell(this).node();\n                var oldValue = table.cell(this).data();\n                // Sanitize value\n                oldValue = sanitizeCellValue(oldValue);\n\n                // Show input\n                if (!$(cell).find('input').length && !$(cell).find('select').length && !$(cell).find('textarea').length) {\n                    // Input CSS\n                    var input = getInputHtml(currentColumnIndex, settings, oldValue);\n                    $(cell).html(input.html);\n                    if (input.focus) {\n                        $('#ejbeatycelledit').focus();\n                    }\n                }\n            }\n        });\n    }\n\n});\n\nfunction getInputHtml(currentColumnIndex, settings, oldValue) {\n    var inputSetting, inputType, input, inputCss, confirmCss, cancelCss, startWrapperHtml = '', endWrapperHtml = '', listenToKeys = false;\n\n    input = {\"focus\":true,\"html\":null};\n\n    if(settings.inputTypes){\n\t\t$.each(settings.inputTypes, function (index, setting) {\n\t\t\tif (setting.column == currentColumnIndex) {\n\t\t\t\tinputSetting = setting;\n\t\t\t\tinputType = inputSetting.type.toLowerCase();\n\t\t\t}\n\t\t});\n\t}\n\n    if (settings.inputCss) { inputCss = settings.inputCss; }\n    if (settings.wrapperHtml) {\n        var elements = settings.wrapperHtml.split('{content}');\n        if (elements.length === 2) {\n            startWrapperHtml = elements[0];\n            endWrapperHtml = elements[1];\n        }\n    }\n    \n    if (settings.confirmationButton) {\n        if (settings.confirmationButton.listenToKeys) { listenToKeys = settings.confirmationButton.listenToKeys; }\n        confirmCss = settings.confirmationButton.confirmCss;\n        cancelCss = settings.confirmationButton.cancelCss;\n        inputType = inputType + \"-confirm\";\n    }\n    switch (inputType) {\n        case \"list\":\n            input.html = startWrapperHtml + \"<select class='\" + inputCss + \"' onchange='$(this).updateEditableCell(this);'>\";\n            $.each(inputSetting.options, function (index, option) {\n                if (oldValue == option.value) {\n                   input.html = input.html + \"<option value='\" + option.value + \"' selected>\" + option.display + \"</option>\"\n                } else {\n                   input.html = input.html + \"<option value='\" + option.value + \"' >\" + option.display + \"</option>\"\n                }\n            });\n            input.html = input.html + \"</select>\" + endWrapperHtml;\n            input.focus = false;\n            break;\n        case \"list-confirm\": // List w/ confirm\n            input.html = startWrapperHtml + \"<select class='\" + inputCss + \"'>\";\n            $.each(inputSetting.options, function (index, option) {\n                if (oldValue == option.value) {\n                   input.html = input.html + \"<option value='\" + option.value + \"' selected>\" + option.display + \"</option>\"\n                } else {\n                   input.html = input.html + \"<option value='\" + option.value + \"' >\" + option.display + \"</option>\"\n                }\n            });\n            input.html = input.html + \"</select>&nbsp;<a href='javascript:void(0);' class='\" + confirmCss + \"' onclick='$(this).updateEditableCell(this);'>Confirm</a> <a href='javascript:void(0);' class='\" + cancelCss + \"' onclick='$(this).cancelEditableCell(this)'>Cancel</a>\" + endWrapperHtml;\n            input.focus = false;\n            break;\n        case \"datepicker\": //Both datepicker options work best when confirming the values\n        case \"datepicker-confirm\":\n            // Makesure jQuery UI is loaded on the page\n            if (typeof jQuery.ui == 'undefined') {\n                alert(\"jQuery UI is required for the DatePicker control but it is not loaded on the page!\");\n                break;\n            }\n\t        jQuery(\".datepick\").datepicker(\"destroy\");\n\t        input.html = startWrapperHtml + \"<input id='ejbeatycelledit' type='text' name='date' class='datepick \" + inputCss + \"'   value='\" + oldValue + \"'></input> &nbsp;<a href='javascript:void(0);' class='\" + confirmCss + \"' onclick='$(this).updateEditableCell(this)'>Confirm</a> <a href='javascript:void(0);' class='\" + cancelCss + \"' onclick='$(this).cancelEditableCell(this)'>Cancel</a>\" + endWrapperHtml;\n\t        setTimeout(function () { //Set timeout to allow the script to write the input.html before triggering the datepicker\n\t            var icon = \"http://jqueryui.com/resources/demos/datepicker/images/calendar.gif\";\n                // Allow the user to provide icon\n\t            if (typeof inputSetting.options !== 'undefined' && typeof inputSetting.options.icon !== 'undefined') {\n\t                icon = inputSetting.options.icon;\n\t            }\n\t            var self = jQuery('.datepick').datepicker(\n                    {\n                        showOn: \"button\",\n                        buttonImage: icon,\n                        buttonImageOnly: true,\n                        buttonText: \"Select date\"\n                    });\n\t        },100);\n\t        break;\n        case \"text-confirm\": // text input w/ confirm\n            input.html = startWrapperHtml + \"<input id='ejbeatycelledit' class='\" + inputCss + \"' value='\"+oldValue+\"'\" + (listenToKeys ? \" onkeyup='if(event.keyCode==13) {$(this).updateEditableCell(this);} else if (event.keyCode===27) {$(this).cancelEditableCell(this);}'\" : \"\") + \"></input>&nbsp;<a href='javascript:void(0);' class='\" + confirmCss + \"' onclick='$(this).updateEditableCell(this)'>Confirm</a> <a href='javascript:void(0);' class='\" + cancelCss + \"' onclick='$(this).cancelEditableCell(this)'>Cancel</a>\" + endWrapperHtml;\n            break;\n        case \"undefined-confirm\": // text input w/ confirm\n            input.html = startWrapperHtml + \"<input id='ejbeatycelledit' class='\" + inputCss + \"' value='\" + oldValue + \"'\" + (listenToKeys ? \" onkeyup='if(event.keyCode==13) {$(this).updateEditableCell(this);} else if (event.keyCode===27) {$(this).cancelEditableCell(this);}'\" : \"\") + \"></input>&nbsp;<a href='javascript:void(0);' class='\" + confirmCss + \"' onclick='$(this).updateEditableCell(this)'>Confirm</a> <a href='javascript:void(0);' class='\" + cancelCss + \"' onclick='$(this).cancelEditableCell(this)'>Cancel</a>\" + endWrapperHtml;\n            break;\n        case \"textarea\":\n        case \"textarea-confirm\":\n            input.html = startWrapperHtml + \"<textarea id='ejbeatycelledit' class='\" + inputCss + \"'>\"+oldValue+\"</textarea><a href='javascript:void(0);' class='\" + confirmCss + \"' onclick='$(this).updateEditableCell(this)'>Confirm</a> <a href='javascript:void(0);' class='\" + cancelCss + \"' onclick='$(this).cancelEditableCell(this)'>Cancel</a>\" + endWrapperHtml;\n            break;\n\tcase \"number-confirm\" :\n\t    input.html = startWrapperHtml + \"<input id='ejbeatycelledit' type='number' class='\" + inputCss + \"' value='\"+oldValue+\"'\" + (listenToKeys ? \" onkeyup='if(event.keyCode==13) {$(this).updateEditableCell(this);} else if (event.keyCode===27) {$(this).cancelEditableCell(this);}'\" : \"\") + \"></input>&nbsp;<a href='javascript:void(0);' class='\" + confirmCss + \"' onclick='$(this).updateEditableCell(this)'>Confirm</a> <a href='javascript:void(0);' class='\" + cancelCss + \"' onclick='$(this).cancelEditableCell(this)'>Cancel</a>\" + endWrapperHtml;\n\t    break;\n        default: // text input\n            input.html = startWrapperHtml + \"<input id='ejbeatycelledit' class='\" + inputCss + \"' onfocusout='$(this).updateEditableCell(this)' value='\" + oldValue + \"' onkeyup='if(event.keyCode==13) {event.target.blur()}' ></input>\" + endWrapperHtml;\n            break;\n    }\n    return input;\n}\n\nfunction getInputField(callingElement) {\n    // Update datatables cell value\n    var inputField;\n    switch ($(callingElement).prop('nodeName').toLowerCase()) {\n        case 'a': // This means they're using confirmation buttons\n            if ($(callingElement).siblings('input').length > 0) {\n                inputField = $(callingElement).siblings('input');\n            }\n            if ($(callingElement).siblings('select').length > 0) {\n                inputField = $(callingElement).siblings('select');\n            }\n            if ($(callingElement).siblings('textarea').length > 0) {\n                inputField = $(callingElement).siblings('textarea');\n            }\n        break;\n        default:\n            inputField = $(callingElement);\n    }\n    return inputField;\n}\n\nfunction sanitizeCellValue(cellValue) {\n    if (typeof (cellValue) === 'undefined' || cellValue === null || cellValue.length < 1) {\n        return \"\";\n    }\n\n    // If not a number\n    if (isNaN(cellValue)) {\n        // escape single quote\n        cellValue = cellValue.replace(/'/g, \"&#39;\");\n    }\n    return cellValue;\n}\n","export default class Countdown {\r\n\r\n    get TIMESTAMP_SECOND() { return 1000; }\r\n    get TIMESTAMP_MINUTE() { return 60 * this.TIMESTAMP_SECOND; }\r\n    get TIMESTAMP_HOUR() { return 60 * this.TIMESTAMP_MINUTE; }\r\n    get TIMESTAMP_DAY() { return 24 * this.TIMESTAMP_HOUR; }\r\n    get TIMESTAMP_WEEK() { return 7 * this.TIMESTAMP_DAY; }\r\n    get TIMESTAMP_YEAR() { return 365 * this.TIMESTAMP_DAY; }\r\n\r\n    /**\r\n     * @param {{}} userOptions structure like this.options below\r\n     */\r\n    constructor(userOptions) {\r\n        this.options = {\r\n            cont: null,\r\n            countdown: true,\r\n            date: {\r\n                year: 0,\r\n                month: 0,\r\n                day: 0,\r\n                hour: 0,\r\n                minute: 0,\r\n                second: 0,\r\n            },\r\n            endCallback: null,\r\n            outputFormat: 'year|week|day|hour|minute|second',\r\n            outputTranslation: {\r\n                year: 'Years',\r\n                week: 'Weeks',\r\n                day: 'Days',\r\n                hour: 'Hours',\r\n                minute: 'Minutes',\r\n                second: 'Seconds',\r\n            }\r\n        };\r\n\r\n        this.lastTick = null;\r\n        this.intervalsBySize = [\r\n            'year', 'week', 'day', 'hour', 'minute', 'second',\r\n        ];\r\n        this.elementClassPrefix = 'countDown_';\r\n        this.interval = null;\r\n        this.digitConts = {};\r\n\r\n        this._assignOptions(this.options, userOptions);\r\n    }\r\n\r\n    start() {\r\n        let date,\r\n            dateData;\r\n\r\n        this._fixCompatibility();\r\n\r\n        date = this._getDate(this.options.date);\r\n\r\n        dateData = this._prepareTimeByOutputFormat(date);\r\n\r\n        this._writeData(dateData);\r\n\r\n        this.lastTick = dateData;\r\n\r\n        if (this.options.countdown && date.getTime() <= Date.now()) {\r\n            if (typeof this.options.endCallback === 'function') {\r\n                this.stop();\r\n                this.options.endCallback();\r\n            }\r\n        } else {\r\n            this.interval = setInterval(\r\n                () => {\r\n                    this._updateView(\r\n                        this._prepareTimeByOutputFormat(date)\r\n                    );\r\n                },\r\n                this.TIMESTAMP_SECOND\r\n            );\r\n        }\r\n    }\r\n\r\n    stop() {\r\n        if (this.interval !== null) {\r\n            clearInterval(this.interval);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {Date|Object|String|Number} date\r\n     * \r\n     * @returns {Date}\r\n     * @private\r\n     */\r\n    _getDate(date) {\r\n        if (typeof date === 'object') {\r\n            if (date instanceof Date) {\r\n                return date;\r\n            } else {\r\n                let expectedValues = {\r\n                    day: 0,\r\n                    month: 0,\r\n                    year: 0,\r\n                    hour: 0,\r\n                    minute: 0,\r\n                    second: 0,\r\n                };\r\n\r\n                for (let i in expectedValues) {\r\n                    if (expectedValues.hasOwnProperty(i) && date.hasOwnProperty(i)) {\r\n                        expectedValues[i] = date[i];\r\n                    }\r\n                }\r\n\r\n                return new Date(\r\n                    expectedValues.year,\r\n                    expectedValues.month > 0 ? expectedValues.month - 1 : expectedValues.month,\r\n                    expectedValues.day,\r\n                    expectedValues.hour,\r\n                    expectedValues.minute,\r\n                    expectedValues.second\r\n                );\r\n            }\r\n        } else if (typeof date === 'number' || typeof date === 'string') {\r\n            return new Date(date);\r\n        } else {\r\n            return new Date();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {Date} dateObj\r\n     * \r\n     * @return {{}}\r\n     * @private\r\n     */\r\n    _prepareTimeByOutputFormat(dateObj) {\r\n        let usedIntervals, output = {}, timeDiff;\r\n\r\n        usedIntervals = this.intervalsBySize.filter(item => {\r\n            return this.options.outputFormat.split('|').indexOf(item) !== -1;\r\n        });\r\n\r\n        timeDiff = this.options.countdown ? dateObj.getTime() - Date.now() : Date.now() - dateObj.getTime();\r\n\r\n        usedIntervals.forEach(item => {\r\n            let value;\r\n            if (timeDiff > 0) {\r\n                switch (item) {\r\n                    case 'year':\r\n                        value = Math.trunc(timeDiff / this.TIMESTAMP_YEAR);\r\n                        timeDiff -= value * this.TIMESTAMP_YEAR;\r\n                        break;\r\n                    case 'week':\r\n                        value = Math.trunc(timeDiff / this.TIMESTAMP_WEEK);\r\n                        timeDiff -= value * this.TIMESTAMP_WEEK;\r\n                        break;\r\n                    case 'day':\r\n                        value = Math.trunc(timeDiff / this.TIMESTAMP_DAY);\r\n                        timeDiff -= value * this.TIMESTAMP_DAY;\r\n                        break;\r\n                    case 'hour':\r\n                        value = Math.trunc(timeDiff / this.TIMESTAMP_HOUR);\r\n                        timeDiff -= value * this.TIMESTAMP_HOUR;\r\n                        break;\r\n                    case 'minute':\r\n                        value = Math.trunc(timeDiff / this.TIMESTAMP_MINUTE);\r\n                        timeDiff -= value * this.TIMESTAMP_MINUTE;\r\n                        break;\r\n                    case 'second':\r\n                        value = Math.trunc(timeDiff / this.TIMESTAMP_SECOND);\r\n                        timeDiff -= value * this.TIMESTAMP_SECOND;\r\n                        break;\r\n                }\r\n            } else {\r\n                value = '00';\r\n            }\r\n            output[item] = (('' + value).length < 2 ? '0' + value : '' + value).split('');\r\n        });\r\n\r\n        return output;\r\n    }\r\n\r\n    _fixCompatibility() {\r\n        Math.trunc = Math.trunc || function (x) {\r\n            if (isNaN(x)) {\r\n                return NaN;\r\n            }\r\n            if (x > 0) {\r\n                return Math.floor(x);\r\n            }\r\n            return Math.ceil(x);\r\n        };\r\n    }\r\n\r\n    /**\r\n     * @param {{}} data\r\n     * @private \r\n     */\r\n    _writeData(data) {\r\n        let code = `<div class=\"${this.elementClassPrefix}cont\">`,\r\n            intervalName;\r\n\r\n        for (intervalName in data) {\r\n            if (data.hasOwnProperty(intervalName)) {\r\n                let element = `<div class=\"${this.elementClassPrefix}_interval_basic_cont\">\r\n                                       <div class=\"${this._getIntervalContCommonClassName()} ${this._getIntervalContClassName(intervalName)}\">`,\r\n                    intervalDescription = `<div class=\"${this.elementClassPrefix}interval_basic_cont_description\">\r\n                                                   ${this.options.outputTranslation[intervalName]}\r\n                                               </div>`;\r\n                data[intervalName].forEach((digit, index) => {\r\n                    element += `<div class=\"${this._getDigitContCommonClassName()} ${this._getDigitContClassName(index)}\">\r\n                                        ${this._getDigitElementString(digit, 0)}\r\n                                    </div>`;\r\n                });\r\n\r\n                code += element + '</div>' + intervalDescription + '</div>';\r\n            }\r\n        }\r\n\r\n        this.options.cont.innerHTML = code + '</div>';\r\n        this.lastTick = data;\r\n    }\r\n\r\n    /**\r\n     * @param {Number} newDigit \r\n     * @param {Number} lastDigit\r\n     * \r\n     * @returns {String}\r\n     * @private \r\n     */\r\n    _getDigitElementString(newDigit, lastDigit) {\r\n        return `<div class=\"${this.elementClassPrefix}digit_last_placeholder\">\r\n                        <div class=\"${this.elementClassPrefix}digit_last_placeholder_inner\">\r\n                            ${lastDigit}\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"${this.elementClassPrefix}digit_new_placeholder\">${newDigit}</div>\r\n                    <div class=\"${this.elementClassPrefix}digit_last_rotate\">${lastDigit}</div>\r\n                    <div class=\"${this.elementClassPrefix}digit_new_rotate\">\r\n                        <div class=\"${this.elementClassPrefix}digit_new_rotated\">\r\n                            <div class=\"${this.elementClassPrefix}digit_new_rotated_inner\">\r\n                                ${newDigit}\r\n                            </div>\r\n                        </div>\r\n                    </div>`;\r\n    }\r\n\r\n    /**\r\n     * @param {{}} data\r\n     * @private \r\n     */\r\n    _updateView(data) {\r\n        for (let intervalName in data) {\r\n            if (data.hasOwnProperty(intervalName)) {\r\n                data[intervalName].forEach((digit, index) => {\r\n                    if (this.lastTick !== null && this.lastTick[intervalName][index] !== data[intervalName][index]) {\r\n                        this._getDigitCont(intervalName, index).innerHTML =\r\n                            this._getDigitElementString(data[intervalName][index], this.lastTick[intervalName][index]);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\n        this.lastTick = data;\r\n    }\r\n\r\n    /**\r\n     * @param {String} intervalName \r\n     * @param {String} index\r\n     * \r\n     * @returns {HTMLElement}\r\n     * @private\r\n     */\r\n    _getDigitCont(intervalName, index) {\r\n        if (!this.digitConts[`${intervalName}_${index}`]) {\r\n            this.digitConts[`${intervalName}_${index}`] =\r\n                this.options.cont.querySelector(\r\n                    `.${this._getIntervalContClassName(intervalName)} .${this._getDigitContClassName(index)}`\r\n                );\r\n        }\r\n\r\n        return this.digitConts[`${intervalName}_${index}`];\r\n    }\r\n\r\n    /**\r\n     * @param {String} intervalName\r\n     * \r\n     * @returns {String}\r\n     * @private\r\n     */\r\n    _getIntervalContClassName(intervalName) {\r\n        return `${this.elementClassPrefix}interval_cont_${intervalName}`;\r\n    }\r\n\r\n    /**\r\n     * @returns {String}\r\n     * @private\r\n     */\r\n    _getIntervalContCommonClassName() {\r\n        return `${this.elementClassPrefix}interval_cont`;\r\n    }\r\n\r\n    /**\r\n     * @param {String} index\r\n     * \r\n     * @returns {String}\r\n     * @private\r\n     */\r\n    _getDigitContClassName(index) {\r\n        return `${this.elementClassPrefix}digit_cont_${index}`;\r\n    }\r\n\r\n    /**\r\n     * @returns {String}\r\n     * @private\r\n     */\r\n    _getDigitContCommonClassName() {\r\n        return `${this.elementClassPrefix}digit_cont`;\r\n    }\r\n\r\n    /**\r\n     * @param {{}} options\r\n     * @param {{}} userOptions\r\n     */\r\n    _assignOptions(options, userOptions) {\r\n        for (let i in options) {\r\n            if (options.hasOwnProperty(i) && userOptions.hasOwnProperty(i)) {\r\n                if (options[i] !== null && typeof options[i] === 'object' && typeof userOptions[i] === 'object') {\r\n                    this._assignOptions(options[i], userOptions[i]);\r\n                } else {\r\n                    options[i] = userOptions[i];\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n","import React, {Component} from 'react';\nimport Countdown from './countDown';\n\nimport './style.css';\n\nexport default class _CountDown extends Component {\n\tel = React.createRef();\n\tcd = null;\n\n\tcomponentDidMount() {\n\t\tthis.init();\n\t}\n\n\tcomponentDidUpdate(prevProps,prevState) {\n\t\tif(prevProps.start != this.props.start) {\n\t\t\tthis.cd.stop();\n\t\t\tthis.init();\n\t\t}\n\t}\n\n\tinit() {\n\t\tlet date = (new Date(this.props.start)).getTime();\n\n\t\t//if end props is passed, set date to the duration between start and end\n\t\tif(this.props.end){\n\t\t\tlet end = (new Date(this.props.end)).getTime();\n\t\t\tdate = Date.now() - (end - date);\n\t\t}\n\t\tthis.cd = new Countdown({\n\t      cont: this.el.current,\n\t      countdown: false,\n\t      date: date ,\n\t      outputTranslation: {\n\t          year: 'Years',\n\t          week: 'Weeks',\n\t          day: 'Days',\n\t          hour: 'Hours',\n\t          minute: 'Minutes',\n\t          second: 'Seconds',\n\t      },\n\t      endCallback: null,\n\t      outputFormat: 'week|day|hour|minute|second',\n\t  });\n\t  this.cd.start();\n\n\t  //if end props is passed stop the count up\n\t  if(this.props.end){\n\t  \tthis.cd.stop();\n\t  }\n\t}\n\n\trender() {\n\t\treturn <div ref={this.el} />;\n\t}\n}\n","import React, { Component } from 'react';\nimport lodash from 'lodash';\nimport $ from 'jquery';\n\nimport ShowNotification from './ShowNotification';\nimport confirmAction from '../utils/confirmAction';\n\nexport default class PeriodForm extends Component {\n\tdefaults = {\n\t\tname: ''\n\t};\n\n\tstate = { error: {}, loading: false, data: {...this.defaults}};\n\n\tcomponentDidUpdate(prevProps,prevState) {\n\t\tif(this.props.edit){\n\t\t\tif(!lodash.isEqual(this.props.data, prevProps.data)){\n\t\t\t\tthis.setState({data: {...this.state.data,...this.props.data}})\n\t\t\t}\n\t\t}\n\t\tif(!lodash.isEqual(this.props.error,prevProps.error)){\n\t\t\tthis.setState({error: {...this.state.error,...this.props.error}})\n\t\t}\n\t}\n\n\tinputChanged = (field,event) => {\n\t\tlet val = event.target.value;\n\t\tthis.setState( (state) => state.data[field] = val);\n\t}\n\n\tsaveContinue = () => {\n\t\tthis.submit().then(()=>{\n\t\t\tthis.setState({data: {...this.defaults},error: {}});\n\t\t})\n\t}\n\n\tsave = () => {\n\t\tthis.submit().then(()=>this.props.close());\n\t}\n\n\tapply = () => {\n\t\tthis.submit().then(()=>{\n\t\t\tthis.setState({error: {}});\n\t\t})\n\t}\n\n\tsubmit = () => {\n\t\tlet data = this.state.data;\n\t\tthis.setState({loading: true});\n\t\treturn this.props.submit(data).then( res => {\n\t\t\tif(this.props.edit) {\n\t\t\t\tShowNotification(\"Period Successfully Edited\", \"success\", \"nc-check-2\");\n\t\t\t}else {\n\t\t\t\tShowNotification(\"Period Created Successfully\", \"success\", \"nc-check-2\");\n\t\t\t}\n\t\t}, error => {\n\t\t\tthis.setState({error: error.response.data});\n\t\t\treturn Promise.reject(error.response.data);\n\t\t}).finally(_=>this.setState({loading:false}));\n\t}\n\n\tdelete = () => {\n\t\tconfirmAction( () => {\n\t\t\treturn axios.delete(`/api/periods/${this.props.data.id}`).then(res=>{\n\t\t\t\tthis.props.close();\n\t\t\t\treturn {success: 'Deleted!', succes_text: 'Period was deleted'};\n\t\t\t}, error => {\n\t\t\t\tthrow {error: \"Period couldn't be deleted.\"};\n\t\t\t})\n\t\t}, {loading_title: 'Deleting...', loading_text: 'Deleting Period', canceled: \"Deleting Period Operation Cancelled\", consequence: 'Period information will be lost'});\n\t}\n\n\tswitchTo = () => {\n\t\tconfirmAction( () => {\n\t\t\treturn axios.post('/api/setup/periods/current', {id: this.props.data.id}).then(res=>{\n\t\t\t\tthis.props.close();\n\t\t\t\treturn {success: 'Switched!', succes_text: 'Period was switched'};\n\t\t\t}, error => {\n\t\t\t\tthrow {error: \"Period couldn't be switched to.\"};\n\t\t\t})\n\t\t}, {loading_title: 'Switching...', loading_text: 'Switching Period', canceled: \"Switching Period Operation Cancelled\", consequence: 'Period will be activated and will be editable'});\n\t}\n\n\trender() {\n\t\tlet error = this.state.error || {};\n\t\tlet nameInvalid = error.errors && error.errors.name ? 'is-invalid' : '';\n\n\t\treturn <div className=\"container-fluid\" ref={this.elRef} >\n\t\t  <div className=\"row\">\n\t\t    <div className=\"col-md-12\">\n\t\t      <div className=\"card stacked-form\">\n\t\t\t\t\t  <div className=\"card-header \">\n\t\t\t\t\t    <h4 className=\"card-title\">\n\t\t\t\t\t    \tPeriod Details\n\t\t\t\t\t    \t{ this.props.edit && <div className=\"pull-right\">\n\t\t\t\t\t    \t\t\t<button type=\"button\" disabled={this.state.loading} className=\"btn btn-warning\" onClick={this.switchTo} >Switch To</button>\n\t\t\t\t\t    \t\t</div>\n\t\t\t\t\t    \t}\n\t\t\t\t\t    </h4>\n\t\t\t\t\t  </div>\n\t\t\t\t\t  <div className=\"card-body \">\n\t\t\t\t\t    <form method=\"#\" action=\"#\">\n\t\t\t\t\t    \t{error.message && <div className=\"alert alert-danger\">\n                    <span>\n                        <b> Error - </b> {error.message}\n                    </span>\n                </div>}\n\t\t\t\t\t      <div className=\"form-group\">\n\t\t\t\t\t        <label>Period Name</label>\n\t\t\t\t\t        <input value={this.state.data.name} onChange={this.inputChanged.bind(this,'name')} type=\"text\" placeholder=\"Period Name\" className={`form-control ${nameInvalid}`} />\n\t\t\t\t\t        {nameInvalid && error.errors.name.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t      </div>\n\n\t\t\t\t\t    </form>\n\t\t\t\t\t  </div>\n\t\t\t\t\t  <div className=\"card-footer \">\n\t\t\t\t\t  \t<div className=\"row\">\n\t\t\t\t\t  \t\t<div className=\"col-sm-2\">\n\t\t\t            <input onClick={this.save} type=\"button\" value=\"SAVE\" disabled={this.state.loading} className=\"btn btn-success\" />\n\t\t\t          </div>\n\t\t\t          <div className=\"col-sm-2\">\n\t\t\t            <input onClick={this.props.close} type=\"button\" value=\"CLOSE\" disabled={this.state.loading} className=\"btn btn-warning\" />\n\t\t\t          </div>\n\t\t\t\t\t    </div>\n\t\t\t\t\t  </div>\n\n\t\t\t\t\t</div>\n\t\t    </div>\n\t\t  </div>\n\t\t</div>\n\n\t}\n}\n","import React, {Component} from 'react';\nimport {Link} from 'react-router-dom';\nimport axios from 'axios';\n\nimport CountDown from '../components/CountDown';\nimport PeriodForm from '../components/PeriodForm';\nimport ShowNotification from '../components/ShowNotification';\nimport DataTable from '../components/DataTable';\n\nimport getCookie from '../utils/getCookie';\n\nexport default class Period extends Component {\n\tstate = {period: {} }\n  dataTable = React.createRef();\n\n  constructor(props) {\n    super(props);\n    var self = this;\n    window.periodListActionEdit = this.editPeriod;\n\n    this.dataTableConfig = {\n      order: [[0, 'desc']],\n      serverSide: true,\n      processing: true,\n      ajax: function(params, callback, settings) {\n        axios.get('/api/setup/periods', {params: {params}}).then(response=>{\n          callback(response.data);\n        })\n      },\n      columns: [\n        { data: 'name', name: 'name', 'class': 'text-center'},\n        { data: 'created_at', name: 'started', 'class': 'text-center', render: (data,type,row) => (new Date(data)).toDateString() },\n        { data: 'end', name: 'ended', 'class': 'text-center', render: (data, type, row) => data ? (new Date(data)).toDateString() : 'Still running'},\n        { data: null, 'class': 'text-center', render: function(data,type,row) {\n          return `<span>\n            <a onclick=\"periodListActionEdit('${data.id}')\" class=\"btn btn-link btn-warning details\"><i class=\"fa fa-edit\"></i></a>\n          </span>`\n        }}\n      ],\n      rowCallback: function( row, data ) {\n        let jRow = $(row);\n        jRow.tooltip('dispose');\n        if(self.state.period && self.state.period.id == data.id) {\n          jRow.tooltip({toggle: \"tooltip\", placement: \"bottom\", title: 'Active' });\n          row.classList.add('table-success');\n        } else {\n          row.classList.remove('table-success');\n        }\n      }\n    };\n  }\n\n\tcomponentDidMount() {\n    axios.get('/api/setup/periods/current').then(res=>{\n      this.setState({period: res.data});\n      this.dataTable.current.table.draw();\n    });\n  }\n\n  componentWillUnmount() {\n    $('tr[title]').tooltip('dispose');\n  }\n\n  editPeriod = (period) => {\n  \tthis.props.history.push(`${this.props.match.url}/${period}`);\n  }\n\n  closePeriod = () => {\n  \taxios.post('/api/setup/periods/close', {id: this.state.period.id}).then(res => {\n  \t\tthis.setState({ period: '' });\n  \t})\n  }\n\n\trender() {\n\t\tlet period = this.state.period;\n\t\tlet periodName = period.name;\n\t\tlet periodStart = (new Date(period.created_at)).toDateString();\n\t\tlet periodEnd = period.end ? (new Date(period.end)).toDateString() : 'Still running';\n\t\treturn <div className=\"container-fluid\">\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t<div className=\"card h-100\">\n\t\t\t      <div className=\"card-body\">\n\t\t\t      \t<div className=\"row\">\n\t\t\t\t      \t<div className=\"col-4\">\n\t\t\t\t\t\t\t\t\t<div style={{height: '100px', width: '100px', backgroundColor: 'green', borderRadius: '50%'}}></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"col-8\">\n\t\t\t\t\t        <h5 className=\"card-title font-weight-light\">Current Period</h5>\n\t\t\t\t\t        {period && <div>\n\t\t\t\t\t\t        <p className=\"card-text font-weight-bold\" style={{fontSize: '2rem'}}>{periodName}</p>\n\t\t\t\t\t\t        <p className=\"card-text\"><span className=\"font-weight-light font-italic\">Started:</span> <span className=\"badge badge-info\">{periodStart}</span></p>\n\t\t\t\t\t\t        <p className=\"card-text\"><span className=\"font-weight-light font-italic\">Ended:</span> <span className=\"badge badge-dark\">{periodEnd}</span></p>\n\t\t\t\t\t      \t</div>}\n\t\t\t\t\t      \t<div>\n\t\t\t\t\t      \t{!period && <div>\n\t\t\t\t\t      \t\t\t<p className=\"card-text font-weight-bold\" style={{fontSize: '2rem'}}>No Active Period</p>\n\t\t\t\t\t      \t\t</div>\n\t\t\t\t\t      \t}\n\t\t\t\t\t      \t</div>\n\t\t\t\t\t      </div>\n\t\t\t\t\t    </div>\n\t\t\t      </div>\n\t\t\t    </div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t{!period.end && <h3>Runtime</h3>}\n\t\t\t\t\t{period.end && <h3>Lasted for</h3>}\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<CountDown start={period.created_at} end={period.end} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{period && !period.end && <button onClick={this.closePeriod} className=\"btn btn-danger\">Close Period</button>}\n            {(!period || period.end) && <Link to={`${this.props.match.url}/new`} className=\"btn btn-success\">Start New Period</Link>}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<br />\n\t\t\t<br />\n\n      <DataTable ref={this.dataTable} title=\"Periods\" config={this.dataTableConfig} >\n        <th>Name</th>\n        <th>Started</th>\n        <th>Ended</th>\n        <th className=\"disabled-sorting noExport\">Action</th>\n      </DataTable>\n\n\t\t</div>\n\t}\n}\n\nexport class NewPeriod extends Component {\n  state = { error: {} };\n  submit = (data) => {\n    return axios.post('/api/setup/periods', data).then( res => {\n      this.setState({error: {}})\n      return res;\n    }, error => {\n      this.setState({error: error.response.data});\n      return Promise.reject(error);\n    })\n  }\n\n  close = () => {\n    this.props.history.push('/school/setup/periods');\n  }\n  render() {\n    return <PeriodForm error={this.state.error} submit={this.submit} close={this.close} />\n  }\n}\n\nexport class EditPeriod extends Component {\n  state = { error: {}, data: {} };\n\n  componentDidMount() {\n  if(this.props.location.state && this.props.location.state.student){\n    this.setState({data: this.props.location.state.student})\n  }else if(this.props.match.params.id){\n    axios.get(`/api/setup/periods/${this.props.match.params.id}`).then(response => {\n      this.setState({data: response.data});\n    },error=>this.setState({error:error.response.data}))\n  }\n  \n  }\n\n  submit = (data) => {\n    return axios.put(`/api/setup/periods/${this.props.match.params.id}`, data).then( res => {\n      this.setState({error: {}})\n      return res;\n    }, error => {\n      this.setState({error: error.response.data});\n      return Promise.reject(error);\n    })\n  }\n\n  close = () => {\n    this.props.history.push('/school/setup/periods');\n  }\n\n  render() {\n    return <PeriodForm edit={true} error={this.state.error} data={this.state.data} submit={this.submit} close={this.close} />\n  }\n}\n","import React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\n\nimport DataTable from '../components/DataTable';\nimport getCookie from '../utils/getCookie';\n\nclass StreamList extends Component {\n    constructor(props) {\n        super(props);\n        window.streamListActionEdit = this.edit;\n        this.dataTable = React.createRef();\n        this.dataTableConfig = {\n            data: this.props.streams,\n            columns: [\n                { data: 'name', name: 'name', 'class': 'text-center'},\n                { data: 'shorthand', name: 'shorthand', 'class': 'text-center'},\n                { data: null, 'class': 'text-center', render: function(data,type,row) {\n                    return `<span>\n                      <a onclick=\"streamListActionEdit('${data.id}')\" class=\"btn btn-link btn-warning details\"><i class=\"fa fa-edit\"></i></a>\n                    </span>`\n                }}\n            ],\n            createdRow: function (row, data, index) {\n                if(data.close) {\n                    row.classList.add('table-danger');\n                }\n            }\n        };\n    }\n\n    edit = (stream) => {\n        this.props.history.push(`${this.props.match.url}/streams/${stream}`);\n    }\n\n\trender() {\n\t\tlet match = this.props.match;\n\t\treturn <div>\n    \t    <div className=\"row\">\n        \t    <div className=\"col-md-12\">\n        \t      <span className=\"pull-right\">\n        \t        <Link to={`${match.url}/streams/new`} className=\"btn btn-success details\">Add Stream</Link>\n        \t      </span>\n        \t    </div>\n    \t    </div>\n            <DataTable ref={this.dataTable} title=\"Streams\" config={this.dataTableConfig}>\n                <th>Name</th>\n                <th>Shorthand</th>\n                <th className=\"disabled-sorting text-center noExport\">Actions</th>\n            </DataTable>\n\t\t</div>\n\n\t}\n}\n\nexport default withRouter(StreamList);\n","import React, { Component } from 'react';\nimport lodash from 'lodash';\n\nimport ShowNotification from './ShowNotification';\nimport DateInput from './DateInput';\nimport StreamList from './StreamList';\nimport confirmAction from '../utils/confirmAction';\n\nexport default class ExamForm extends Component {\n\tdefaults = {\n\t\tname: ''\n\t};\n\n\tstate = { error: {}, loading: false, data: {...this.defaults}, levels: [], levelChain: [], subLevelChains: {}};\n\n\tcomponentDidMount() {\n\t\taxios.get('/api/setup/levels').then(res=>{\n\t\t\tthis.setState({levels: res.data});\n\t\t})\n\t}\n\n\tcomponentDidUpdate(prevProps,prevState) {\n\t\tif(this.props.edit){\n\t\t\tif(!lodash.isEqual(this.props.data, prevProps.data)){\n\t\t\t\tthis.setState({data: {...this.state.data,...this.props.data}})\n\t\t\t}\n\t\t}\n\t\tif(!lodash.isEqual(this.props.error,prevProps.error)){\n\t\t\tthis.setState({error: {...this.state.error,...this.props.error}})\n\t\t}\n\n\t\t//check for changes in level\n\t\tif(this.props.data && this.props.data['level_id'] != prevProps.data['level_id']) {\n\t\t\tlet level = this.state.levels.find( l => l.id == this.props.data['level_id']);\n\t\t\tthis.setLevel(level);\n\t\t}\n\t}\n\n\tinputChanged = (field,event) => {\n\t\tlet val = event.target.value;\n\t\tthis.setState( (state) => state.data[field] = val);\n\t}\n\n\tsaveContinue = () => {\n\t\tthis.submit().then(()=>{\n\t\t\tthis.setState({data: {...this.defaults},error: {}});\n\t\t})\n\t}\n\n\tsave = () => {\n\t\tthis.submit().then(()=>this.props.close());\n\t}\n\n\tapply = () => {\n\t\tthis.submit().then(()=>{\n\t\t\tthis.setState({error: {}});\n\t\t})\n\t}\n\n\tsubmit = () => {\n\t\tlet data = this.state.data;\n\t\tthis.setState({loading: true});\n\t\treturn this.props.submit(data).then( res => {\n\t\t\tif(this.props.edit) {\n\t\t\t\tShowNotification(\"Class Successfully Edited\", \"success\", \"nc-check-2\");\n\t\t\t}else {\n\t\t\t\tShowNotification(\"Class Created Successfully\", \"success\", \"nc-check-2\");\n\t\t\t}\n\t\t}, error => {\n\t\t\tthis.setState({error});\n\t\t\tif(error && typeof(error) == typeof('')){\n\t\t\t\tShowNotification(error.response.data.error, \"danger\", \"nc-simple-remove\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\treturn Promise.reject(error);\n\t\t}).finally(_=>this.setState({loading:false}));\n\t}\n\n\tsetLevel = (level) => {\n\t\tlet levelChain = [];\n\t\tlet subLevelChains = {};\n\t\tif(level) {\n\t\t\tlevelChain = [level];\n\t\t\tlet iLevel = level;\n\t\t\tdo{\n\t\t\t\tiLevel = this.state.levels.find( l => l.id == iLevel.level_id);\n\t\t\t\tif(iLevel){\n\t\t\t\t\tlevelChain.push(iLevel);\n\t\t\t\t}\n\t\t\t}while(iLevel && iLevel.level_id);\n\t\t}\n\t\tlevelChain.reverse();\n\t\tfor(var i in levelChain) {\n\t\t\tsubLevelChains[levelChain[i].id] =  this.state.levels.filter( l => l.level_id == levelChain[i].id);\n\t\t}\n\n\t\tthis.setState( (state) => {\n\t\t\tstate.levelChain = levelChain;\n\t\t\tstate.subLevelChains = subLevelChains;\n\t\t\tstate.data['level_id'] = level.id;\n\t\t\treturn state;\n\t\t});\n\t}\n\n\tdelete = () => {\n\t\tconfirmAction( () => {\n\t\t\treturn this.props.delete().then(res=>{\n\t\t\t\tthis.props.close();\n\t\t\t\treturn {success: 'Deleted!', succes_text: 'Class was deleted'};\n\t\t\t}, error => {\n\t\t\t\tthrow {error: \"Class couldn't be deleted.\"};\n\t\t\t})\n\t\t}, {loading_title: 'Deleting...', loading_text: 'Deleting Class', canceled: \"Deleting Class Operation Cancelled\", consequence: 'Class information will be lost'});\n\t}\n\n\tclose = () => {\n\t\tconfirmAction( () => {\n\t\t\treturn axios.post(`/api/setup/classes/close/${this.props.data.id}`).then(res=>{\n\t\t\t\tthis.props.close();\n\t\t\t\treturn {success: 'Closed!', succes_text: 'Class was closed'};\n\t\t\t}, error => {\n\t\t\t\tthrow {error: \"Class couldn't be closed\"};\n\t\t\t})\n\t\t}, {loading_title: 'Closing...', loading_text: 'Closing Class', canceled: \"Closing Class Operation Cancelled\", consequence: 'Class information will be archieved'});\n\t}\n\n\trestore = () => {\n\t\tconfirmAction( () => {\n      return axios.post(`/api/setup/classes/restore/${this.props.data.id}`).then(res=>{\n        this.props.close();\n        return {success: 'Restored!', succes_text: 'Class was restored'};\n      }, error => {\n        throw {error: 'Class could not be restored.'};\n      })\n    }, {loading_title: 'Restoring...', loading_text: 'Restoring Class', canceled: \"Restoring Class Operation Cancelled\", consequence: 'Class information will be made accessible again'});\n\t}\n\n\trender() {\n\t\tlet { classes, subjects } = this.state;\n\n\t\tlet error = this.state.error || {};\n\t\tlet nameInvalid='', startInvalid='';\n\t\tif(error.errors) {\n\t\t\tnameInvalid = error.errors.name ? 'is-invalid' : '';\n\t\t\tstartInvalid = error.errors.start ? 'is-invalid' : '';\n\t\t}\n\n\t\tlet levels = this.state.levels;\n\t\tlet subLevelChains = this.state.subLevelChains;\n\t\tlet baseLevels = levels.filter( item => item.level_id == null);\n\n\t\treturn <div className=\"container-fluid\" ref={this.elRef} >\n\t\t  <div className=\"row\">\n\t\t    <div className=\"col-md-12\">\n\t\t      <div className=\"card stacked-form\">\n\t\t\t\t\t  <div className=\"card-header \">\n\t\t\t\t\t    <h4 className=\"card-title\">\n\t\t\t\t\t    \tClass Details\n\t\t\t\t\t    \t{ this.props.edit && <div className=\"pull-right\">\n\t\t\t\t\t    \t\t\t{this.state.data.close ? <button type=\"button\" disabled={this.state.loading} className=\"btn btn-secondary\" onClick={this.restore} >Restore</button>\n    \t      \t \t\t\t\t: <button type=\"button\" disabled={this.state.loading} className=\"btn btn-warning\" onClick={this.close} >Close</button> }\n    \t      \t \t\t\t&nbsp;\n\t\t\t\t\t    \t\t\t<button type=\"button\" disabled={this.state.loading} className=\"btn btn-danger\" onClick={this.delete} >Delete</button>\n\t\t\t\t\t    \t\t</div>\n\t\t\t\t\t    \t}\n\t\t\t\t\t    </h4>\n\t\t\t\t\t  </div>\n\t\t\t\t\t  <div className=\"card-body \">\n\t\t\t\t\t    <form method=\"#\" action=\"#\">\n\t\t\t\t\t    \t{error.message && <div className=\"alert alert-danger\">\n                    <span>\n                        <b> Error - </b> {error.message}\n                    </span>\n                </div>}\n\t\t\t\t\t    \t<div className=\"row\">\n\t\t\t\t\t\t      <div className=\"form-group col-sm-6\">\n\t\t\t\t\t\t        <label>Class Name</label>\n\t\t\t\t\t\t        <input value={this.state.data.name} onChange={this.inputChanged.bind(this,'name')} type=\"text\" placeholder=\"Class Name\" className={`form-control ${nameInvalid}`} />\n\t\t\t\t\t\t        {nameInvalid && error.errors.name.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t      </div>\n\t\t\t\t\t\t      <div className=\"form-group col-sm-6\">\n\t\t\t\t\t\t        <label>Start Date</label>\n\t\t\t\t\t\t        <DateInput value={this.state.data.start} onChange={this.inputChanged.bind(this,'start')} placeholder=\"Start Date\" className={`form-control ${startInvalid}`} />\n\t\t\t\t\t\t        {startInvalid && error.errors.start.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t      </div>\n\t\t\t\t\t      </div>\n\n\t\t\t\t\t      <div className=\"row\">\n\t\t\t\t\t      \t<div className=\"col-12\">\n\n\t\t\t\t\t      \t\t<ul className=\"list-group list-group-horizontal-sm\">\n\t\t\t\t\t      \t\t\t<li className=\"list-group-item\">\n\t\t\t\t\t      \t\t\t\t<div className=\"btn-group dropright\">\n\t\t\t\t\t\t\t      \t\t\t<button type=\"button\" className=\"btn btn-secondary dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n\t\t\t\t\t\t\t      \t\t\t\tSet Level\n\t\t\t\t\t\t\t      \t\t\t</button>\n\t\t\t\t\t\t\t      \t\t\t<div className=\"dropdown-menu\">\n\t\t\t\t\t\t\t      \t\t\t\t{baseLevels.map( (level) => <a key={level.id} onClick={this.setLevel.bind(this,level)} className=\"dropdown-item\">{level.name}</a> )}\n\t\t\t\t\t\t\t      \t\t\t</div>\n\t\t\t\t\t\t\t      \t\t</div>\n\t\t\t\t\t      \t\t\t</li>\n\t\t\t\t\t      \t\t\t{this.state.levelChain.map( level => <li key={level.id} className=\"list-group-item\">\n\t\t\t\t\t      \t\t\t\t<div className=\"btn-group dropright\">\n\t\t\t\t\t\t\t      \t\t\t<button type=\"button\" className={`btn btn-secondary ${subLevelChains[level.id].length ? 'dropdown-toggle' : ''}`} data-toggle={`${subLevelChains[level.id].length ? 'dropdown' : ''}`} aria-haspopup=\"true\" aria-expanded=\"false\">\n\t\t\t\t\t\t\t      \t\t\t\t{level.name}\n\t\t\t\t\t\t\t      \t\t\t</button>\n\t\t\t\t\t\t\t      \t\t\t{subLevelChains[level.id].length != 0 && <div className=\"dropdown-menu\">\n\t\t\t\t\t\t\t      \t\t\t\t{subLevelChains[level.id].map( subLevel => <a key={subLevel.id} onClick={this.setLevel.bind(this,subLevel)} className=\"dropdown-item\">{subLevel.name}</a> )}\n\t\t\t\t\t\t\t      \t\t\t</div>}\n\t\t\t\t\t\t\t      \t\t</div>\n\t\t\t\t\t      \t\t\t</li>\n\t\t\t\t\t      \t\t\t)}\n\t\t\t\t\t      \t\t</ul>\n\n\t\t\t\t\t      \t</div>\n\t\t\t\t\t      </div>\n\n\t\t\t\t\t    </form>\n\t\t\t\t\t  </div>\n\t\t\t\t\t  <div className=\"card-footer \">\n\t\t\t\t\t  \t<div className=\"row\">\n\t\t\t\t\t\t  \t{this.props.edit ? <div className=\"col-sm-2\">\n\t\t\t            \t<input onClick={this.apply} type=\"button\" value=\"APPLY\" disabled={this.state.loading} className=\"btn btn-primary\" />\n\t\t\t          \t</div> :\n\t\t\t          \t<div className=\"col-sm-3\">\n\t\t\t            \t<input onClick={this.saveContinue} type=\"button\" value=\"SAVE AND CONTINUE\" disabled={this.state.loading} className=\"btn btn-primary\" />\n\t\t\t          \t</div>\n\t\t\t          }\n\t\t\t          <div className=\"col-sm-2\">\n\t\t\t            <input onClick={this.save} type=\"button\" value=\"SAVE\" disabled={this.state.loading} className=\"btn btn-success\" />\n\t\t\t          </div>\n\t\t\t          <div className=\"col-sm-2\">\n\t\t\t            <input onClick={this.props.close} type=\"button\" value=\"CLOSE\" disabled={this.state.loading} className=\"btn btn-warning\" />\n\t\t\t          </div>\n\t\t\t\t\t    </div>\n\t\t\t\t\t  </div>\n\n\t\t\t\t\t</div>\n\t\t    </div>\n\t\t  </div>\n\n\t\t  { this.state.data.streams ? <StreamList classId={this.state.data.id} streams={this.state.data.streams} /> : <div/> }\n\n\t\t</div>\n\n\t}\n}\n","import React, { Component } from 'react';\nimport lodash from 'lodash';\nimport {inject} from 'mobx-react';\n\nimport ShowNotification from '../components/ShowNotification';\nimport confirmAction from '../utils/confirmAction';\n\n@inject('teacherStore')\n@inject('subjectStore')\nexport default class TeacherForm extends Component {\n\tdefaults = {\n\t\tname: '',\n\t\tshorthand: '',\n\t\tteacher_id: '',\n\t\tsubjects: []\n\t};\n\n\tstate = {error: {}, loading: false, teachers: null, subjects: null, data: {...this.defaults}};\n\n\tcomponentDidMount() {\n    this.props.teacherStore.list({}).then(teachers=>{\n    \tthis.setState({teachers});\n    });\n\n    this.props.subjectStore.list({}).then(subjects=>{\n    \tthis.setState({subjects});\n    })\n\t}\n\n\tcomponentDidUpdate(prevProps,prevState) {\n\t\tif(this.props.edit){\n\t\t\tif(!lodash.isEqual(this.props.data, prevProps.data)){\n\t\t\t\tthis.setState({data: {...this.state.data,...this.props.data}})\n\t\t\t}\n\t\t}\n\t\tif(!lodash.isEqual(this.props.error,prevProps.error)){\n\t\t\tthis.setState({error: {...this.state.error,...this.props.error}})\n\t\t}\n\t}\n\n\tinputChanged = (event) => {\n\t\tlet field = event.target.name\n\t\tlet val = event.target.value;\n\t\tthis.setState( (state) => state.data[field] = val);\n\t}\n\t\n\tsaveContinue = () => {\n\t\tthis.submit().then(()=>{\n\t\t\tthis.setState({data: {...this.defaults},error: {}});\n\t\t})\n\t}\n\n\tsave = () => {\n\t\tthis.submit().then(()=>this.props.close());\n\t}\n\n\tapply = () => {\n\t\tthis.submit().then(()=>{\n\t\t\tthis.setState({error: {}});\n\t\t})\n\t}\n\n\tsubmit = () => {\n\t\tlet data = this.state.data;\n\t\tthis.setState({loading: true});\n\t\treturn this.props.submit(data).then( res => {\n\t\t\tif(this.props.edit) {\n\t\t\t\tShowNotification(\"Stream Successfully Edited\", \"success\", \"nc-check-2\");\n\t\t\t}else {\n\t\t\t\tShowNotification(\"Stream Created Successfully\", \"success\", \"nc-check-2\");\n\t\t\t}\n\t\t}, error => {\n\t\t\tthis.setState({error: error.response.data});\n\t\t\treturn Promise.reject(error.response.data);\n\t\t}).finally(_=>this.setState({loading:false}));\n\t}\n\n\tsetSubjectTeacher = (event) => {\n\t\tlet data = this.state.data;\n\t\tlet subjectId = event.target.name;\n\t\tlet index = data.subjects.findIndex( sub => sub.subject_id == subjectId );\n\n\t\tif(index != -1) {\n\t\t\tdata.subjects[index]['teacher_id'] = event.target.value;\n\t\t}else {\n\t\t\tdata.subjects.push({teacher_id: event.target.value, subject_id: subjectId});\n\t\t}\n\t\tthis.setState({data})\n\t}\n\n\tsubjectTeacher = (subjectId) => {\n\t\tlet sub = this.state.data.subjects.find( sub => sub.subject_id == subjectId );\n\t\treturn sub ? sub.teacher_id : '';\n\t}\n\n\tdelete = () => {\n\t\tconfirmAction( () => {\n\t\t\treturn axios.delete(`/api/setup/streams/${this.props.data.id}`).then(res=>{\n\t\t\t\tthis.props.close();\n\t\t\t\treturn {success: 'Deleted!', succes_text: 'Stream was deleted'};\n\t\t\t}, error => {\n\t\t\t\tthrow {error: \"Stream couldn't be deleted.\"};\n\t\t\t})\n\t\t}, {loading_title: 'Deleting...', loading_text: 'Deleting Stream', canceled: \"Deleting Stream Operation Cancelled\", consequence: 'Stream information will be lost'});\n\t}\n\n\tclose = () => {\n\t\tconfirmAction( () => {\n\t\t\treturn axios.post(`/api/setup/streams/close/${this.props.data.id}`).then(res=>{\n\t\t\t\tthis.props.close();\n\t\t\t\treturn {success: 'Closed!', succes_text: 'Stream was closed'};\n\t\t\t}, error => {\n\t\t\t\tthrow {error: \"Stream couldn't be closed\"};\n\t\t\t})\n\t\t}, {loading_title: 'Closing...', loading_text: 'Closing Stream', canceled: \"Closing Stream Operation Cancelled\", consequence: 'Stream information will be archieved'});\n\t}\n\n\trestore = () => {\n\t\tconfirmAction( () => {\n      return axios.post(`/api/setup/streams/restore/${this.props.data.id}`).then(res=>{\n        this.props.close();\n        return {success: 'Restored!', succes_text: 'Stream was restored'};\n      }, error => {\n        throw {error: 'Stream could not be restored.'};\n      })\n    }, {loading_title: 'Restoring...', loading_text: 'Restoring Stream', canceled: \"Restoring Stream Operation Cancelled\", consequence: 'Stream information will be made accessible again'});\n\t}\n\n\trender() {\n\t\tlet error = this.state.error || {};\n\t\tlet nameInvalid='', shorthandInvalid='', teacherInvalid='';\n\t\tif(error.errors) {\n\t\t\tnameInvalid = error.errors.name ? 'is-invalid' : '';\n\t\t\tshorthandInvalid = error.errors.shorthand ? 'is-invalid' : '';\n\t\t\tteacherInvalid = error.errors.teacher_id ? 'is-invalid' : '';\n\t\t}\n\n\t\tlet {subjects, teachers} = this.state;\n\n\t\treturn <div className=\"container-fluid\" >\n\t\t  <div className=\"row\">\n\t\t    <div className=\"col-md-12\">\n\t\t      <div className=\"card stacked-form\">\n\t\t\t\t\t  <div className=\"card-header \">\n\t\t\t\t\t    <h4 className=\"card-title\">\n\t\t\t\t\t    \tStream Details\n\t\t\t\t\t    \t{ this.props.edit && <div className=\"pull-right\">\n\t\t\t\t\t  \t\t\t{this.state.data.close ? <button type=\"button\" disabled={this.state.loading} className=\"btn btn-secondary\" onClick={this.restore} >Restore</button>\n\t\t\t\t\t\t \t\t\t\t: <button type=\"button\" disabled={this.state.loading} className=\"btn btn-warning\" onClick={this.close} >Close</button> }\n\t\t\t\t\t\t \t\t\t&nbsp;\n\t\t\t\t\t  \t\t\t<button type=\"button\" disabled={this.state.loading} className=\"btn btn-danger\" onClick={this.delete} >Delete</button>\n\t\t\t\t\t    \t\t</div>\n\t\t\t\t\t    \t}\n\t\t\t\t\t    </h4>\n\t\t\t\t\t  </div>\n\t\t\t\t\t  <div className=\"card-body \">\n\t\t\t\t\t    <form method=\"#\" action=\"#\">\n\t\t\t\t\t    \t{error.message && <div className=\"alert alert-danger\">\n                    <span>\n                        <b> Error - </b> {error.message}\n                    </span>\n                </div>}\n\t\t\t\t\t    \t<div className=\"row\">\n\t\t\t\t\t\t      <div className=\"form-group col-sm-6\">\n\t\t\t\t\t\t        <label>Name</label>\n\t\t\t\t\t\t        <input value={this.state.data.name} onChange={this.inputChanged} name=\"name\" type=\"text\" placeholder=\"Stream Name\" className={`form-control ${nameInvalid}`} />\n\t\t\t\t\t\t        {nameInvalid && error.errors.name.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t      </div>\n\n\t\t\t\t\t\t      <div className=\"form-group col-sm-6\">\n\t\t\t\t\t\t        <label>Shorthand</label>\n\t\t\t\t\t\t        <input value={this.state.data.shorthand} onChange={this.inputChanged} name=\"shorthand\" type=\"text\" placeholder=\"Stream Shorthand\" className={`form-control ${shorthandInvalid}`} />\n\t\t\t\t\t\t        {shorthandInvalid && error.errors.shorthand.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t      </div>\n\t\t\t\t\t      </div>\n\n\t\t\t\t\t      <div className=\"form-group\">\n\t\t\t\t\t        <label>Stream Teacher</label>\n\t\t\t\t\t        <select value={this.state.data.teacher_id || ''} onChange={this.inputChanged} name=\"teacher_id\" className={`form-control ${teacherInvalid}`} >\n\t\t\t\t\t        \t<option value=\"\">Select Teacher</option>\n                    {teachers && teachers.map( teacher => <option key={teacher.id} value={teacher.id}>{teacher.firstname} {teacher.lastname}</option>)}\n                  </select>\n\t\t\t\t\t        {teacherInvalid && error.errors.teacher.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t      </div>\n\n\t\t\t\t\t      <div>\n\t\t\t\t\t      \t<label>Subjects Done</label>\n\t\t\t\t\t      \t{subjects && subjects.map( subject => <div key={subject.id} className=\"form-group row\">\n\t\t\t              <label className=\"col-sm-2 col-form-label\">{subject.name}</label>\n\t\t\t              <div className=\"col-10\">\n\t\t\t                <select value={this.subjectTeacher(subject.id)} onChange={this.setSubjectTeacher} name={subject.id} className={`form-control`} >\n\t\t\t\t\t\t\t        \t<option value=\"\">Select Teacher</option>\n\t\t                    {teachers && teachers.map( teacher => <option key={teacher.id} value={teacher.id}>{teacher.firstname} {teacher.lastname}</option>)}\n\t\t                  </select>\t\n\t\t\t              </div>\n\t\t\t            </div>)}\n\t\t            </div>\n\t\t\t\t\t      \n\n\t\t\t\t\t    </form>\n\t\t\t\t\t  </div>\n\t\t\t\t\t  <div className=\"card-footer \">\n\t\t\t\t\t  \t<div className=\"row\">\n\t\t\t\t\t\t  \t{this.props.edit ? <div className=\"col-sm-2\">\n\t\t\t            \t<input onClick={this.apply} type=\"button\" value=\"APPLY\" disabled={this.state.loading} className=\"btn btn-primary\" />\n\t\t\t          \t</div> :\n\t\t\t          \t<div className=\"col-sm-3\">\n\t\t\t            \t<input onClick={this.saveContinue} type=\"button\" value=\"SAVE AND CONTINUE\" disabled={this.state.loading} className=\"btn btn-primary\" />\n\t\t\t          \t</div>\n\t\t\t          }\n\t\t\t          <div className=\"col-sm-2\">\n\t\t\t            <input onClick={this.save} type=\"button\" value=\"SAVE\" disabled={this.state.loading} className=\"btn btn-success\" />\n\t\t\t          </div>\n\t\t\t          <div className=\"col-sm-2\">\n\t\t\t            <input onClick={this.props.close} type=\"button\" value=\"CLOSE\" disabled={this.state.loading} className=\"btn btn-warning\" />\n\t\t\t          </div>\n\t\t\t\t\t    </div>\n\t\t\t\t\t  </div>\n\n\n\t\t\t\t\t  \n\n\n\t\t\t\t\t</div>\n\t\t    </div>\n\t\t  </div>\n\t\t</div>\n\n\t}\n}","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport {inject} from 'mobx-react';\n\nimport ClassForm from '../components/ClassForm';\nimport StreamForm from '../components/StreamForm';\nimport DataTable from '../components/DataTable';\nimport getCookie from '../utils/getCookie';\n\n@inject('classesStore')\nexport default class Classes extends Component {\n  constructor(props) {\n    super(props);\n    window.studentListActionEdit = this.edit;\n    const self = this;\n    this.dataTable = React.createRef();\n    this.dataTableConfig = {\n      serverSide: false,\n      processing: false,\n      ajax: function(params, callback, settings) {\n        self.props.classesStore.list(params, true).then(classes=>{\n          callback({data: classes});\n        })\n      },\n      columns: [\n        { data: 'name', name: 'name', 'class': 'text-center'},\n        { data: 'start', name: 'start', 'class': 'text-center', render: (data,type,row) => (new Date(data)).toDateString() },\n        { data: null, 'class': 'text-center', render: function(data,type,row) {\n          return `<span>\n              <a onclick=\"studentListActionEdit('${data.id}')\" class=\"btn btn-link btn-warning details\"><i class=\"fa fa-edit\"></i></a>\n          </span>`\n        }}\n      ],\n      createdRow: function (row, data, index) {\n        if(data.close) {\n          row.classList.add('table-danger');\n        }\n      }\n    };\n  }\n\n  edit = (cls) => {\n    this.props.history.push(`${this.props.match.url}/${cls}`);\n  }\n\n\trender() {\n\t\tlet match = this.props.match;\n\t\t\n\t\treturn <div className=\"container-fluid\">\n\t\t  <div className=\"row\">\n\t\t    <div className=\"col-md-12\">\n\t\t      <span className=\"pull-right\">\n\t\t        <Link className=\"btn btn-success details\" to={`${match.url}/new`}>New Class</Link>\n\t\t      </span>\n\t\t    </div>\n\t\t  </div>\n      <DataTable ref={this.dataTable} title=\"Classes\" config={this.dataTableConfig}>\n        <th>Name</th>\n        <th>Start</th>\n        <th className=\"disabled-sorting text-center noExport\">Actions</th>\n      </DataTable>\n\t\t</div>\n\n\t}\n}\n\n@inject('classesStore')\nexport class NewClass extends Component {\n  state = { error: {} };\n  submit = (data) => {\n    return this.props.classesStore.create(data).then( cls => {\n      this.setState({error: {}, data: cls})\n      return cls;\n    }, error => {\n      this.setState({error});\n      return Promise.reject(error);\n    })\n  }\n\n  close = () => {\n    this.props.history.push('/school/setup/classes');\n  }\n  render() {\n    return <ClassForm error={this.state.error} submit={this.submit} close={this.close} />\n  }\n}\n\n@inject('classesStore')\nexport class EditClass extends Component {\n  state = { error: {}, data: {} };\n\n  componentDidMount() {\n    if(this.props.location.state && this.props.location.state.cls){\n      this.setState({data: this.props.location.state.cls})\n    }else if(this.props.match.params.classId){\n      this.props.classesStore.get(this.props.match.params.classId).then(cls => {\n        this.setState({data: cls});\n      },error=>this.setState({error}))\n    }\n  }\n\n  submit = (data) => {\n    console.log(data);\n    return this.props.classesStore.update(data).then( cls => {\n      this.setState({error: {}, data: cls})\n      return cls;\n    }, error => {\n      this.setState({error});\n      return Promise.reject(error);\n    })\n  }\n\n  delete = () => {\n    return this.props.classesStore.delete(this.props.match.params.classId);\n  }\n\n  close = () => {\n    this.props.history.push('/school/setup/classes');\n  }\n\n  render() {\n    return <ClassForm edit={true} error={this.state.error} data={this.state.data} submit={this.submit} delete={this.delete} close={this.close} />\n  }\n}\n\nexport class StreamNew extends Component {\n  state = { error: {} };\n  submit = (data) => {\n    return axios.post(`/api/setup/classes/${this.props.match.params.classId}/streams`, data).then( res => {\n      this.setState({error: {}})\n      return res;\n    }, error => {\n      this.setState({error: error.response.data});\n      return Promise.reject(error);\n    })\n  }\n\n  close = () => {\n    this.props.history.push(`/school/setup/classes/${this.props.match.params.classId}`);\n  }\n  render() {\n    return <StreamForm error={this.state.error} submit={this.submit} close={this.close} />\n  }\n}\n\nexport class StreamEdit extends Component {\n  state = { error: {}, data: {} };\n\n  componentDidMount() {\n    if(this.props.location.state && this.props.location.state.stream){\n      this.setState({data: this.props.location.state.stream})\n    }else if(this.props.match.params.streamId){\n      axios.get(`/api/setup/classes/${this.props.match.params.classId}/streams/${this.props.match.params.streamId}`).then(response => {\n        this.setState({data: response.data.data});\n      },error=>this.setState({error:error.response.data}))\n    }\n  }\n\n  submit = (data) => {\n    return axios.put(`/api/setup/classes/${this.props.match.params.classId}/streams/${this.props.match.params.streamId}`, data).then( res => {\n      this.setState({error: {}})\n      return res;\n    }, error => {\n      this.setState({error: error.response.data});\n      return Promise.reject(error);\n    })\n  }\n\n  close = () => {\n    this.props.history.push(`/school/setup/classes/${this.props.match.params.classId}`);\n  }\n\n  render() {\n    return <StreamForm edit={true} error={this.state.error} data={this.state.data} submit={this.submit} close={this.close} />\n  }\n}","import React, { Component } from 'react';\nimport lodash from 'lodash';\nimport {inject} from 'mobx-react';\n\nimport ShowNotification from './ShowNotification';\nimport confirmAction from '../utils/confirmAction';\n\n@inject('subjectGroupStore')\nexport default class SubjectForm extends Component {\n\tdefaults = {\n\t\tname: '',\n\t\tshorthand: '',\n\t};\n\n\tstate = { error: {}, loading: false, data: {...this.defaults}, subjectGroups: null};\n\n\tcomponentDidMount() {\n\t\tthis.props.subjectGroupStore.list({}).then(subjectGroups=>{\n\t\t\tthis.setState({subjectGroups});\n\t\t})\n\t}\n\n\tcomponentDidUpdate(prevProps,prevState) {\n\t\tif(this.props.edit){\n\t\t\tif(!lodash.isEqual(this.props.data, prevProps.data)){\n\t\t\t\tthis.setState({data: {...this.state.data,...this.props.data}})\n\t\t\t}\n\t\t}\n\t\tif(!lodash.isEqual(this.props.error,prevProps.error)){\n\t\t\tthis.setState({error: {...this.state.error,...this.props.error}})\n\t\t}\n\t}\n\n\tinputChanged = (field,event) => {\n\t\tlet val = event.target.value;\n\t\tthis.setState( (state) => state.data[field] = val);\n\t}\n\n\tsaveContinue = () => {\n\t\tthis.submit().then(()=>{\n\t\t\tthis.setState({data: {...this.defaults},error: {}});\n\t\t})\n\t}\n\n\tsave = () => {\n\t\tthis.submit().then(()=>this.props.close());\n\t}\n\n\tapply = () => {\n\t\tthis.submit().then(()=>{\n\t\t\tthis.setState({error: {}});\n\t\t})\n\t}\n\n\tsubmit = () => {\n\t\tlet data = this.state.data;\n\t\tthis.setState({loading: true});\n\t\treturn this.props.submit(data).then( res => {\n\t\t\tif(this.props.edit) {\n\t\t\t\tShowNotification(\"Subject Successfully Edited\", \"success\", \"nc-check-2\");\n\t\t\t}else {\n\t\t\t\tShowNotification(\"Subject Created Successfully\", \"success\", \"nc-check-2\");\n\t\t\t}\n\t\t}, error => {\n\t\t\tthis.setState({error});\n\t\t\treturn Promise.reject(error);\n\t\t}).finally(_=>this.setState({loading:false}));\n\t}\n\n\tdelete = () => {\n\t\tconfirmAction( () => {\n\t\t\treturn axios.delete(`/api/setup/subjects/${this.props.data.id}`).then(res=>{\n\t\t\t\tthis.props.close();\n\t\t\t\treturn {success: 'Deleted!', succes_text: 'Subject was deleted'};\n\t\t\t}, error => {\n\t\t\t\tthrow {error: \"Subject couldn't be deleted.\"};\n\t\t\t})\n\t\t}, {loading_title: 'Deleting...', loading_text: 'Deleting Subject', canceled: \"Deleting Subject Operation Cancelled\", consequence: 'Subject information will be lost'});\n\t}\n\n\trender() {\n\t\tlet { classes, subjects } = this.state;\n\n\t\tlet error = this.state.error || {};\n\t\tlet nameInvalid='', shorthandInvalid='', subjectGroupInvalid='';\n\t\tif(error.errors) {\n\t\t\tnameInvalid = error.errors.name ? 'is-invalid' : '';\n\t\t\tshorthandInvalid = error.errors.shorthand ? 'is-invalid' : '';\n\t\t\tsubjectGroupInvalid = error.errors.subject_group_id ? 'is-invalid' : '';\n\t\t}\n\n\t\treturn <div className=\"container-fluid\" ref={this.elRef} >\n\t\t  <div className=\"row\">\n\t\t    <div className=\"col-md-12\">\n\t\t      <div className=\"card stacked-form\">\n\t\t\t\t\t  <div className=\"card-header \">\n\t\t\t\t\t    <h4 className=\"card-title\">\n\t\t\t\t\t    \tSubject Details\n\t\t\t\t\t    \t{ this.props.edit && <div className=\"pull-right\">\n\t\t\t\t\t    \t\t\t<button type=\"button\" disabled={this.state.loading} className=\"btn btn-danger\" onClick={this.delete} >Delete</button>\n\t\t\t\t\t    \t\t</div>\n\t\t\t\t\t    \t}\n\t\t\t\t\t    </h4>\n\t\t\t\t\t  </div>\n\t\t\t\t\t  <div className=\"card-body \">\n\t\t\t\t\t    <form method=\"#\" action=\"#\">\n\t\t\t\t\t    \t{error.message && <div className=\"alert alert-danger\">\n                    <span>\n                        <b> Error - </b> {error.message}\n                    </span>\n                </div>}\n\t\t\t\t\t      <div className=\"form-group\">\n\t\t\t\t\t        <label>Subject Name</label>\n\t\t\t\t\t        <input value={this.state.data.name} onChange={this.inputChanged.bind(this,'name')} type=\"text\" placeholder=\"Subject Name\" className={`form-control ${nameInvalid}`} />\n\t\t\t\t\t        {nameInvalid && error.errors.name.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t      </div>\n\n\t\t\t\t\t      <div className=\"form-group\">\n\t\t\t\t\t        <label>Shorthand</label>\n\t\t\t\t\t        <input value={this.state.data.shorthand} onChange={this.inputChanged.bind(this,'shorthand')} type=\"text\" placeholder=\"Shorthand\" className={`form-control ${shorthandInvalid}`} />\n\t\t\t\t\t        {shorthandInvalid && error.errors.shorthand.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t      </div>\n\n\t\t\t\t\t      <div className=\"form-group\">\n\t\t\t\t\t        <label>Subject Group</label>\n\t\t\t\t\t        <select value={this.state.data.subject_group_id} onChange={this.inputChanged.bind(this,'subject_group_id')} className={`form-control ${subjectGroupInvalid}`}>\n\t\t\t\t\t        \t<option> -- Select Subject Group -- </option>\n\t\t\t\t\t        \t{this.state.subjectGroups && this.state.subjectGroups.map( (group) => <option key={group.id} value={group.id}>{group.name}</option> )}\n\t\t\t\t\t        </select>\n\t\t\t\t\t        {subjectGroupInvalid && error.errors.subject_group_id.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t      </div>\n\n\n\t\t\t\t\t    </form>\n\t\t\t\t\t  </div>\n\t\t\t\t\t  <div className=\"card-footer \">\n\t\t\t\t\t  \t<div className=\"row\">\n\t\t\t\t\t\t  \t{this.props.edit ? <div className=\"col-sm-2\">\n\t\t\t            \t<input onClick={this.apply} type=\"button\" value=\"APPLY\" disabled={this.state.loading} className=\"btn btn-primary\" />\n\t\t\t          \t</div> :\n\t\t\t          \t<div className=\"col-sm-3\">\n\t\t\t            \t<input onClick={this.saveContinue} type=\"button\" value=\"SAVE AND CONTINUE\" disabled={this.state.loading} className=\"btn btn-primary\" />\n\t\t\t          \t</div>\n\t\t\t          }\n\t\t\t          <div className=\"col-sm-2\">\n\t\t\t            <input onClick={this.save} type=\"button\" value=\"SAVE\" disabled={this.state.loading} className=\"btn btn-success\" />\n\t\t\t          </div>\n\t\t\t          <div className=\"col-sm-2\">\n\t\t\t            <input onClick={this.props.close} type=\"button\" value=\"CLOSE\" disabled={this.state.loading} className=\"btn btn-warning\" />\n\t\t\t          </div>\n\t\t\t\t\t    </div>\n\t\t\t\t\t  </div>\n\n\t\t\t\t\t</div>\n\t\t    </div>\n\t\t  </div>\n\t\t</div>\n\n\t}\n}\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport {inject} from 'mobx-react';\n\nimport SubjectForm from '../components/SubjectForm';\nimport DataTable from '../components/DataTable';\n\nimport getCookie from '../utils/getCookie';\n\n@inject('subjectStore')\nexport default class Subject extends Component {\n  constructor(props) {\n    super(props);\n    window.studentListActionEdit = this.edit;\n    const self = this;\n    this.dataTable = React.createRef();\n    this.dataTableConfig = {\n      serverSide: false,\n      processing: false,\n      ajax: function(params, callback, settings) {\n        self.props.subjectStore.list(params).then(subjects=>{\n          callback({data: subjects});\n        })\n      },\n      columns: [\n        { data: 'name', name: 'name', 'class': 'text-center'},\n        { data: 'shorthand', name: 'shorthand', 'class': 'text-center'},\n        { data: null, 'class': 'text-center', render: function(data,type,row) {\n          return `<span>\n                  <a onclick=\"studentListActionEdit('${data.id}')\" class=\"btn btn-link btn-warning details\"><i class=\"fa fa-edit\"></i></a>\n              </span>`\n        }}\n      ],\n    };\n  }\n  edit = (subject) => {\n    this.props.history.push(`${this.props.match.url}/${subject}`);\n  }\n\n\trender() {\n\t\tlet match = this.props.match;\n\t\t\n\t\treturn <div className=\"container-fluid\">\n\t\t  <div className=\"row\">\n\t\t    <div className=\"col-md-12\">\n\t\t      <span className=\"pull-right\">\n\t\t        <Link className=\"btn btn-success details\" to={`${match.url}/new`}>New Subject</Link>\n\t\t      </span>\n\t\t    </div>\n\t\t  </div>\n\n      <DataTable ref={this.dataTable} title=\"Subjects\" config={this.dataTableConfig}>\n        <th>Name</th>\n        <th>Shorthand</th>\n        <th className=\"disabled-sorting text-center noExport\">Actions</th>\n      </DataTable>\n\n\t\t</div>\n\n\t}\n}\n\n@inject('subjectStore')\nexport class NewSubject extends Component {\n  state = { error: {} };\n  submit = (data) => {\n    return this.props.subjectStore.create(data).then( subject => {\n      this.setState({error: {}, data: subject})\n      return subject;\n    }, error => {\n      this.setState({error});\n      return Promise.reject(error);\n    })\n  }\n\n  close = () => {\n    this.props.history.push('/school/setup/subjects');\n  }\n  render() {\n    return <SubjectForm data={this.state.data} error={this.state.error} submit={this.submit} close={this.close} />\n  }\n}\n\n@inject('subjectStore')\n@inject('subjectGroupStore')\nexport class EditSubject extends Component {\n  state = { error: {}, data: {} };\n\n  componentDidMount() {\n    if(this.props.location.state && this.props.location.state.subject){\n      this.setState({data: this.props.location.state.subject})\n    }else if(this.props.match.params.id){\n      this.props.subjectStore(this.props.match.params.id).then(subject => {\n        this.setState({data: subject});\n      },error=>this.setState({error}))\n    }\n  }\n\n  submit = (data) => {\n    return this.props.subjectStore.update(data).then( subject => {\n      this.setState({error: {}, data: subject})\n      return subject;\n    }, error => {\n      this.setState({error});\n      return Promise.reject(error);\n    })\n  }\n\n  close = () => {\n    this.props.history.push('/school/setup/subjects');\n  }\n\n  render() {\n    return <SubjectForm edit={true} error={this.state.error} data={this.state.data} submit={this.submit} close={this.close} />\n  }\n}\n","import React, { Component } from 'react';\nimport lodash from 'lodash';\n\nimport ShowNotification from './ShowNotification';\nimport confirmAction from '../utils/confirmAction';\n\nexport default class SubjectForm extends Component {\n\tdefaults = {\n\t\tname: '',\n\t\tshorthand: '',\n\t};\n\n\tstate = { error: {}, loading: false, data: {...this.defaults}};\n\n\tcomponentDidUpdate(prevProps,prevState) {\n\t\tif(this.props.edit){\n\t\t\tif(!lodash.isEqual(this.props.data, prevProps.data)){\n\t\t\t\tthis.setState({data: {...this.state.data,...this.props.data}})\n\t\t\t}\n\t\t}\n\t\tif(!lodash.isEqual(this.props.error,prevProps.error)){\n\t\t\tthis.setState({error: {...this.state.error,...this.props.error}})\n\t\t}\n\t}\n\n\tinputChanged = (field,event) => {\n\t\tlet val = event.target.value;\n\t\tthis.setState( (state) => state.data[field] = val);\n\t}\n\n\tsaveContinue = () => {\n\t\tthis.submit().then(()=>{\n\t\t\tthis.setState({data: {...this.defaults},error: {}});\n\t\t})\n\t}\n\n\tsave = () => {\n\t\tthis.submit().then(()=>this.props.close());\n\t}\n\n\tapply = () => {\n\t\tthis.submit().then(()=>{\n\t\t\tthis.setState({error: {}});\n\t\t})\n\t}\n\n\tsubmit = () => {\n\t\tlet data = this.state.data;\n\t\tthis.setState({loading: true});\n\t\treturn this.props.submit(data).then( res => {\n\t\t\tif(this.props.edit) {\n\t\t\t\tShowNotification(\"Subject Group Successfully Edited\", \"success\", \"nc-check-2\");\n\t\t\t}else {\n\t\t\t\tShowNotification(\"Subject Group Created Successfully\", \"success\", \"nc-check-2\");\n\t\t\t}\n\t\t}, error => {\n\t\t\tthis.setState({error});\n\t\t\treturn Promise.reject(error);\n\t\t}).finally(_=>this.setState({loading:false}));\n\t}\n\n\tdelete = () => {\n\t\tconfirmAction( () => {\n\t\t\treturn axios.delete(`/api/setup/subject-groups/${this.props.data.id}`).then(res=>{\n\t\t\t\tthis.props.close();\n\t\t\t\treturn {success: 'Deleted!', succes_text: 'Subject Group was deleted'};\n\t\t\t}, error => {\n\t\t\t\tthrow {error: \"Subject Group couldn't be deleted.\"};\n\t\t\t})\n\t\t}, {loading_title: 'Deleting...', loading_text: 'Deleting Subject Group', canceled: \"Deleting Subject Group Operation Cancelled\", consequence: 'Subject Group information will be lost'});\n\t}\n\n\trender() {\n\t\tlet error = this.state.error || {};\n\t\tlet nameInvalid = error.errors && error.errors.name ? 'is-invalid' : '';\n\n\t\treturn <div className=\"container-fluid\" ref={this.elRef} >\n\t\t  <div className=\"row\">\n\t\t    <div className=\"col-md-12\">\n\t\t      <div className=\"card stacked-form\">\n\t\t\t\t\t  <div className=\"card-header \">\n\t\t\t\t\t    <h4 className=\"card-title\">\n\t\t\t\t\t    \tSubject Group Details\n\t\t\t\t\t    \t{ this.props.edit && <div className=\"pull-right\">\n\t\t\t\t\t    \t\t\t<button type=\"button\" disabled={this.state.loading} className=\"btn btn-danger\" onClick={this.delete} >Delete</button>\n\t\t\t\t\t    \t\t</div>\n\t\t\t\t\t    \t}\n\t\t\t\t\t    </h4>\n\t\t\t\t\t  </div>\n\t\t\t\t\t  <div className=\"card-body \">\n\t\t\t\t\t    <form method=\"#\" action=\"#\">\n\t\t\t\t\t    \t{error.message && <div className=\"alert alert-danger\">\n                    <span>\n                        <b> Error - </b> {error.message}\n                    </span>\n                </div>}\n\t\t\t\t\t      <div className=\"form-group\">\n\t\t\t\t\t        <label>Subject Group Name</label>\n\t\t\t\t\t        <input value={this.state.data.name} onChange={this.inputChanged.bind(this,'name')} type=\"text\" placeholder=\"Group Name\" className={`form-control ${nameInvalid}`} />\n\t\t\t\t\t        {nameInvalid && error.errors.name.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t      </div>\n\n\t\t\t\t\t    </form>\n\t\t\t\t\t  </div>\n\t\t\t\t\t  <div className=\"card-footer \">\n\t\t\t\t\t  \t<div className=\"row\">\n\t\t\t\t\t\t  \t{this.props.edit ? <div className=\"col-sm-2\">\n\t\t\t            \t<input onClick={this.apply} type=\"button\" value=\"APPLY\" disabled={this.state.loading} className=\"btn btn-primary\" />\n\t\t\t          \t</div> :\n\t\t\t          \t<div className=\"col-sm-3\">\n\t\t\t            \t<input onClick={this.saveContinue} type=\"button\" value=\"SAVE AND CONTINUE\" disabled={this.state.loading} className=\"btn btn-primary\" />\n\t\t\t          \t</div>\n\t\t\t          }\n\t\t\t          <div className=\"col-sm-2\">\n\t\t\t            <input onClick={this.save} type=\"button\" value=\"SAVE\" disabled={this.state.loading} className=\"btn btn-success\" />\n\t\t\t          </div>\n\t\t\t          <div className=\"col-sm-2\">\n\t\t\t            <input onClick={this.props.close} type=\"button\" value=\"CLOSE\" disabled={this.state.loading} className=\"btn btn-warning\" />\n\t\t\t          </div>\n\t\t\t\t\t    </div>\n\t\t\t\t\t  </div>\n\n\t\t\t\t\t</div>\n\t\t    </div>\n\t\t  </div>\n\t\t</div>\n\n\t}\n}\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport {inject} from 'mobx-react';\n\nimport SubjectGroupForm from '../components/SubjectGroupForm';\nimport DataTable from '../components/DataTable';\n\nimport getCookie from '../utils/getCookie';\n\n@inject('subjectGroupStore')\nexport default class SubjectGroup extends Component {\n  constructor(props) {\n    super(props);\n    window.subjectGroupListActionEdit = this.edit;\n    const self = this;\n    this.dataTable = React.createRef();\n    this.dataTableConfig = {\n      serverSide: false,\n      processing: false,\n      ajax: function(params, callback, settings) {\n        self.props.subjectGroupStore.list(params).then(subjectGroups => {\n          callback({data: subjectGroups});\n        })\n      },\n      columns: [\n        { data: 'name', name: 'name', 'class': 'text-center'},\n        { data: null, 'class': 'text-center', render: function(data,type,row) {\n          return `<span>\n                  <a onclick=\"subjectGroupListActionEdit('${data.id}')\" class=\"btn btn-link btn-warning details\"><i class=\"fa fa-edit\"></i></a>\n              </span>`\n        }}\n      ],\n    };\n  }\n  edit = (subject) => {\n    this.props.history.push(`${this.props.match.url}/${subject}`);\n  }\n\n\trender() {\n\t\tlet match = this.props.match;\n\t\t\n\t\treturn <div className=\"container-fluid\">\n\t\t  <div className=\"row\">\n\t\t    <div className=\"col-md-12\">\n\t\t      <span className=\"pull-right\">\n\t\t        <Link className=\"btn btn-success details\" to={`${match.url}/new`}>New Subject Group</Link>\n\t\t      </span>\n\t\t    </div>\n\t\t  </div>\n\n      <DataTable ref={this.dataTable} title=\"Subject Groups\" config={this.dataTableConfig}>\n        <th>Name</th>\n        <th className=\"disabled-sorting text-center noExport\">Actions</th>\n      </DataTable>\n\n\t\t</div>\n\n\t}\n}\n\n@inject('subjectGroupStore')\nexport class SubjectGroupNew extends Component {\n  state = { error: {} };\n  submit = (data) => {\n    return this.props.subjectGroupStore.create(data).then( res => {\n      this.setState({error: {}})\n      return res;\n    }, error => {\n      this.setState({error});\n      return Promise.reject(error);\n    })\n  }\n\n  close = () => {\n    this.props.history.push('/school/setup/subject-groups');\n  }\n  render() {\n    return <SubjectGroupForm error={this.state.error} submit={this.submit} close={this.close} />\n  }\n}\n\n@inject('subjectGroupStore')\nexport class SubjectGroupEdit extends Component {\n  state = { error: {}, data: {} };\n\n  componentDidMount() {\n    if(this.props.location.state && this.props.location.state.subjectGroupId){\n      this.setState({data: this.props.location.state.subjectGroupId})\n    }else if(this.props.match.params.subjectGroupId){\n      this.props.subjectGroupStore.get(this.props.match.params.subjectGroupId).then(subjectGroup => {\n        this.setState({data: subjectGroup});\n      },error=>this.setState({error}))\n    }\n  }\n\n  submit = (data) => {\n    return this.props.subjectGroupStore.update(data).then( subjectGroup => {\n      this.setState({error: {}, data: subjectGroup})\n      return subjectGroup;\n    }, error => {\n      this.setState({error});\n      return Promise.reject(error);\n    })\n  }\n\n  close = () => {\n    this.props.history.push('/school/setup/subject-groups');\n  }\n\n  render() {\n    return <SubjectGroupForm edit={true} error={this.state.error} data={this.state.data} submit={this.submit} close={this.close} />\n  }\n}\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\n\nimport DataTable from '../components/DataTable';\nimport getCookie from '../utils/getCookie';\n\nexport default class Grade extends Component {\n  constructor(props) {\n    super(props);\n    this.dataTable = React.createRef();\n    this.dataTableConfig = {\n      ordering: false,\n      paging: false,\n      searching: false,\n      serverSide: true,\n      processing: true,\n      ajax: function(params, callback, settings) {\n        axios.get('/api/setup/grades', {params: {params}}).then(response=>{\n          callback(response.data);\n        })\n      },\n      columns: [\n        { data: 'symbol', name: 'symbol', 'class': 'text-center'},\n        { data: 'min', name: 'min', 'class': 'text-center', render: (data,type,row) => row.min ? row.min : '-'},\n        { data: 'max', name: 'max', 'class': 'text-center', render: (data,type,row) => row.max ? row.max : '-'}\n      ],\n      dom: 'lfrtip'\n    }\n  }\n  componentDidMount() {\n    this.dataTable.current.table.MakeCellsEditable({\n      onUpdate: this.updateValue,\n      columns: [1,2]\n    });\n\n  }\n\n  updateValue = (updatedCell, updatedRow, oldValue) => {\n    let min = updatedRow.data()['min'];\n    let max = updatedRow.data()['max'];\n    let grade = updatedRow.data()['symbol'];\n    return axios.post('/api/setup/grades', {min, max, symbol: grade});\n  }\n\n  render() {\n    let match = this.props.match;\n    \n    return <div className=\"container-fluid\">\n      <DataTable ref={this.dataTable} title=\"Grades\" config={this.dataTableConfig}>\n        <th>Grade</th>\n        <th>Min</th>\n        <th>Max</th>\n      </DataTable>\n    </div>\n\n  }\n}\n","import React, {Component} from 'react';\nimport { observable, set } from 'mobx'\nimport { observer } from \"mobx-react\";\nimport lodash from 'lodash';\n\nimport confirmAction from '../utils/confirmAction';\n\n@observer\nexport default class Level extends Component {\n\t@observable levels = []\n\tstate = {loading: false, name: '', shorthand: '', error: {}};\n\tcomponentDidMount() {\n\t\taxios.get('/api/setup/levels').then(res=>{\n\t\t\tset(this.levels, res.data);\n\t\t})\n\t}\n\n\tinputChanged(field, event) {\n\t\tthis.setState({[field]: event.target.value});\n\t}\n\n\taddLevel = () => {\n\t\tlet data = {\n\t\t\tname: this.state.name,\n\t\t\tshorthand: this.state.shorthand\n\t\t};\n\t\tthis.setState({loading: true});\n\t\taxios.post('/api/setup/levels', data).then(res=>{\n\t\t\tthis.levels.push(res.data);\n\t\t\tthis.setState({name: '', shorthand: '', error: {}});\n\t\t},error => {\n\t\t\tthis.setState({error: error.response.data});\n\t\t}).finally( ()=>this.setState({loading: false}) );\n\t}\n\n\trender() {\n\t\tlet levels = this.levels;\n\t\tlet parentLevels = levels.filter( l => l.level_id == null ).sort( (a,b) => a.pos > b.pos );\n\n\t\tlet error = this.state.error.errors || {};\n\t\tlet nameInvalid = error.name ? 'is-invalid' : '';\n\t\tlet shorthandInvalid = error.shorthand ? 'is-invalid' : '';\n\n\t\treturn <div className=\"container-fluid\">\n\t\t\t<div className=\"row\">\n\n\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t{parentLevels.map( level => <LevelView key={level.id} level={level} levels={levels} /> )}\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t<div className=\"card\">\n\t\t        <div className=\"card-body\">\n\t\t        \t<div className=\"row\">\n\t\t        \t\t<div className=\"form-group col-5\">\n\t\t\t\t\t        <input type=\"text\" value={this.state.name} onChange={this.inputChanged.bind(this,'name')} className={`form-control ${nameInvalid}`} placeholder=\"Name\" />\n\t\t\t\t\t        {error.name && error.name.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t      </div>\n\t\t        \t\t<div className=\"form-group col-5\">\n\t\t\t\t\t        <input type=\"text\" value={this.state.shorthand} onChange={this.inputChanged.bind(this,'shorthand')} className={`form-control ${shorthandInvalid}`} placeholder=\"Shorthand\" />\n\t\t\t\t\t        {error.shorthand && error.shorthand.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t      </div>\n\t\t        \t\t<div className=\"col-2\">\n\t\t        \t\t\t<input type=\"button\" onClick={this.addLevel} disabled={this.state.loading} className=\"btn btn-primary\" value=\"Add Level\" />\n\t\t        \t\t</div>\n\t\t        \t</div>\n\t\t        </div>\n\t\t      </div>\n\t\t\t\t</div>\n\n\t\t\t</div>\n\t\t</div>\n\t}\n}\n\n@observer\nclass LevelView extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {loading: false, name: '', shorhand: '', newName: '', newShorthand: '', activeLevel: null, error: {}};\n\t\tif(this.props.level){\n\t\t\tthis.state.name = this.props.level.name;\n\t\t\tthis.state.shorthand = this.props.level.shorthand;\n\t\t}\n\t}\n\tcomponentDidMount() {\n\t\tthis.setActiveLevel(this.props.level);\n\t}\n\tcomponentDidUpdate(prevProps,prevState) {\n\t\tif(!lodash.isEqual(this.props.level, prevProps.level)) {\n\t\t\tthis.setActiveLevel(this.props.level);\n\t\t}\n\t}\n\n\tinputChanged(field, event) {\n\t\tthis.setState({[field]: event.target.value});\n\t}\n\n\tsetActiveLevel(level) {\n\t\tif(!level)\n\t\t\treturn;\n\n\t\tlet levelChain = [level];\n\t\tlet iLevel = level;\n\t\tdo{\n\t\t\tiLevel = this.props.levels.find( l => l.id == iLevel.level_id);\n\t\t\tif(iLevel){\n\t\t\t\tlevelChain.push(iLevel);\n\t\t\t}\n\t\t}while(iLevel && iLevel.level_id);\n\t\tlevelChain.reverse();\n\t\tthis.setState({levelChain, activeLevel: level, name: level.name, shorthand: level.shorthand});\n\t}\n\n\teditLevel = () => {\n\t\tlet data = {\n\t\t\tname: this.state.name,\n\t\t\tshorthand: this.state.shorthand\n\t\t};\n\t\tthis.setState({loading: true});\n\t\taxios.put(`/api/setup/levels/${this.state.activeLevel.id}`, data).then(res=>{\n\t\t\tlet index = this.props.levels.findIndex( item => item.id == this.state.activeLevel.id );\n\t\t\tthis.props.levels[index] = res.data;\n\t\t\tthis.setState({newName: '', newShorthand: '', error: {}});\n\t\t},error => {\n\t\t\tthis.setState({error: error.response.data});\n\t\t}).finally( ()=>this.setState({loading: false}) );\n\t}\n\n\taddSubLevel = () => {\n\t\tlet data = {\n\t\t\tname: this.state.newName,\n\t\t\tshorthand: this.state.newShorthand,\n\t\t\tlevel_id: this.state.activeLevel.id\n\t\t};\n\t\tthis.setState({loading: true});\n\t\taxios.post('/api/setup/levels', data).then(res=>{\n\t\t\tthis.props.levels.push(res.data);\n\t\t\tthis.setState({newName: '', newShorthand: '', error: {}});\n\t\t},error => {\n\t\t\tthis.setState({error: error.response.data});\n\t\t}).finally( ()=>this.setState({loading: false}) );\n\t}\n\n\tdelete = () => {\n\t\tconfirmAction( () => {\n\t\t\treturn axios.delete(`/api/setup/levels/${this.state.activeLevel.id}`).then(res=>{\n\t\t\t\tlet parent = this.props.levels[this.props.levels.findIndex(l => l.id == this.state.activeLevel.level_id)];\n\t\t\t\tlet index = this.props.levels.findIndex( l => l.id == this.state.activeLevel.id );\n\t\t\t\tthis.props.levels.splice(index, 1);\n\t\t\t\tthis.setActiveLevel(parent);\n\t\t\t\treturn {success: 'Deleted!', succes_text: 'Level was deleted'};\n\t\t\t}, error => {\n\t\t\t\tthrow {error: \"Level couldn't be deleted.\"};\n\t\t\t})\n\t\t}, {loading_title: 'Deleting...', loading_text: 'Deleting Level', canceled: \"Deleting Level Operation Cancelled\", consequence: 'Level information will be lost'});\n\t}\n\n\trender() {\n\t\tlet level = this.state.activeLevel;\n\t\tlet subLevels = this.props.levels.filter( l => l.level_id == (level && level.id) ).sort( (a,b) => a.pos > b.pos );\n\t\tlet levelChain = this.state.levelChain || [];\n\n\t\tlet error = this.state.error.errors || {};\n\t\tlet nameInvalid = error.name ? 'is-invalid' : '';\n\t\tlet shorthandInvalid = error.shorthand ? 'is-invalid' : '';\n\n\t\treturn <div className=\"card\">\n      <div className=\"card-header\">\n        <div>\n        \t<nav aria-label=\"breadcrumb\">\n          \t<ol className=\"breadcrumb\">\n          \t\t{levelChain.map( item => <li key={item.id} className=\"breadcrumb-item active\" aria-current=\"page\">\n          \t\t  <button type=\"button\" onClick={this.setActiveLevel.bind(this,item)} className=\"btn btn-secondary\">\n          \t\t\t\t{item.name} <span className=\"badge badge-success\">{item.shorthand}</span>\n          \t\t\t</button>\n          \t\t</li> )}\n          \t</ol>\n        \t</nav>\n        </div>\n      </div>\n      <div className=\"card-body\">\n      \t<div className=\"row\">\n      \t\t<div className=\"col-8\">\n\t        \t<div className=\"list-group\">\n\t        \t\t{subLevels.map( subLevel => <button key={subLevel.id} type=\"button\"\n\t        \t\t\tonClick={this.setActiveLevel.bind(this, subLevel)}\n\t        \t\t\tclassName=\"list-group-item list-group-item-action d-flex justify-content-between align-items-center\">\n\t        \t\t\t{subLevel.name} <span className=\"badge badge-info\">{subLevel.shorthand}</span>\n\t        \t\t</button> )}\n\t        \t</div>\n\n\t        \t<div className=\"row mt-3 justify-content-center\">\n\t        \t\t<div className=\"form-group col-4\">\n\t\t\t\t        <input type=\"text\" value={this.state.newName} onChange={this.inputChanged.bind(this,'newName')} className={`form-control ${nameInvalid}`} placeholder=\"Name\" />\n\t\t\t\t        {error.name && error.name.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t      </div>\n\t\t\t\t      <div className=\"form-group col-4\">\n\t\t\t\t        <input type=\"text\" value={this.state.newShorthand} onChange={this.inputChanged.bind(this,'newShorthand')} className={`form-control ${shorthandInvalid}`} placeholder=\"Shorthand\" />\n\t\t\t\t        {error.shorthand && error.shorthand.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t      </div>\n\t\t      \t\t<div className=\"col-2\">\n\t\t      \t\t\t<input type=\"button\" onClick={this.addSubLevel} disabled={this.state.loading} className=\"btn btn-primary\" value=\"Add Sub Level\" />\n\t\t      \t\t</div>\n\t\t      \t</div>\n\n      \t\t</div>\n      \t\t<div className=\"col-4\">\n      \t\t\t<div className=\"col-12 border border-secondary rounded\">\n        \t\t\t<div className=\"mb-2 mt-2\">\n        \t\t\t\t<input type=\"text\" className=\"form-control\" value={this.state.name} onChange={this.inputChanged.bind(this,'name')} placeholder=\"Name\" />\n        \t\t\t</div>\n        \t\t\t<div className=\"mb-2\">\n        \t\t\t\t<input type=\"text\" className=\"form-control\" value={this.state.shorthand} onChange={this.inputChanged.bind(this, 'shorthand')} placeholder=\"Shorhand\" />\n        \t\t\t</div>\n        \t\t\t<div className=\"mb-2\">\n        \t\t\t\t<div className=\"row\">\n\t        \t\t\t\t<div className=\"col\">\n\t        \t\t\t\t\t<button type=\"button\" onClick={this.editLevel} disabled={this.state.loading} className=\"btn btn-success btn-sm btn-block\">Edit</button>\n\t        \t\t\t\t</div>\n\t        \t\t\t\t<div className=\"col\">\n\t        \t\t\t\t\t<button onClick={this.delete} type=\"button\" className=\"btn btn-danger btn-sm btn-block\">Delete</button>\n\t        \t\t\t\t</div>\n        \t\t\t\t</div>\n        \t\t\t</div>\n      \t\t\t</div>\n      \t\t</div>\n      \t</div>\n      </div>\n    </div>\n\t}\n}","import React, { Component } from 'react';\nimport { Route } from \"react-router-dom\";\n\nimport AnimatedSwitch from '../components/animated-switch';\n\nimport Period, {NewPeriod, EditPeriod} from './Period';\nimport Classes, {NewClass, EditClass, StreamNew, StreamEdit} from './Classes';\nimport Subject, {NewSubject,EditSubject} from './Subject';\nimport SubjectGroup, {SubjectGroupNew, SubjectGroupEdit} from './SubjectGroup';\nimport Grade from './Grade';\nimport Level from './Level';\n\nexport default class SetupPages extends Component {\n\trender() {\n\t\tlet match = this.props.match;\n\t\treturn <AnimatedSwitch>\n\t\t\t\t\t\t<Route path={`${match.path}/periods/new`} render={(props) => <NewPeriod {...props} />} />\n\t\t\t\t\t\t<Route path={`${match.path}/periods/:id`} render={(props) => <EditPeriod {...props} />} />\n\t\t\t\t\t\t<Route path={`${match.path}/periods/`} render={(props) => <Period {...props} />} />\n\n\t\t\t\t\t\t<Route path={`${match.path}/classes/new`} render={(props)=> <NewClass {...props} /> } />\n\t\t\t\t\t\t<Route path={`${match.path}/classes/:classId/streams/new`} render={(props)=> <StreamNew {...props} /> } />\n\t\t\t\t\t\t<Route path={`${match.path}/classes/:classId/streams/:streamId`} render={(props)=> <StreamEdit {...props} /> } />\n\t\t\t\t\t\t<Route path={`${match.path}/classes/:classId`} render={(props)=> <EditClass {...props} /> } />\n\t\t\t\t\t\t<Route path={`${match.path}/classes`} render={(props)=> <Classes {...props} /> } />\n\n\t\t\t\t\t\t<Route path={`${match.path}/subject-groups/new`} render={(props)=> <SubjectGroupNew {...props} /> } />\n\t\t\t\t\t\t<Route path={`${match.path}/subject-groups/:subjectGroupId`} render={(props)=> <SubjectGroupEdit {...props} /> } />\n\t\t\t\t\t\t<Route path={`${match.path}/subject-groups`} render={(props)=> <SubjectGroup {...props} /> } />\n\n\t\t\t\t\t\t<Route path={`${match.path}/subjects/new`} render={(props)=> <NewSubject {...props} /> } />\n\t\t\t\t\t\t<Route path={`${match.path}/subjects/:id`} render={(props)=> <EditSubject {...props} /> } />\n\t\t\t\t\t\t<Route path={`${match.path}/subjects`} render={(props)=> <Subject {...props} /> } />\n\n\t\t\t\t\t\t<Route path={`${match.path}/grades`} render={(props)=> <Grade {...props} /> } />\n\t\t\t\t\t\t<Route path={`${match.path}/levels`} render={(props)=> <Level {...props} /> } />\n\t\t\t\t\t\t<Route path=\"\"><h1>404 Not Found</h1></Route>\n\t\t\t\t\t</AnimatedSwitch>\n\t}\n}"],"sourceRoot":""}