{"version":3,"sources":["components/TodForm.js","components/TeacherForm.js","pages/Teacher.js","pages/Tod.js","pages/TeacherAttendance.js","components/TeacherAssessmentForm.js","pages/TeacherAssessment.js","pages/TeacherPages.js"],"names":["TeacherForm","inject","defaults","start","end","teacher_id","state","error","loading","teachers","data","inputChanged","field","event","val","target","value","setState","saveContinue","submit","then","save","props","close","apply","res","edit","ShowNotification","Promise","reject","finally","_","delete","confirmAction","success","succes_text","loading_title","loading_text","canceled","consequence","cancel","cancelAsync","a","lodash","isEmpty","__meta_pending","isEqual","handleSubmit","e","preventDefault","submitAction","chooseAction","name","this","teacherStore","list","prevProps","prevState","startInvalid","endInvalid","teacherInvalid","errors","className","type","onClick","onSubmit","message","onChange","bind","placeholder","required","map","index","key","role","teacher","id","firstname","lastname","disabled","Component","teacher_no","phone","email","id_no","dob","date_of_employment","gender","subjects","previewUrl","classes","profileChanged","files","reader","FileReader","onload","result","readAsDataURL","removeSubject","subjectId","filter","addSubject","console","log","retire","restore","subjectName","subject","find","shorthand","toUpperCase","classesStore","subjectStore","profile","url","startsWith","firstnameInvalid","lastnameInvalid","teacherNoInvalid","phoneInvalid","emailInvalid","idNoInvalid","genderInvalid","dobInvalid","dateOfEmploymentInvalid","selectedClass","cls","class_id","streams","teachingSubjects","date_left","method","action","src","style","width","height","alt","position","bottom","top","right","left","aria-describedby","DateInput","data-toggle","aria-haspopup","aria-expanded","aria-labelledby","Teacher","observer","String","history","push","match","window","teacherListActionEdit","self","dataTable","React","createRef","dataTableConfig","serverSide","processing","ajax","params","callback","settings","columns","render","row","$","tooltip","to","DataTable","ref","title","config","softDeleteField","NewTeacher","create","teacherIdMatch","location","search","teacherId","get","EditTeacher","update","axios","post","updateItem","response","Tod","duty","todListActionEdit","teacherDutyStore","tods","Date","toDateString","rowCallback","t","current","table","draw","NewTod","tod","teacherDutyIdMatch","teacherDutyId","TodForm","EditTod","TeacherAttendance","dateRef","date","dateChanged","filterChanged","toolbar","TeacherAssessmentForm","report","submitButton","updateStandards","standards","updateProgress","progress","updateAttendance","attendance","updateAppraiserRemarks","appraiserRemarks","updateDevelopment","development","updateOthers","formSubmitButton","click","formSubmit","Array","isArray","tscInvalid","designationInvalid","institutionInvalid","zoneInvalid","subCountyInvalid","countyInvalid","fromInvalid","toInvalid","tsc","designation","institution","zone","sub_county","county","from","Tabledit","identifier","editable","rowSpan","colSpan","fill","appraiser_comments","countersigning_remarks","countersigning_name","countersigning_tsc","countersigning_designation","countersigning_date","arbitration_disagrement","arbitration_agrement","arbitrator1_name","arbitrator1_tsc","arbitrator1_designation","arbitrator1_date","arbitrator2_name","arbitrator2_tsc","arbitrator2_designation","arbitrator2_date","arbitrator3_name","arbitrator3_tsc","arbitrator3_designation","arbitrator3_date","TeachersAssessmentList","showAssessment","teacherAssessmentActionList","createdRow","classList","add","TeacherAssessmentList","assessment","teacherAssessmentActionEdit","teacherAssessmentStore","assessments","TeacherAssessmentNew","parseInt","teacherAssessmentIdMatch","teacherAssessmentId","TeacherAssessmentEdit","assessmentId","TeacherPages","exact","path"],"mappings":"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","file":"static/js/21.10aeb527.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport lodash from 'lodash';\nimport { inject } from 'mobx-react';\n\nimport ShowNotification from '../components/ShowNotification';\nimport DateInput from '../components/DateInput';\nimport confirmAction from '../utils/confirmAction';\n\n@inject('teacherStore')\nexport default class TeacherForm extends Component {\n\tdefaults = {\n\t\tstart: '',\n\t\tend: '',\n\t\tteacher_id: ''\n\t};\n\n\tstate = {error: {}, loading: false, teachers: null, data: {...this.defaults}};\n\n\tcomponentDidMount() {\n    this.props.teacherStore.list({},true).then(teachers=>{\n    \tthis.setState({teachers});\n    });\n\t}\n\n\tcomponentDidUpdate(prevProps,prevState) {\n\t\tif(!lodash.isEqual(this.props.data, prevProps.data)){\n\t\t\tthis.setState({data: {...this.state.data,...this.props.data}})\n\t\t}\n\t\tif(!lodash.isEqual(this.props.error,prevProps.error)){\n\t\t\tthis.setState({error: {...this.state.error,...this.props.error}})\n\t\t}\n\t}\n\n\tinputChanged = (field,event) => {\n\t\tlet val = event.target.value;\n\t\tthis.setState( (state) => state.data[field] = val);\n\t}\n\t\n\tsaveContinue = () => {\n\t\tthis.submit().then(()=>{\n\t\t\tthis.setState({data: {...this.defaults},error: {}});\n\t\t})\n\t}\n\n\tsave = () => {\n\t\tthis.submit().then(()=>this.props.close());\n\t}\n\n\tapply = () => {\n\t\tthis.submit().then(()=>{\n\t\t\tthis.setState({error: {}});\n\t\t})\n\t}\n\n\tsubmit = () => {\n\t\tlet data = this.state.data;\n\t\tthis.setState({loading: true});\n\t\treturn this.props.submit(data).then( res => {\n\t\t\tif(this.props.edit) {\n\t\t\t\tShowNotification(\"Teacher Duty Successfully Edited\", \"success\", \"nc-check-2\");\n\t\t\t}else {\n\t\t\t\tShowNotification(\"Teacher Duty Created Successfully\", \"success\", \"nc-check-2\");\n\t\t\t}\n\t\t}, error => {\n\t\t\tthis.setState({error: error});\n\t\t\treturn Promise.reject(error);\n\t\t}).finally(_=>this.setState({loading:false}));\n\t}\n\n\tdelete = () => {\n    confirmAction( () => {\n      return this.props.delete().then(res=>{\n        this.props.close();\n        return {success: 'Deleted!', succes_text: 'Duty was deleted'};\n      }, error => {\n        throw {error: \"Duty couldn't be deleted.\"};\n      })\n    }, {loading_title: 'Deleting...', loading_text: 'Deleting Duty', canceled: \"Deleting Duty Operation Cancelled\", consequence: 'Duty will be deleted'});\n  }\n\n  cancel = () => {\n      let cancelAsync = async () => this.props.cancel();\n      if(lodash.isEmpty(this.props.data) || (!this.props.data.__meta_pending && lodash.isEqual(this.props.data, this.state.data))) {\n          this.props.close();\n          return;\n      }\n      confirmAction( () => {\n          return cancelAsync().then(res=>{\n              this.props.close();\n              return {success: 'Cancelled!', succes_text: 'Teacher on Duty entry was cancelled'};\n          }, error => {\n              throw {error: \"Teacher on Duty entry couldn't be removed.\"};\n          })\n      }, {loading_title: 'Deleting...', loading_text: 'Cancelling entry', canceled: \"\", consequence: 'Entered information will be discarded'});\n  }\n\n  handleSubmit = (e) => {\n\t\te.preventDefault();\n\t\tthis.submitAction();\n\t}\n\n  chooseAction = (e) => {\n\t\tswitch(e.target.name) {\n\t\t\tcase 'apply':\n\t\t\t\tthis.submitAction = this.apply;\n\t\t\t\tbreak;\n\t\t\tcase 'save':\n\t\t\t\tthis.submitAction = this.save;\n\t\t\t\tbreak;\n\t\t\tcase 'save_continue':\n\t\t\t\tthis.submitAction = this.saveContinue;\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\trender() {\n\t\tlet error = this.state.error || {};\n\t\tlet startInvalid='', endInvalid='', teacherInvalid='';\n\t\tif(error.errors) {\n\t\t\tstartInvalid = error.errors.start ? 'is-invalid' : '';\n\t\t\tendInvalid = error.errors.end ? 'is-invalid' : '';\n\t\t\tteacherInvalid = error.errors.teacher_id ? 'is-invalid' : '';\n\t\t}\n\n\t\treturn <div className=\"container-fluid\">\n\t\t\t{this.props.edit && <div className=\"row\">\n          <div className=\"col-md-12\">\n            <span className=\"pull-right\">\n              <button type=\"button\" className=\"btn btn-danger\" onClick={this.delete} >Delete</button>\n            </span>\n          </div>\n      </div>}\n\t\t  <div className=\"row\">\n\t\t    <div className=\"col-md-12\">\n\t\t      <div className=\"card stacked-form\">\n\t\t\t\t\t  <div className=\"card-header \">\n\t\t\t\t\t    <h4 className=\"card-title\">Teacher Details</h4>\n\t\t\t\t\t  </div>\n\t\t\t\t\t  <div className=\"card-body \">\n\t\t\t\t\t    <form onSubmit={this.handleSubmit}>\n\t\t\t\t\t    \t{error.message && <div className=\"alert alert-danger\">\n                    <span>\n                        <b> Error - </b> {error.message}\n                    </span>\n                </div>}\n\t\t\t\t\t      <div className=\"form-group\">\n\t\t\t\t\t        <label>Starts on</label>\n\t\t\t\t\t        <DateInput value={this.state.data.start} onChange={this.inputChanged.bind(this,'start')} type=\"text\" placeholder=\"Starts on\" className={`form-control ${startInvalid}`} required />\n\t\t\t\t\t        {startInvalid && error.errors.start.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t      </div>\n\n\t\t\t\t\t      <div className=\"form-group\">\n\t\t\t\t\t        <label>Ends on</label>\n\t\t\t\t\t        <DateInput value={this.state.data.end} onChange={this.inputChanged.bind(this,'end')} type=\"text\" placeholder=\"End on\" className={`form-control ${endInvalid}`} required />\n\t\t\t\t\t        {endInvalid && error.errors.end.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t      </div>\n\n\t\t\t\t\t      <div className=\"form-group\">\n\t\t\t\t\t        <label>Teacher</label>\n\t\t\t\t\t        <select value={this.state.data.teacher_id} onChange={this.inputChanged.bind(this,'teacher_id')} name=\"gender\" className={`form-control ${teacherInvalid}`} required >\n\t\t\t\t\t        \t<option value=\"\">Select Teacher</option>\n                    {this.state.teachers && this.state.teachers.map( teacher => <option key={teacher.id} value={teacher.id}>{teacher.firstname} {teacher.lastname}</option>)}\n                  </select>\n\t\t\t\t\t        {teacherInvalid && error.errors.teacher.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t      </div>\n\n\t\t\t\t\t      <div className=\"row\">\n\t\t\t\t\t\t      <div className=\"col-sm-2\">\n\t\t\t\t            <input onClick={this.chooseAction} type=\"submit\" name=\"save\" value=\"SAVE\" disabled={this.state.loading} className=\"btn btn-success\" />\n\t\t\t\t          </div>\n\t\t\t\t\t\t\t  \t{this.props.edit ? <div className=\"col-sm-2\">\n\t\t\t\t            \t<input onClick={this.chooseAction} type=\"submit\" name=\"apply\" value=\"APPLY\" disabled={this.state.loading} className=\"btn btn-primary\" />\n\t\t\t\t          \t</div> :\n\t\t\t\t          \t<div className=\"col-sm-3\">\n\t\t\t\t            \t<input onClick={this.chooseAction} type=\"submit\" name=\"save_continue\" value=\"SAVE AND CONTINUE\" disabled={this.state.loading} className=\"btn btn-primary\" />\n\t\t\t\t          \t</div>\n\t\t\t\t          }\n\t\t\t\t          <div className=\"col-sm-2\">\n\t\t\t\t            <input onClick={this.cancel} type=\"button\" value=\"CANCEL\" disabled={this.state.loading} className=\"btn btn-warning\" />\n\t\t\t\t          </div>\n\t\t\t\t\t\t    </div>\n\n\t\t\t\t\t    </form>\n\t\t\t\t\t  </div>\n\t\t\t\t\t  <div className=\"card-footer \">\n\t\t\t\t\t  </div>\n\n\n\t\t\t\t\t  \n\n\n\t\t\t\t\t</div>\n\t\t    </div>\n\t\t  </div>\n\t\t</div>\n\n\t}\n}","import React, { Component } from 'react';\nimport { inject } from 'mobx-react';\nimport lodash from 'lodash';\n\nimport ShowNotification from '../components/ShowNotification';\nimport DateInput from '../components/DateInput';\nimport confirmAction from '../utils/confirmAction';\n\n@inject('classesStore')\n@inject('subjectStore')\nexport default class TeacherForm extends Component {\n\tdefaults = {\n\t\tfirstname: '',\n\t\tlastname: '',\n\t\tteacher_no: '',\n\t\tphone: '',\n\t\temail: '',\n\t\tid_no: '',\n\t\tdob: '',\n\t\tdate_of_employment: '',\n\t\tgender: '',\n\t\tsubjects: []\n\t};\n\n\tstate = {previewUrl: '', error: {}, loading: false, classes: null, subjects: [], loading: false, data: {...this.defaults}\n\t};\n\n\tcomponentDidMount() {\n    this.props.classesStore.list({}, true).then(classes=>{\n    \tthis.setState({classes});\n    });\n\n    this.props.subjectStore.list({}, true).then(subjects => {\n    \tthis.setState({subjects})\n    })\n\t}\n\n\tcomponentDidUpdate(prevProps,prevState) {\n\t\tif(!lodash.isEqual(this.props.data, prevProps.data)){\n\t\t\tthis.setState({data: {...this.state.data,...this.props.data}})\n\t\t}\n\t\tif((this.props.data||{}).profile != (prevProps.data||{}).profile){\n\t\t\tlet url = '/uploads/teachers_profile/' + this.props.data.profile;\n\t\t\tif(this.props.data.profile.startsWith('data:image/')){\n\t\t\t\turl = this.props.data.profile;\n\t\t\t}\n\t\t\tthis.setState({previewUrl: url});\n\t\t}\n\n\t\tif(!lodash.isEqual(this.props.error,prevProps.error)){\n\t\t\tthis.setState({error: {...this.state.error,...this.props.error}})\n\t\t}\n\t}\n\n\tinputChanged = (field,event) => {\n\t\tlet val = event.target.value;\n\t\tthis.setState( (state) => state.data[field] = val);\n\t}\n\n\tprofileChanged = (event) => {\n\t\tlet files = event.target.files;\n\t\tif(files && files[0]) {\n\t\t\tvar reader = new FileReader();\n\t\t\treader.onload = (e) => {\n\t\t\t\tthis.setState({previewUrl: e.target.result});\n\t\t\t\tthis.setState( (state) => (state.data['profile'] = e.target.result, state));\n\t\t\t};\n\t\t\treader.readAsDataURL(files[0]);\n\t\t}\n\t}\n\n\tremoveSubject = (subjectId) => {\n\t\tlet data = {...this.state.data}\n\t\tlet subjects = data.subjects || [];\n\t\tsubjects = [...subjects.filter( id => id != subjectId)];\n\t\tdata.subjects = subjects;\n\t\tthis.setState({data});\n\t}\n\n\taddSubject = (subjectId) => {\n\t\tlet data = {...this.state.data}\n\t\tlet subjects = data.subjects || [];\n\t\tsubjects = [...subjects.filter( id => id != subjectId), subjectId];\n\t\tconsole.log('added ' ,subjects);\n\t\tdata.subjects = subjects;\n\t\tthis.setState({data});\n\t}\n\n\tsaveContinue = () => {\n\t\tthis.submit().then(()=>{\n\t\t\tthis.setState({data: {...this.defaults},error: {}});\n\t\t})\n\t}\n\n\tsave = () => {\n\t\tthis.submit().then(()=>this.props.close());\n\t}\n\n\tapply = () => {\n\t\tthis.submit().then(()=>{\n\t\t\tthis.setState({error: {}});\n\t\t})\n\t}\n\n\tsubmit = () => {\n\t\tlet data = this.state.data;\n\t\tthis.setState({loading: true});\n\t\treturn this.props.submit(data).then( res => {\n\t\t\tif(this.props.edit) {\n\t\t\t\tShowNotification(\"Teacher Successfully Edited\", \"success\", \"nc-check-2\");\n\t\t\t}else {\n\t\t\t\tShowNotification(\"Teacher Created Successfully\", \"success\", \"nc-check-2\");\n\t\t\t}\n\t\t}, error => {\n\t\t\tthis.setState({error: error});\n\t\t\treturn Promise.reject(error);\n\t\t}).finally(_=>this.setState({loading:false}));\n\t}\n\n\tretire = () => {\n\t\tconfirmAction( () => {\n\t\t\treturn this.props.retire().then(res=>{\n\t\t\t\tthis.props.close();\n\t\t\t\treturn {success: 'Retired!', succes_text: 'Teacher was retired'};\n\t\t\t}, error => {\n\t\t\t\tthrow {error: \"Teacher couldn't be retired\"};\n\t\t\t})\n\t\t}, {loading_title: 'Retiring...', loading_text: 'Retiring Teacher', canceled: \"Retiring Teacher Operation Cancelled\", consequence: 'Teacher information will be archieved'});\n\t}\n\n\trestore = () => {\n\t\tconfirmAction( () => {\n      return this.props.restore().then(res=>{\n        this.props.close();\n        return {success: 'Restored!', succes_text: 'Teacher was restored'};\n      }, error => {\n        throw {error: 'Teacher could not be restored.'};\n      })\n    }, {loading_title: 'Restoring...', loading_text: 'Restoring Teacher', canceled: \"Restoring Teacher Operation Cancelled\", consequence: 'Teacher information will be archieved'});\n\t}\n\n\tdelete = () => {\n\t\tconfirmAction( () => {\n\t\t\treturn this.props.delete().then(res=>{\n\t\t\t\tthis.props.close();\n\t\t\t\treturn {success: 'Deleted!', succes_text: 'Teacher was deleted'};\n\t\t\t}, error => {\n\t\t\t\tthrow {error: \"Teacher couldn't be deleted.\"};\n\t\t\t})\n\t\t}, {loading_title: 'Deleting...', loading_text: 'Deleting Teacher', canceled: \"Deleting Teacher Operation Cancelled\", consequence: 'Teacher will be completely removed'});\n\t}\n\n\tcancel = () => {\n\t\tlet cancelAsync = async () => this.props.cancel();\n\t\tif(lodash.isEmpty(this.props.data) || (!this.props.data.__meta_pending && lodash.isEqual(this.props.data, this.state.data))) {\n\t\t\tthis.props.close();\n\t\t\treturn;\n\t\t}\n\t\tconfirmAction( () => {\n\t\t\treturn cancelAsync().then(res=>{\n\t\t\t\tthis.props.close();\n\t\t\t\treturn {success: 'Cancelled!', succes_text: 'Teacher entry was cancelled'};\n\t\t\t}, error => {\n\t\t\t\tthrow {error: \"Teacher entry couldn't be removed.\"};\n\t\t\t})\n\t\t}, {loading_title: 'Deleting...', loading_text: 'Cancelling entry', canceled: \"\", consequence: 'Entered information will be discarded'});\n\t}\n\n\thandleSubmit = (e) => {\n\t\te.preventDefault();\n\t\tthis.submitAction();\n\t}\n\n\tchooseAction = (e) => {\n\t\tswitch(e.target.name) {\n\t\t\tcase 'apply':\n\t\t\t\tthis.submitAction = this.apply;\n\t\t\t\tbreak;\n\t\t\tcase 'save':\n\t\t\t\tthis.submitAction = this.save;\n\t\t\t\tbreak;\n\t\t\tcase 'save_continue':\n\t\t\t\tthis.submitAction = this.saveContinue;\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tsubjectName = (subjectId) => {\n\t\tlet subject = this.state.subjects.find( subject => subject.id == subjectId);\n\t\tif(subject)\n\t\t\treturn subject.shorthand.toUpperCase();\n\t\treturn 'SUB';\n\t}\n\n\trender() {\n\t\tlet { classes, subjects, data } = this.state;\n\n\t\tlet error = this.state.error || {};\n\t\tlet firstnameInvalid='', lastnameInvalid='', teacherNoInvalid='', phoneInvalid='', emailInvalid='', idNoInvalid='', genderInvalid='', dobInvalid='', dateOfEmploymentInvalid='';\n\t\tif(error.errors) {\n\t\t\tfirstnameInvalid = error.errors.firstname ? 'is-invalid' : '';\n\t\t\tlastnameInvalid = error.errors.lastname ? 'is-invalid' : '';\n\t\t\tteacherNoInvalid = error.errors.teacher_no ? 'is-invalid' : '';\n\t\t\tphoneInvalid = error.errors.phone ? 'is-invalid' : '';\n\t\t\temailInvalid = error.errors.email ? 'is-invalid' : '';\n\t\t\tidNoInvalid = error.errors.id_no ? 'is-invalid' : '';\n\t\t\tgenderInvalid = error.errors.gender ? 'is-invalid' : '';\n\t\t\tdobInvalid = error.errors.dob ? 'is-invalid' : '';\n\t\t\tdateOfEmploymentInvalid = error.errors.date_of_employment ? 'is-invalid' : '';\n\t\t}\n\n\t\tlet streams = null;\n\n\t\tif(classes) {\n\t\t\tlet selectedClass = classes.find( (cls) => cls.id == this.state.data.class_id );\n\t\t\tif(selectedClass) {\n\t\t\t\tstreams = selectedClass.streams;\n\t\t\t}\n\t\t}\n\n\t\tlet teachingSubjects = data.subjects || [];\n\n\t\treturn <div className=\"container-fluid\">\n\t\t\t{this.props.edit && <div className=\"row\">\n    \t    <div className=\"col-md-12\">\n    \t      <span className=\"pull-right\">\n    \t      \t{this.state.data.date_left ? <button type=\"button\" className=\"btn btn-secondary\" onClick={this.restore} >Restore</button>\n    \t      \t : <button type=\"button\" className=\"btn btn-warning\" onClick={this.retire} >Retire</button> }\n    \t      \t&nbsp;\n    \t        <button type=\"button\" className=\"btn btn-danger\" onClick={this.delete} >Delete</button>\n    \t      </span>\n    \t    </div>\n\t    </div>}\n\t\t  <div className=\"row\">\n\t\t    <div className=\"col-md-12\">\n\t\t      <div className=\"card stacked-form\">\n\t\t\t\t\t  <div className=\"card-header \">\n\t\t\t\t\t    <h4 className=\"card-title\">Teacher Details</h4>\n\t\t\t\t\t  </div>\n\t\t\t\t\t  <div className=\"card-body \">\n\t\t\t\t\t    <form method=\"#\" action=\"#\" onSubmit={this.handleSubmit}>\n\t\t\t\t\t    \t{error.message && <div className=\"alert alert-danger\">\n                    <span>\n                        <b> Error - </b> {error.message}\n                    </span>\n                </div>}\n\t\t\t\t\t    \t<div className=\"row\">\n\t\t\t\t\t    \t\t<div className=\"col-md-9\">\n\t\t\t\t\t    \t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t        <label>First Name</label>\n\t\t\t\t\t\t\t\t        <input value={this.state.data.firstname} onChange={this.inputChanged.bind(this,'firstname')} type=\"text\" placeholder=\"First Name\" className={`form-control ${firstnameInvalid}`} required />\n\t\t\t\t\t\t\t\t        {firstnameInvalid && error.errors.firstname.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t\t\t      </div>\n\n\t\t\t\t\t\t\t\t      <div className=\"form-group\">\n\t\t\t\t\t\t\t\t        <label>Last Name</label>\n\t\t\t\t\t\t\t\t        <input value={this.state.data.lastname} onChange={this.inputChanged.bind(this,'lastname')} type=\"text\" placeholder=\"Last Name\" className={`form-control ${lastnameInvalid}`} required />\n\t\t\t\t\t\t\t\t        {lastnameInvalid && error.errors.lastname.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t\t\t      </div>\n\n\t\t\t\t\t\t\t\t      <div className=\"form-group\">\n\t\t\t\t\t\t\t\t        <label>Gender</label>\n\t\t\t\t\t\t\t\t        <select value={this.state.data.gender} onChange={this.inputChanged.bind(this,'gender')} name=\"gender\" className={`form-control ${genderInvalid}`} required >\n\t\t\t\t\t\t\t\t        \t<option value=\"\">Select Gender</option>\n\t\t                      <option value=\"M\">Male</option>\n\t\t                      <option value=\"F\">Female</option>\n\t\t                    </select>\n\t\t\t\t\t\t\t\t        {genderInvalid && error.errors.gender.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t\t\t      </div>\n\t\t\t\t\t    \t\t</div>\n\t\t\t\t\t\t      <div className=\"col-md-3 d-flex align-items-center\">\n\t\t\t\t\t\t      \t<div>\n\t\t\t\t\t\t      \t\n\t\t\t\t\t\t      \t<div className=\"input-group\">\n\t\t\t\t\t\t      \t\t<div>\n\t\t\t\t\t\t\t      \t\t<img src={this.state.previewUrl || '/img/profile-placeholder.jpg'} className=\"rounded img-fluid\" style={{width: '100%', height: '100%'}} alt=\"Responsive image\" />\n\t\t\t\t\t\t\t      \t</div>\n\t\t\t\t\t\t\t\t\t\t  <span style={{position: 'absolute', bottom: 0}}>\n\t\t\t\t\t\t\t\t\t\t  \t<span className=\"btn btn-primary\"><i className=\"fa fa-camera\"></i>Change</span>\n\t\t\t\t\t\t\t\t\t\t    <input type=\"file\" onChange={this.profileChanged} style={{position: 'absolute', bottom: 0, top: 0, right: 0, left: 0}} className=\"custom-file-input\" id=\"inputGroupFile01\" aria-describedby=\"inputGroupFileAddon01\" />\n\t\t\t\t\t\t\t\t\t\t  </span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t      </div>\n\t\t\t\t\t      </div>\n\n\t\t\t\t\t      <div className=\"row\">\n\t\t\t\t\t      \t<div className=\"form-group col-md-6\">\n\t\t\t\t\t\t        <label>Teacher's No</label>\n\t\t\t\t\t\t        <input value={this.state.data.teacher_no} onChange={this.inputChanged.bind(this,'teacher_no')} type=\"text\" placeholder=\"Teacher No\" className={`form-control ${teacherNoInvalid}`} />\n\t\t\t\t\t\t        {teacherNoInvalid && error.errors.teacher_no.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t      </div>\n\t\t\t\t\t      \t\n\t\t\t\t\t      \t<div className=\"form-group col-md-6\">\n\t\t\t\t\t\t        <label>Phone Number</label>\n\t\t\t\t\t\t        <input value={this.state.data.phone} onChange={this.inputChanged.bind(this,'phone')} type=\"text\" placeholder=\"Phone Number\" className={`form-control ${phoneInvalid}`} />\n\t\t\t\t\t\t        {phoneInvalid && error.errors.phone.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t      </div>\n\t\t\t\t\t\t    </div>\n\n\t\t\t\t\t\t    <div className=\"row\">\n\t\t\t\t\t      \t<div className=\"form-group col-md-6\">\n\t\t\t\t\t\t        <label>Email</label>\n\t\t\t\t\t\t        <input value={this.state.data.email} onChange={this.inputChanged.bind(this,'email')} type=\"text\" placeholder=\"Email\" className={`form-control ${emailInvalid}`} />\n\t\t\t\t\t\t        {emailInvalid && error.errors.email.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t      </div>\n\t\t\t\t\t      \t\n\t\t\t\t\t      \t<div className=\"form-group col-md-6\">\n\t\t\t\t\t\t        <label>ID Number</label>\n\t\t\t\t\t\t        <input value={this.state.data.id_no} onChange={this.inputChanged.bind(this,'id_no')} type=\"text\" placeholder=\"ID Number\" className={`form-control ${idNoInvalid}`} />\n\t\t\t\t\t\t        {idNoInvalid && error.errors.id_no.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t      </div>\n\t\t\t\t\t\t    </div>\n\n\t\t\t\t\t      <div className=\"row\">\n\t\t\t\t\t\t      <div className=\"form-group col-md-6\">\n\t\t\t\t\t\t        <label>Date of Birth</label>\n\t\t\t\t\t\t        <DateInput value={this.state.data.dob} onChange={this.inputChanged.bind(this,'dob')} type=\"text\" placeholder=\"Date of Birth\" className={`form-control ${dobInvalid}`} />\n\t\t\t\t\t\t        {dobInvalid && error.errors.dob.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t      </div>\n\t\t\t\t\t\t      <div className=\"form-group col-md-6\">\n\t\t\t\t\t\t        <label>Date of Employment</label>\n\t\t\t\t\t\t        <DateInput value={this.state.data.date_of_employment} onChange={this.inputChanged.bind(this,'date_of_employment')} type=\"text\" placeholder=\"Date of Employment\" className={`form-control ${dateOfEmploymentInvalid}`} />\n\t\t\t\t\t\t        {dateOfEmploymentInvalid && error.errors.date_of_employment.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n\t\t\t\t\t\t\t\t\t\t<p className=\"help-block help-block-error\"></p>\n\t\t\t\t\t\t      </div>\n\t\t\t\t\t\t    </div>\n\n\t\t\t\t\t\t    <div className=\"row\">\n\t\t\t\t\t\t    \t<div className=\"form-group d-flex align-items-center\">\n\t\t\t\t\t\t    \t\t<label className=\"mr-2\">Subjects: </label>\n\t\t\t\t\t\t    \t\t{teachingSubjects.map( subjectId => <h3 key={subjectId} className=\"mr-2\">\n\t\t\t\t\t\t    \t\t\t<span className=\"badge badge-pill badge-info d-flex align-items-center\">\n\t\t\t\t\t\t    \t\t\t\t{this.subjectName(subjectId)} <span onClick={this.removeSubject.bind(this,subjectId)} className=\"nc-icon nc-simple-remove bg-success rounded-circle ml-1\"></span>\n\t\t\t\t\t\t    \t\t\t</span>\n\t\t\t\t\t\t    \t\t</h3>) }\n\t\t\t\t\t\t    \t\t<div className=\"dropdown\">\n\t\t\t\t\t\t\t\t\t\t  <button className=\"btn btn-secondary dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n\t\t\t\t\t\t\t\t\t\t    Add Subject\n\t\t\t\t\t\t\t\t\t\t  </button>\n\t\t\t\t\t\t\t\t\t\t  <div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\n\t\t\t\t\t\t\t\t\t\t  \t{subjects.map( subject => <a key={subject.id} className=\"dropdown-item\" onClick={this.addSubject.bind(this,subject.id)}>{subject.name}</a> )}\n\t\t\t\t\t\t\t\t\t\t  </div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t    \t</div>\n\t\t\t\t\t\t    </div>\n\n\t\t\t\t\t\t    <div className=\"row\">\n\t\t\t\t\t\t    \t<div className=\"col-sm-2\">\n\t\t\t\t            <input onClick={this.chooseAction} type=\"submit\" name=\"save\" value=\"SAVE\" disabled={this.state.loading} className=\"btn btn-success\" />\n\t\t\t\t          </div>\n\t\t\t\t\t\t\t  \t{this.props.edit ? <div className=\"col-sm-2\">\n\t\t\t\t            \t<input onClick={this.chooseAction} type=\"submit\" name=\"apply\" value=\"APPLY\" disabled={this.state.loading} className=\"btn btn-primary\" />\n\t\t\t\t          \t</div> :\n\t\t\t\t          \t<div className=\"col-sm-3\">\n\t\t\t\t            \t<input onClick={this.chooseAction} type=\"submit\" name=\"save_continue\" value=\"SAVE AND CONTINUE\" disabled={this.state.loading} className=\"btn btn-primary\" />\n\t\t\t\t          \t</div>\n\t\t\t\t          }\n\t\t\t\t          <div className=\"col-sm-3\">\n\t\t\t\t            \t<input onClick={this.cancel} type=\"button\" value=\"CANCEL\" disabled={this.state.loading} className=\"btn btn-danger\" />\n\t\t\t\t          </div>\n\t\t\t\t\t\t    </div>\n\n\t\t\t\t\t    </form>\n\t\t\t\t\t  </div>\n\t\t\t\t\t  <div className=\"card-footer \">\n\t\t\t\t\t  </div>\n\n\n\t\t\t\t\t  \n\n\n\t\t\t\t\t</div>\n\t\t    </div>\n\t\t  </div>\n\t\t</div>\n\n\t}\n}","import React, { Component } from 'react';\nimport { inject, observer } from 'mobx-react';\nimport { Link } from 'react-router-dom';\nimport lodash from 'lodash';\nimport $ from 'jquery';\n\nimport TeacherForm from '../components/TeacherForm';\nimport DataTable from '../components/DataTable';\nimport getCookie from '../utils/getCookie';\n\n@inject('teacherStore')\n@observer\nexport default class Teacher extends Component {\n    constructor(props) {\n        super(props);\n        window.teacherListActionEdit = this.edit;\n        const self = this;\n        this.dataTable = React.createRef();\n        this.dataTableConfig = {\n            serverSide: false,\n            processing: false,\n            ajax : function (params, callback, settings) {\n                self.props.teacherStore.list(params,true, true).then(teachers=>{\n                    callback({data: teachers});\n                })\n            },\n            columns: [\n                { data: 'teacher_no', name: 'teacher_no', 'class': 'text-center'},\n                { data: 'firstname', name: 'firstname', 'class': 'text-center'},\n                { data: 'lastname', name: 'lastname', 'class': 'text-center'},\n                { data: 'phone', name: 'phone', 'class': 'text-center'},\n                { data: 'email', name: 'email', 'class': 'text-center'},\n                { data: 'gender', name: 'gender', 'class': 'text-center'},\n                { data: null, 'class': 'text-center', render: function(data,type,row) {\n                    return `<span>\n                      <a onclick=\"teacherListActionEdit('${data.id}')\" class=\"btn btn-link btn-warning details\"><i class=\"fa fa-edit\"></i></a>\n                  </span>`\n                }}\n            ]\n        };\n    }\n\n    componentWillUnmount() {\n        $('tr[title]').tooltip('dispose');\n    }\n\n    edit = (teacher) => {\n        if(String(teacher).startsWith('dummy_')){\n            this.props.history.push(`${this.props.match.url}/new?teacher=${teacher}`)\n        } else {\n            this.props.history.push(`${this.props.match.url}/${teacher}`);\n        }\n    }\n\n\trender() {\n\t\tlet match = this.props.match;\n\t\treturn <div className=\"container-fluid\">\n    \t    <div className=\"row\">\n        \t    <div className=\"col-md-12\">\n        \t      <span className=\"pull-right\">\n        \t        <Link to={`${match.url}/new`} className=\"btn btn-success details\">New Teacher</Link>\n        \t      </span>\n        \t    </div>\n    \t    </div>\n            <DataTable ref={this.dataTable} title=\"Teachers\" config={this.dataTableConfig} softDeleteField=\"date_left\">\n                <th>Teacher's No</th>\n                <th>Firstname</th>\n                <th>Lastname</th>\n                <th>Phone Number</th>\n                <th>Email</th>\n                <th>Gender</th>\n                <th className=\"disabled-sorting text-center noExport\">Actions</th>\n            </DataTable>\n\t\t</div>\n\n\t}\n}\n\n@inject('teacherStore')\nexport class NewTeacher extends Component {\n    state = { error: {} };\n\n    componentDidMount() {\n        let teacherIdMatch = this.props.location.search.match(/teacher=([^&]+)/);\n        if(teacherIdMatch) {\n            let teacherId = teacherIdMatch[1];\n            this.props.teacherStore.get(teacherId, true).then(teacher => {\n                if(teacher){\n                    this.setState({data: teacher, error: teacher.error});\n                }\n            })\n        }\n    }\n\n    submit = (data) => {\n        return this.props.teacherStore.create(data).then( teacher => {\n            this.setState({error: {}, data: teacher})\n            return teacher;\n        }, error => {\n            this.setState({error});\n            return Promise.reject(error);\n        })\n    }\n\n    cancel = () => {\n        let teacherIdMatch = this.props.location.search.match(/teacher=([^&]+)/);\n        if(teacherIdMatch) {\n            let teacherId = teacherIdMatch[1];\n            return this.props.teacherStore.cancel(teacherId);\n        }\n    }\n\n    close = () => {\n        this.props.history.push('/school/teachers');\n    }\n    render() {\n        return <TeacherForm data={this.state.data} error={this.state.error} submit={this.submit} cancel={this.cancel} close={this.close} />\n    }\n}\n\n@inject('teacherStore')\nexport class EditTeacher extends Component {\n    state = { error: {}, data: {} };\n\n    componentDidMount() {\n        if(this.props.location.state && this.props.location.state.teacher){\n            this.setState({data: this.props.location.state.teacher})\n        }else if(this.props.match.params.id){\n            this.props.teacherStore.get(this.props.match.params.id).then(teacher => {\n                this.setState({data: teacher,  error: (teacher.error || {}) });\n            },error=>this.setState({error}))\n        }\n    }\n\n    submit = (data) => {\n        return this.props.teacherStore.update(data).then( teacher => {\n            this.setState({error: {}, data: teacher})\n            return teacher;\n        }, error => {\n            this.setState({error});\n            return Promise.reject(error);\n        })\n    }\n\n    delete = () => {\n        return this.props.teacherStore.delete(this.props.match.params.id);\n    }\n\n    retire = () => {\n        return axios.post(`/api/teachers/retire/${this.state.data.id}`).then(res=> {\n            this.props.teacherStore.updateItem(res.data);\n            this.setState({error: {}, data: res.data});\n            return res.data;\n        }, error => {\n            error = error.response ? error.response.data : error;\n            this.setState({error});\n            throw error;\n        })\n    }\n\n    restore = () => {\n        return axios.post(`/api/teachers/restore/${this.state.data.id}`).then(res=> {\n            this.props.teacherStore.updateItem(res.data);\n            this.setState({error: {}, data: res.data});\n            return res.data;\n        }, error => {\n            error = error.response ? error.response.data : error;\n            this.setState({error});\n            throw error;\n        })\n    }\n\n    cancel = () => {\n        return this.props.teacherStore.cancel(this.props.match.params.id);\n    }\n\n    close = () => {\n        this.props.history.push('/school/teachers');\n    }\n\n    render() {\n        return <TeacherForm edit={true} error={this.state.error} data={this.state.data} submit={this.submit} cancel={this.cancel} delete={this.delete} retire={this.retire} restore={this.restore} close={this.close} />\n    }\n}","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { inject } from 'mobx-react';\nimport lodash from 'lodash';\nimport $ from 'jquery';\n\nimport TodForm from '../components/TodForm';\nimport DataTable from '../components/DataTable';\nimport getCookie from '../utils/getCookie';\n\n@inject('teacherStore')\n@inject('teacherDutyStore')\nexport default class Tod extends Component {\n    constructor(props) {\n        super(props);\n        window.todListActionEdit = this.edit;\n        const self = this;\n        this.state = {teachers: []}\n        this.dataTable = React.createRef();\n        this.dataTableConfig = {\n            serverSide: false,\n            processing: false,\n            ajax : function (params, callback, settings) {\n                self.props.teacherDutyStore.list(params,true).then(tods=>{\n                    callback({data: tods});\n                })\n            },\n            columns: [\n                { data: 'start', name: 'start', 'class': 'text-center', render: (data,type,row) => (new Date(data)).toDateString()},\n                { data: 'end', name: 'end', 'class': 'text-center', render: (data,type,row) => (new Date(data)).toDateString()},\n                { data: 'firstname', name: 'firstname', 'class': 'text-center', render: (data,type,row) => data || ''},\n                { data: 'lastname', name: 'lastname', 'class': 'text-center', render: (data,type,row) => data || ''},\n                { data: null, 'class': 'text-center', render: function(data,type,row) {\n                    return `<span>\n                      <a onclick=\"todListActionEdit('${data.id}')\" class=\"btn btn-link btn-warning details\"><i class=\"fa fa-edit\"></i></a>\n                  </span>`\n                }}\n            ],\n            rowCallback: function( row, data ) {\n                if(!data.firstname || !data.lastname && self.state.teachers) {\n                    let teacher = self.state.teachers.find( t => t.id == data.teacher_id);\n                    if(teacher) {\n                        data.firstname = teacher.firstname;\n                        data.lastname = teacher.lastname;\n                        self.dataTable.current.table.row(row).data(data);\n                    }\n                }\n            }\n        };\n    }\n\n    componentDidMount() {\n        this.props.teacherStore.list({},true).then(teachers => {\n            this.setState({teachers}, ()=>{\n                this.dataTable.current.table.draw();\n            });\n        })\n    }\n\n    componentWillUnmount() {\n        $('tr[title]').tooltip('dispose');\n    }\n\n    edit = (duty) => {\n        if(String(duty).startsWith('dummy_')){\n            this.props.history.push(`${this.props.match.url}/new?teacher_duty=${duty}`)\n        } else {\n            this.props.history.push(`${this.props.match.url}/${duty}`);\n        }\n    }\n\n\trender() {\n\t\tlet match = this.props.match;\n\t\treturn <div className=\"container-fluid\">\n    \t    <div className=\"row\">\n        \t    <div className=\"col-md-12\">\n        \t      <span className=\"pull-right\">\n        \t        <Link to={`${match.url}/new`} className=\"btn btn-success details\">Add New Duty Slot</Link>\n        \t      </span>\n        \t    </div>\n    \t    </div>\n            <DataTable ref={this.dataTable} title=\"Teachers on Duty\" config={this.dataTableConfig}>\n                <th>Start</th>\n                <th>End</th>\n                <th>Firstname</th>\n                <th>Lastname</th>\n                <th className=\"disabled-sorting text-center noExport\">Actions</th>\n            </DataTable>\n\t\t</div>\n\n\t}\n}\n\n@inject('teacherDutyStore')\nexport class NewTod extends Component {\n    state = { error: {} };\n\n    componentDidMount() {\n        let teacherDutyIdMatch = this.props.location.search.match(/teacher_duty=([^&]+)/);\n        if(teacherDutyIdMatch) {\n            let teacherDutyId = teacherDutyIdMatch[1];\n            this.props.teacherDutyStore.get(teacherDutyId, true).then(tod => {\n                if(tod){\n                    this.setState({data: tod, error: tod.error});\n                }\n            })\n        }\n    }\n\n    submit = (data) => {\n        return this.props.teacherDutyStore.create(data).then( tod => {\n            this.setState({error: {}, data: tod})\n            return tod;\n        }, error => {\n            this.setState({error});\n            return Promise.reject(error);\n        })\n    }\n\n    cancel = () => {\n        let teacherDutyIdMatch = this.props.location.search.match(/teacher_duty=([^&]+)/);\n        if(teacherDutyIdMatch) {\n            let teacherDutyId = teacherDutyIdMatch[1];\n            return this.props.teacherDutyStore.cancel(teacherDutyId);\n        }\n    }\n\n    close = () => {\n        this.props.history.push('/school/teachers/tod');\n    }\n    render() {\n        return <TodForm data={this.state.data} error={this.state.error} submit={this.submit} cancel={this.cancel} close={this.close} />\n    }\n}\n\n@inject('teacherDutyStore')\nexport class EditTod extends Component {\n    state = { error: {}, data: {} };\n\n    componentDidMount() {\n    if(this.props.location.state && this.props.location.state.tod){\n        this.setState({data: this.props.location.state.tod})\n    }else if(this.props.match.params.id){\n        this.props.teacherDutyStore.get(this.props.match.params.id).then(tod => {\n            this.setState({data: tod, error: (tod.error || {})});\n        },error=>this.setState({error}))\n    }\n    \n  }\n\n    submit = (data) => {\n        return this.props.teacherDutyStore.update(data).then( tod => {\n            this.setState({error: {}, data: tod})\n            return tod;\n        }, error => {\n            this.setState({error});\n            return Promise.reject(error);\n        })\n    }\n\n    delete = () => {\n        return this.props.teacherDutyStore.delete(this.props.match.params.id);\n    }\n\n    cancel = () => {\n        return this.props.teacherDutyStore.cancel(this.props.match.params.id);\n    }\n\n    close = () => {\n        this.props.history.push('/school/teachers/tod');\n    }\n\n    render() {\n        return <TodForm edit={true} error={this.state.error} data={this.state.data} submit={this.submit} delete={this.delete} cancel={this.cancel} close={this.close} />\n    }\n}","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport DataTable from '../components/DataTable';\nimport DateInput from '../components/DateInput';\nimport getCookie from '../utils/getCookie';\n\nexport default class TeacherAttendance extends Component {\n  dateRef = React.createRef();\n  state = { date: '' };\n  dataTable = null;\n  constructor(props) {\n    super(props);\n    const self = this;\n    this.dataTable = React.createRef()\n    this.dataTableConfig = {\n      serverSide: true,\n      processing: true,\n      ajax: function(params, callback, settings) {\n        axios.get('/api/teachers/attendance', {params: {params}}).then(response=>{\n          callback(response.data);\n        })\n      },\n      columns: [\n        { data: 'firstname', name: 'firstname', 'class': 'text-center'},\n        { data: 'lastname', name: 'lastname', 'class': 'text-center'},\n        { data: null, 'class': 'text-center', render: function(data,type,row) {\n          let checked = data.date ? \" checked='' \" : ''\n          return `<span>\n              <div class=\"bootstrap-switch bootstrap-switch-wrapper bootstrap-switch-animate bootstrap-switch-${data.date ? 'on': 'off'}\" style=\"width: 72px;\"><div class=\"bootstrap-switch-container\" style=\"width: 122px; margin-left: 0px;\"><span class=\"bootstrap-switch-handle-on bootstrap-switch-info\" style=\"width: 50px;\"><i class=\"fa fa-check\"></i></span><span class=\"bootstrap-switch-label\" style=\"width: 30px;\">&nbsp;</span><span class=\"bootstrap-switch-handle-off bootstrap-switch-info\" style=\"width: 50px;\"><i class=\"fa fa-times\"></i></span><input type=\"checkbox\" checked=\"\" data-toggle=\"switch\" data-on-color=\"info\" data-off-color=\"info\" data-on-text=\"<i class='fa fa-check'></i>\" data-off-text=\"<i class='fa fa-times'></i>\"></div></div>\n            </span>`\n        }}\n      ],\n    };\n  }\n\n  dateChanged = (event) => {\n    this.setState({date: event.target.value}, this.filterChanged);\n  }\n\n  filterChanged = () => {\n    this.dataTable.current.draw();\n  }\n\n\trender() {\n\t\tlet match = this.props.match;\n\n    let {classes} = this.state;\n    let streams = null;\n\n    if(classes) {\n      let selectedClass = classes.find( (cls) => cls.id == this.state.class_id );\n      if(selectedClass) {\n        streams = selectedClass.streams;\n      }\n    }\n\n\t\treturn <div className=\"container-fluid\">\n      <DataTable ref={this.dataTable} title=\"Teachers Attendance\" config={this.dataTableConfig} toolbar={\n        <>\n        <div className=\"d-flex justify-content-center col-12\">\n          <div className=\"col-6\">\n            <DateInput onChange={this.dateChanged} className=\"form-control datepicker\" placeholder=\"Enter Date\" />\n          </div>\n        </div>\n        </>\n      }>\n        <th>Firstname</th>\n        <th>Lastname</th>\n        <th>Attendance</th>\n      </DataTable>\n\t\t</div>\n\n\t}\n}\n","import React, { Component } from 'react';\nimport lodash from 'lodash';\nimport $ from 'jquery';\n\nimport Tabledit from '../components/Tabledit';\nimport DateInput from '../components/DateInput';\nimport ShowNotification from './ShowNotification';\nimport confirmAction from '../utils/confirmAction';\n\n\nexport default class TeacherAssessmentForm extends Component {\n    state = { error: {}, data: {report: {}}, value: 3 };\n    submitButton = React.createRef();\n\n    componentDidMount() {\n    \tthis.submitAction = this.save;\n    }\n\n    componentDidUpdate(prevProps,prevState) {\n        if(!lodash.isEqual(this.props.data, prevProps.data)){\n            let data = this.props.data;\n            data.report = data.report ? Array.isArray(data.report) ? {} : data.report : {};\n            this.setState({data: {...this.state.data,...data}})\n        }\n        if(!lodash.isEqual(this.props.error,prevProps.error)){\n            this.setState({error: {...this.state.error,...this.props.error}})\n        }\n    }\n\n    delete = () => {\n        confirmAction( () => {\n            return this.props.delete().then(res=>{\n                this.props.close();\n                return {success: 'Deleted!', succes_text: 'Assessment was deleted'};\n            }, error => {\n                throw {error: \"Assessment couldn't be deleted.\"};\n            })\n        }, {loading_title: 'Deleting...', loading_text: 'Deleting Assessment', canceled: \"Deleting Assessment Operation Cancelled\", consequence: 'Assessment information will be lost'});\n    }\n\n    save = () => {\n        this.submit().then(()=>{this.props.close();});\n    }\n\n    apply = () => {\n        this.submit().then(()=>{});\n    }\n\n    submit = () => {\n        let data = this.state.data;\n        this.setState({loading: true});\n        return this.props.submit(data).then( res => {\n            if(this.props.edit) {\n                ShowNotification(\"Assessment Successfully Edited\", \"success\", \"nc-check-2\");\n            }else {\n                ShowNotification(\"Assessment Created Successfully\", \"success\", \"nc-check-2\");\n            }\n        }, error => {\n            this.setState({error});\n            return Promise.reject(error);\n        }).finally(_=>this.setState({loading:false}));\n    }\n\n    close = () => {\n        this.props.close();\n    }\n\n    cancel = () => {\n        let cancelAsync = async () => this.props.cancel();\n        if(lodash.isEmpty(this.props.data) || (!this.props.data.__meta_pending && lodash.isEqual(this.props.data, this.state.data))) {\n            this.props.close();\n            return;\n        }\n        confirmAction( () => {\n            return cancelAsync().then(res=>{\n                this.props.close();\n                return {success: 'Cancelled!', succes_text: 'Teacher Assessment entry was cancelled'};\n            }, error => {\n                throw {error: \"Teacher Assessment entry couldn't be removed.\"};\n            })\n        }, {loading_title: 'Deleting...', loading_text: 'Cancelling entry', canceled: \"\", consequence: 'Entered information will be discarded'});\n    }\n\n    inputChanged = (event) => {\n        let field = event.target.name;\n        let value = event.target.value;\n        this.setState(state=>(state.data[field] = value,state));\n    }\n\n    updateStandards = (standards) => {\n        this.setState(state=>(state.data.report['standards'] = standards,state));\n    }\n\n    updateProgress = (progress) => {\n        this.setState(state=>(state.data.report['progress'] = progress,state));\n    }\n\n    updateAttendance = (attendance) => {\n        this.setState(state=>(state.data.report['attendance'] = attendance,state));\n    }\n\n    updateAppraiserRemarks = (appraiserRemarks) => {\n        this.setState(state=>(state.data.report['appraiserRemarks'] = appraiserRemarks,state));\n    }\n\n    updateDevelopment = (development) => {\n        this.setState(state=>(state.data.report['development'] = development,state));\n    }\n\n    updateOthers = (event) => {\n        let field = event.target.name;\n        let value = event.target.value;\n        this.setState(state=>(state.data.report[field] = value,state));\n    }\n\n    formSubmitButton = (event) => {\n    \tswitch(event.target.name) {\n    \t\tcase 'save':\n    \t\t\tthis.submitAction = this.save;\n    \t\t\tbreak;\n    \t\tcase 'apply':\n    \t\t\tthis.submitAction = this.apply;\n    \t\t\tbreak;\n    \t}\n    \tthis.submitButton.current.click();\n    }\n\n    formSubmit = (event) => {\n    \tconsole.log('submitting');\n    \tevent.preventDefault();\n    \tthis.submitAction();\n    }\n\n    render() {\n        let columnsStandards = {\n            identifier: [0, 'id'],\n            editable: [[2, '0'], [3, '1'], [4, '2'], [5, '3'], [6, '4'], [7, '5'], [8, '6'], [9, '7'], [10, '8']]\n        };\n        let columnsProgress = {\n            identifier: [0, 'id'],\n            editable: [[1, '0'], [2, '1'], [3, '2'], [4, '3'], [5, '4'], [6, '5'], [7, '6'], [8, '7'], [9, '8']]\n        };\n        let columnsAttendance = {\n            identifier: [0, 'id'],\n            editable: [[2, '0'], [3, '1'], [4, '2'], [5, '3'], [6, '4'], [7, '5'], [8, '6'], [9, '7']]\n        };\n        let columnsAppraiserRemarks = {\n            identifier: [0, 'id'],\n            editable: [[2, '0'], [3, '1'], [4, '2'], [5, '3']]\n        };\n\n        let columnsDevelopment = {\n            identifier: [0, 'id'],\n            editable: [[2, '0'], [3, '1']]\n        };\n\n        let data = this.state.data.report;\n        let standards = data.standards || {};\n        let progress = data.progress || {};\n        let attendance = data.attendance || {};\n        let appraiserRemarks = data.appraiserRemarks || {};\n        let development = data.development || {};\n\n        let error = this.state.error || {};\n        let tscInvalid='', designationInvalid='', institutionInvalid='', zoneInvalid='', subCountyInvalid='', countyInvalid='', fromInvalid='', toInvalid='';\n        if(error.errors) {\n            tscInvalid = error.errors.tsc ? 'is-invalid' : '';\n            designationInvalid = error.errors.designation ? 'is-invalid' : '';\n            institutionInvalid = error.errors.institution ? 'is-invalid' : '';\n            zoneInvalid = error.errors.zone ? 'is-invalid' : '';\n            subCountyInvalid = error.errors.sub_county ? 'is-invalid' : '';\n            countyInvalid = error.errors.county ? 'is-invalid' : '';\n            fromInvalid = error.errors.from ? 'is-invalid' : '';\n            toInvalid = error.errors.to ? 'is-invalid' : '';\n        }\n\n        return <div className=\"container-fluid\">\n            <div className=\"row\">\n                <div className=\"card stacked-form col-12\">\n                    <div className=\"card-header \">\n                        <h4 className=\"card-title\">\n                            Assessment\n                            <div className=\"pull-right\">\n                                <button type=\"button\" disabled={this.state.loading} name=\"save\" className=\"btn btn-success\" onClick={this.formSubmitButton} >Save</button>\n                                &nbsp;\n                                {this.props.edit && <button type=\"button\" disabled={this.state.loading} name=\"apply\" className=\"btn btn-primary\" onClick={this.formSubmitButton} >Apply</button>}\n                                &nbsp;\n                                <button type=\"button\" disabled={this.state.loading} className=\"btn btn-secondary\" onClick={this.cancel} >Cancel</button>\n                                &nbsp;\n                                {this.props.edit && <button type=\"button\" disabled={this.state.loading} className=\"btn btn-danger\" onClick={this.delete} >Delete</button>}\n                            </div>\n                        </h4>\n                    </div>\n                    <div className=\"card-body \">\n                        <form onSubmit={this.formSubmit}>\n                            {error.message && <div className=\"alert alert-danger\">\n                                <span>\n                                    <b> Error - </b> {error.message}\n                                </span>\n                            </div>}\n                            <div className=\"row\">\n                                <div className=\"form-group col-sm-6 row\">\n                                    <label className=\"col-sm-6 col-form-label\">TSC NUMBER</label>\n                                    <div className=\"col-6\">\n                                        <input type=\"text\" value={this.state.data.tsc || ''} onChange={this.inputChanged} name=\"tsc\" placeholder=\"TSC NO\" className={`form-control ${tscInvalid}`} required />\n                                        {tscInvalid && error.errors.tsc.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n                                    </div>\n                                </div>\n                                <div className=\"form-group col-sm-6 row\">\n                                    <label className=\"col-sm-6 col-form-label\">Designation</label>\n                                    <div className=\"col-6\">\n                                        <input type=\"text\" value={this.state.data.designation || ''} onChange={this.inputChanged} name=\"designation\" placeholder=\"Designation\" className={`form-control ${designationInvalid}`} required />\n                                        {designationInvalid && error.errors.designation.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n                                    </div>\n                                </div>\n                                <div className=\"form-group col-sm-6 row\">\n                                    <label className=\"col-sm-6 col-form-label\">Institution</label>\n                                    <div className=\"col-6\">\n                                        <input type=\"text\" value={this.state.data.institution || ''} onChange={this.inputChanged} name=\"institution\" placeholder=\"Institution\" className={`form-control ${institutionInvalid}`} required />\n                                        {institutionInvalid && error.errors.institution.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n                                    </div>\n                                </div>\n                                <div className=\"form-group col-sm-6 row\">\n                                    <label className=\"col-sm-6 col-form-label\">Zone</label>\n                                    <div className=\"col-6\">\n                                        <input type=\"text\" value={this.state.data.zone || ''} onChange={this.inputChanged} name=\"zone\" placeholder=\"Zone\" className={`form-control ${zoneInvalid}`} required />\n                                        {zoneInvalid && error.errors.zone.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n                                    </div>\n                                </div>\n                                <div className=\"form-group col-sm-6  row\">\n                                    <label className=\"col-sm-6 col-form-label\">Sub County</label>\n                                    <div className=\"col-6\">\n                                        <input type=\"text\" value={this.state.data.sub_county || ''} onChange={this.inputChanged} name=\"sub_county\" placeholder=\"Sub County\" className={`form-control ${subCountyInvalid}`} required />\n                                        {subCountyInvalid && error.errors.sub_county.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n                                    </div>\n                                </div>\n                                <div className=\"form-group col-sm-6 row\">\n                                    <label className=\"col-sm-6 col-form-label\">County</label>\n                                    <div className=\"col-6\">\n                                        <input type=\"text\" value={this.state.data.county || ''} onChange={this.inputChanged} name=\"county\" placeholder=\"County\" className={`form-control ${countyInvalid}`} required />\n                                        {countyInvalid && error.errors.county.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n                                    </div>\n                                </div>\n\n                                <div className=\"form-group col-sm-6 row\">\n                                    <label className=\"col-sm-6 col-form-label\">Period From</label>\n                                    <div className=\"col-6\">\n                                        <DateInput type=\"text\" value={this.state.data.from || ''} onChange={this.inputChanged} name=\"from\" placeholder=\"From\" className={`form-control ${fromInvalid}`} required />\n                                        {fromInvalid && error.errors.from.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n                                    </div>\n                                </div>\n                                <div className=\"form-group col-sm-6 row\">\n                                    <label className=\"col-sm-6 col-form-label\">Period To</label>\n                                    <div className=\"col-6\">\n                                        <DateInput type=\"text\" value={this.state.data.to || ''} onChange={this.inputChanged} name=\"to\" placeholder=\"To\" className={`form-control ${toInvalid}`} required />\n                                        {toInvalid && error.errors.to.map((value,index) => <span key={index} className=\"invalid-feedback\" role=\"alert\"><strong>{value}</strong></span>)}\n                                    </div>\n                                </div>\n\n                            </div>\n                            <input ref={this.submitButton} type=\"submit\" className=\"invisible\" />\n                        </form>\n                    </div>\n                </div>\n            </div>\n\n            <div className=\"bg-white\">\n                <Tabledit className=\"table table-bordered\" data={standards} columns={columnsStandards} update={this.updateStandards} >\n                    <thead>\n                        <tr>\n                            <th rowSpan=\"3\"></th>\n                            <th rowSpan=\"3\">TEACHING STANDARDS</th>\n                            <th colSpan=\"9\">Rating</th>\n                        </tr>\n                        <tr>\n                            <th colSpan=\"3\">Appraisee Rating</th>\n                            <th colSpan=\"3\">Appraisee Rating</th>\n                            <th colSpan=\"3\">Appraisee Rating</th>\n                        </tr>\n                        <tr>\n                            <th>Term 1</th>\n                            <th>Term 2</th>\n                            <th>Term 3</th>\n                            <th>Term 1</th>\n                            <th>Term 2</th>\n                            <th>Term 3</th>\n                            <th>Term 1</th>\n                            <th>Term 2</th>\n                            <th>Term 3</th>\n                        </tr>\n\n                    </thead>\n                    <tbody>\n                        <tr>\n                            <td>1</td>\n                            <td>Professional knowledge and Application (30 marks, maximum\n            5 Targets)</td>\n                            {(new Array(9)).fill(0).map( (value, index) => <td key={index} >{standards[0]&&standards[0][index]}</td> )}\n                        </tr>\n                        <tr>\n                            <td>2</td>\n                            <td>Time Management (10 marks, maximum\n            2 Targets)</td>\n                            {(new Array(9)).fill(0).map( (value, index) => <td key={index} >{standards[1]&&standards[1][index]}</td> )}\n                        </tr>\n                        <tr>\n                            <td>3</td>\n                            <td>Innovation and creativity in teaching (10 marks, maximum\n            2 Targets)</td>\n                            {(new Array(9)).fill(0).map( (value, index) => <td key={index} >{standards[2]&&standards[2][index]}</td> )}\n                        </tr>\n                        <tr>\n                            <td>4</td>\n                            <td>Learner protection, safety, discipline and teacher conduct (15 marks, maximum\n            3 Targets)</td>\n                            {(new Array(9)).fill(0).map( (value, index) => <td key={index} >{standards[3]&&standards[3][index]}</td> )}\n                        </tr>\n                        <tr>\n                            <td>5</td>\n                            <td>Promotion of Co-curricular activities (10 marks, maximum\n            2 Targets)</td>\n                            {(new Array(9)).fill(0).map( (value, index) => <td key={index} >{standards[4]&&standards[4][index]}</td> )}\n                        </tr>\n                        <tr>\n                            <td>6</td>\n                            <td>Professional Development (15 marks, maximum\n            3 Targets)</td>\n                            {(new Array(9)).fill(0).map( (value, index) => <td key={index} >{standards[5]&&standards[5][index]}</td> )}\n                        </tr>\n                        <tr>\n                            <td>7</td>\n                            <td>Collaboration witd parents/guardians and stakeholders (10 marks, maximum\n            2 Targets)</td>\n                            {(new Array(9)).fill(0).map( (value, index) => <td key={index} >{standards[6]&&standards[6][index]}</td> )}\n                        </tr>\n                    </tbody>\n                </Tabledit>\n            </div>\n\n\n            <div className=\"bg-white\">\n                <h2>Annual Learners’ Progress Record for all Subjects (Value addition and improvement index)</h2>\n                <Tabledit className=\"table table-bordered\" data={progress} columns={columnsProgress} update={this.updateProgress} >\n                    <thead>\n                        <tr>\n                            <th rowSpan=\"2\">Subject</th>\n                            <th rowSpan=\"2\">Class/Form</th>\n                            <th rowSpan=\"2\">Entry Grade/Mean Score from previous year</th>\n                            <th rowSpan=\"2\">Annual Target</th>\n                            <th colSpan=\"2\">Term 1</th>\n                            <th colSpan=\"2\">Term 2</th>\n                            <th colSpan=\"2\">Term 3</th>\n                        </tr>\n                        <tr>\n                            <th>Grade/Mean score</th>\n                            <th>Deviation(-/+)</th>\n                            <th>Grade/Mean score</th>\n                            <th>Deviation(-/+)</th>\n                            <th>Grade/Mean score</th>\n                            <th>Deviation(-/+)</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr>\n                            <td>1</td>\n                            {(new Array(9)).fill(0).map( (value, index) => <td key={index} >{progress[0]&&progress[0][index]}</td> )}\n                        </tr>\n                        <tr>\n                            <td>2</td>\n                            {(new Array(9)).fill(0).map( (value, index) => <td key={index} >{progress[1]&&progress[1][index]}</td> )}\n                        </tr>\n                        <tr>\n                            <td>3</td>\n                            {(new Array(9)).fill(0).map( (value, index) => <td key={index} >{progress[2]&&progress[2][index]}</td> )}\n                        </tr>\n                        <tr>\n                            <td>4</td>\n                            {(new Array(9)).fill(0).map( (value, index) => <td key={index} >{progress[3]&&progress[3][index]}</td> )}\n                        </tr>\n                        <tr>\n                            <td>5</td>\n                            {(new Array(9)).fill(0).map( (value, index) => <td key={index} >{progress[4]&&progress[4][index]}</td> )}\n                        </tr>\n                        <tr>\n                            <td>6</td>\n                            {(new Array(9)).fill(0).map( (value, index) => <td key={index} >{progress[5]&&progress[5][index]}</td> )}\n                        </tr>\n                    </tbody>\n                </Tabledit>\n            </div>\n\n\n            <div className=\"bg-white\">\n                <h2>Lesson Attendance</h2>\n                <Tabledit className=\"table table-bordered\" data={attendance} columns={columnsAttendance} update={this.updateAttendance} >\n                    <thead>\n                        <tr>\n                            <th>#</th>\n                            <th></th>\n                            <th>Total number of lessons to be taught</th>\n                            <th>Actual number of lessons taught</th>\n                            <th>Percentage of lessons taught</th>\n                            <th>Actual number of lessons not taught</th>\n                            <th>Percentage of lessons not taught</th>\n                            <th>Number of lessons recovered</th>\n                            <th>Number of lessons not recovered</th>\n                            <th>Remarks</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr>\n                            <td>1</td>\n                            <td>Term 1</td>\n                            {(new Array(8)).fill(0).map( (value, index) => <td key={index} >{attendance[0]&&attendance[0][index]}</td> )}\n                        </tr>\n                        <tr>\n                            <td>2</td>\n                            <td>Term 2</td>\n                            {(new Array(8)).fill(0).map( (value, index) => <td key={index} >{attendance[1]&&attendance[1][index]}</td> )}\n                        </tr>\n                        <tr>\n                            <td>3</td>\n                            <td>Term 3</td>\n                            {(new Array(8)).fill(0).map( (value, index) => <td key={index} >{attendance[2]&&attendance[2][index]}</td> )}\n                        </tr>\n                        <tr>\n                            <td>4</td>\n                            <td>Total</td>\n                            {(new Array(8)).fill(0).map( (value, index) => <td key={index} >{attendance[3]&&attendance[3][index]}</td> )}\n                        </tr>\n                    </tbody>\n                </Tabledit>\n            </div>\n\n\n            <div className=\"bg-white\">\n                <h2>Appraisee/Appraiser’s Remarks</h2>\n                <Tabledit className=\"table table-bordered\" data={appraiserRemarks} columns={columnsAppraiserRemarks} update={this.updateAppraiserRemarks}>\n                    <thead>\n                        <tr>\n                            <th>#</th>\n                            <th></th>\n                            <th>Appraisee's Remarks</th>\n                            <th>Sign/date</th>\n                            <th>Appraiser's Remarks</th>\n                            <th>Sign/date</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr>\n                            <td>1</td>\n                            <td>Term 1</td>\n                            {(new Array(4)).fill(0).map( (value, index) => <td key={index} >{appraiserRemarks[0]&&appraiserRemarks[0][index]}</td> )}\n                        </tr>\n                        <tr>\n                            <td>2</td>\n                            <td>Term 2</td>\n                            {(new Array(4)).fill(0).map( (value, index) => <td key={index} >{appraiserRemarks[1]&&appraiserRemarks[1][index]}</td> )}\n                        </tr>\n                        <tr>\n                            <td>3</td>\n                            <td>Term 3</td>\n                            {(new Array(4)).fill(0).map( (value, index) => <td key={index} >{appraiserRemarks[2]&&appraiserRemarks[2][index]}</td> )}\n                        </tr>\n                    </tbody>\n                </Tabledit>\n            </div>\n\n\n            <div className=\"bg-white\">\n                <h2>Teacher Development</h2>\n                <Tabledit className=\"table table-bordered\" data={development} columns={columnsDevelopment} update={this.updateDevelopment} >\n                    <thead>\n                        <tr>\n                            <th>#</th>\n                            <th></th>\n                            <th>Achievements</th>\n                            <th>Remarks</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr>\n                            <td>1</td>\n                            <td>Term 1</td>\n                            {(new Array(2)).fill(0).map( (value, index) => <td key={index} >{development[0]&&development[0][index]}</td> )}\n                        </tr>\n                        <tr>\n                            <td>2</td>\n                            <td>Term 2</td>\n                            {(new Array(2)).fill(0).map( (value, index) => <td key={index} >{development[1]&&development[1][index]}</td> )}\n                        </tr>\n                        <tr>\n                            <td>3</td>\n                            <td>Term 3</td>\n                            {(new Array(2)).fill(0).map( (value, index) => <td key={index} >{development[2]&&development[2][index]}</td> )}\n                        </tr>\n                    </tbody>\n                </Tabledit>\n            </div>\n\n\n            <div className=\"bg-white\">\n                <div className=\"form\">\n                    <h2>Appraiser’s overall comments for the appraisal year</h2>\n                    <div className=\"form-group\">\n                    <label>Comments: </label>\n                    <textarea value={data.appraiser_comments} onChange={this.updateOthers} name=\"appraiser_comments\" type=\"text\" placeholder=\"Appraiser’s overall comments for the appraisal year\" className=\"form-control\"></textarea>\n                    <span className=\"invalid-feedback\" role=\"alert\"><strong>Error</strong></span>\n                        <p className=\"help-block help-block-error\"></p>\n                  </div>\n                </div>\n                <div className=\"form\">\n                    <h2>COUNTERSIGNING</h2>\n                    <div className=\"form-group\">\n                    <label>Remarks: </label>\n                    <textarea value={data.countersigning_remarks} onChange={this.updateOthers} name=\"countersigning_remarks\" type=\"text\" placeholder=\"Countersigning officer’s Remarks on the appraisal process and appraisees’ suitability for promotion\" className=\"form-control\"></textarea>\n                    <span className=\"invalid-feedback\" role=\"alert\"><strong>Error</strong></span>\n                        <p className=\"help-block help-block-error\"></p>\n                  </div>\n\n                  <div className=\"row\">\n                    <div className=\"form-group col-sm-3\">\n                        <label>Countersigning Name: </label>\n                        <input value={data.countersigning_name} onChange={this.updateOthers} name=\"countersigning_name\" type=\"text\" placeholder=\"Countersigning Name\" className=\"form-control\" />\n                        <span className=\"invalid-feedback\" role=\"alert\"><strong>Error</strong></span>\n                            <p className=\"help-block help-block-error\"></p>\n                      </div>\n                      <div className=\"form-group col-sm-3\">\n                        <label>TSC NO: </label>\n                        <input value={data.countersigning_tsc} onChange={this.updateOthers} name=\"countersigning_tsc\" type=\"text\" placeholder=\"TSC NO\" className=\"form-control\" />\n                        <span className=\"invalid-feedback\" role=\"alert\"><strong>Error</strong></span>\n                            <p className=\"help-block help-block-error\"></p>\n                      </div>\n                      <div className=\"form-group col-sm-3\">\n                        <label>Designation: </label>\n                        <input value={data.countersigning_designation} onChange={this.updateOthers} name=\"countersigning_designation\" type=\"text\" placeholder=\"Designation\" className=\"form-control\" />\n                        <span className=\"invalid-feedback\" role=\"alert\"><strong>Error</strong></span>\n                            <p className=\"help-block help-block-error\"></p>\n                      </div>\n                      <div className=\"form-group col-sm-3\">\n                        <label>Date: </label>\n                        <input value={data.countersigning_date} onChange={this.updateOthers} name=\"countersigning_date\" type=\"text\" placeholder=\"Date\" className=\"form-control\" />\n                        <span className=\"invalid-feedback\" role=\"alert\"><strong>Error</strong></span>\n                            <p className=\"help-block help-block-error\"></p>\n                      </div>\n                  </div>\n\n                </div>\n            </div>\n\n\n            <div className=\"bg-white\">\n                <div className=\"form\">\n                <h2>ARBITRATION</h2>\n                <div className=\"form-group\">\n                <label>Appraisee’s/Appraiser’s Comments: </label>\n                <textarea value={data.arbitration_disagrement} onChange={this.updateOthers} name=\"arbitration_disagrement\" type=\"text\" placeholder=\"areas of disagreement\" className=\"form-control\"></textarea>\n                <span className=\"invalid-feedback\" role=\"alert\"><strong>Error</strong></span>\n                    <p className=\"help-block help-block-error\"></p>\n              </div>\n              <div className=\"form-group\">\n                <label>Arbitrator: </label>\n                <textarea value={data.arbitration_agrement} onChange={this.updateOthers} name=\"arbitration_agrement\" type=\"text\" placeholder=\"agreement\" className=\"form-control\"></textarea>\n                <span className=\"invalid-feedback\" role=\"alert\"><strong>Error</strong></span>\n                    <p className=\"help-block help-block-error\"></p>\n              </div>\n\n              <div className=\"row\">\n                <div className=\"form-group col-sm-3\">\n                    <label>Arbitrator Name: </label>\n                    <input value={data.arbitrator1_name} onChange={this.updateOthers} name=\"arbitrator1_name\" type=\"text\" placeholder=\"Arbitrator Name\" className=\"form-control\" />\n                    <span className=\"invalid-feedback\" role=\"alert\"><strong>Error</strong></span>\n                        <p className=\"help-block help-block-error\"></p>\n                  </div>\n                  <div className=\"form-group col-sm-3\">\n                    <label>TSC NO: </label>\n                    <input value={data.arbitrator1_tsc} onChange={this.updateOthers} name=\"arbitrator1_tsc\" type=\"text\" placeholder=\"TSC NO\" className=\"form-control\" />\n                    <span className=\"invalid-feedback\" role=\"alert\"><strong>Error</strong></span>\n                        <p className=\"help-block help-block-error\"></p>\n                  </div>\n                  <div className=\"form-group col-sm-3\">\n                    <label>Designation: </label>\n                    <input value={data.arbitrator1_designation} onChange={this.updateOthers} name=\"arbitrator1_designation\" type=\"text\" placeholder=\"Designation\" className=\"form-control\" />\n                    <span className=\"invalid-feedback\" role=\"alert\"><strong>Error</strong></span>\n                        <p className=\"help-block help-block-error\"></p>\n                  </div>\n                  <div className=\"form-group col-sm-3\">\n                    <label>Date: </label>\n                    <input value={data.arbitrator1_date} onChange={this.updateOthers} name=\"arbitrator1_date\" type=\"text\" placeholder=\"Date\" className=\"form-control\" />\n                    <span className=\"invalid-feedback\" role=\"alert\"><strong>Error</strong></span>\n                        <p className=\"help-block help-block-error\"></p>\n                  </div>\n              </div>\n\n              <div className=\"row\">\n                <div className=\"form-group col-sm-3\">\n                    <label>Arbitrator Name: </label>\n                    <input value={data.arbitrator2_name} onChange={this.updateOthers} name=\"arbitrator2_name\" type=\"text\" placeholder=\"Arbitrator Name\" className=\"form-control\" />\n                    <span className=\"invalid-feedback\" role=\"alert\"><strong>Error</strong></span>\n                        <p className=\"help-block help-block-error\"></p>\n                  </div>\n                  <div className=\"form-group col-sm-3\">\n                    <label>TSC NO: </label>\n                    <input value={data.arbitrator2_tsc} onChange={this.updateOthers} name=\"arbitrator2_tsc\" type=\"text\" placeholder=\"TSC NO\" className=\"form-control\" />\n                    <span className=\"invalid-feedback\" role=\"alert\"><strong>Error</strong></span>\n                        <p className=\"help-block help-block-error\"></p>\n                  </div>\n                  <div className=\"form-group col-sm-3\">\n                    <label>Designation: </label>\n                    <input value={data.arbitrator2_designation} onChange={this.updateOthers} name=\"arbitrator2_designation\" type=\"text\" placeholder=\"Designation\" className=\"form-control\" />\n                    <span className=\"invalid-feedback\" role=\"alert\"><strong>Error</strong></span>\n                        <p className=\"help-block help-block-error\"></p>\n                  </div>\n                  <div className=\"form-group col-sm-3\">\n                    <label>Date: </label>\n                    <input value={data.arbitrator2_date} onChange={this.updateOthers} name=\"arbitrator2_date\" type=\"text\" placeholder=\"Date\" className=\"form-control\" />\n                    <span className=\"invalid-feedback\" role=\"alert\"><strong>Error</strong></span>\n                        <p className=\"help-block help-block-error\"></p>\n                  </div>\n              </div>\n\n              <div className=\"row\">\n                <div className=\"form-group col-sm-3\">\n                    <label>Arbitrator Name: </label>\n                    <input value={data.arbitrator3_name} onChange={this.updateOthers} name=\"arbitrator3_name\" type=\"text\" placeholder=\"Arbitrator Name\" className=\"form-control\" />\n                    <span className=\"invalid-feedback\" role=\"alert\"><strong>Error</strong></span>\n                        <p className=\"help-block help-block-error\"></p>\n                  </div>\n                  <div className=\"form-group col-sm-3\">\n                    <label>TSC NO: </label>\n                    <input value={data.arbitrator3_tsc} onChange={this.updateOthers} name=\"arbitrator3_tsc\" type=\"text\" placeholder=\"TSC NO\" className=\"form-control\" />\n                    <span className=\"invalid-feedback\" role=\"alert\"><strong>Error</strong></span>\n                        <p className=\"help-block help-block-error\"></p>\n                  </div>\n                  <div className=\"form-group col-sm-3\">\n                    <label>Designation: </label>\n                    <input value={data.arbitrator3_designation} onChange={this.updateOthers} name=\"arbitrator3_designation\" type=\"text\" placeholder=\"Designation\" className=\"form-control\" />\n                    <span className=\"invalid-feedback\" role=\"alert\"><strong>Error</strong></span>\n                        <p className=\"help-block help-block-error\"></p>\n                  </div>\n                  <div className=\"form-group col-sm-3\">\n                    <label>Date: </label>\n                    <input value={data.arbitrator3_date} onChange={this.updateOthers} name=\"arbitrator3_date\" type=\"text\" placeholder=\"Date\" className=\"form-control\" />\n                    <span className=\"invalid-feedback\" role=\"alert\"><strong>Error</strong></span>\n                        <p className=\"help-block help-block-error\"></p>\n                  </div>\n              </div>\n\n            </div>\n            </div>\n\n\n        </div>\n    }\n}","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { inject } from 'mobx-react';\nimport $ from 'jquery';\n\nimport TeacherAssessmentForm from '../components/TeacherAssessmentForm';\nimport DataTable from '../components/DataTable';\nimport Tabledit from '../components/Tabledit';\nimport getCookie from '../utils/getCookie';\n\n@inject('teacherStore')\nexport default class TeachersAssessmentList extends Component {\n    constructor(props) {\n        super(props);\n        window.teacherAssessmentActionList = this.showAssessment;\n        const self = this;\n        this.dataTable = React.createRef();\n        this.dataTableConfig = {\n            serverSide: false,\n            processing: false,\n            ajax : function (params, callback, settings) {\n                self.props.teacherStore.list(params,true).then(teachers=>{\n                    callback({data: teachers});\n                })\n            },\n            columns: [\n                { data: 'teacher_no', name: 'teacher_no', 'className': 'text-center'},\n                { data: 'firstname', name: 'firstname', 'className': 'text-center'},\n                { data: 'lastname', name: 'lastname', 'className': 'text-center'},\n                { data: null, 'className': 'text-center', render: function(data,type,row) {\n                    return `<span>\n                      <a onclick=\"teacherAssessmentActionList('${data.id}')\" class=\"btn btn-link btn-warning details\"><i class=\"nc-icon nc-bullet-list-67 icon-bold\"></i></a>\n                  </span>`\n                }}\n            ],\n            createdRow: function (row, data, index) {\n                if(data.date_left) {\n                    row.classList.add('table-danger');\n                }\n            }\n        };\n    }\n\n    showAssessment = (teacher) => {\n        this.props.history.push(`${this.props.match.url}/${teacher}`);\n    }\n\n\trender() {\n\t\tlet match = this.props.match;\n\t\treturn <div className=\"container-fluid\">\n            <DataTable ref={this.dataTable} title=\"Teachers Assessment\" config={this.dataTableConfig}>\n                <th>Teacher's No</th>\n                <th>Firstname</th>\n                <th>Lastname</th>\n                <th className=\"disabled-sorting text-center noExport\">Actions</th>\n            </DataTable>\n\t\t</div>\n\n\t}\n}\n\n@inject('teacherAssessmentStore')\n@inject('teacherStore')\nexport class TeacherAssessmentList extends Component {\n    constructor(props) {\n        super(props);\n        window.teacherAssessmentActionEdit = this.edit;\n        const self = this;\n        this.state = {teachers: []};\n        this.dataTable = React.createRef();\n        this.dataTableConfig = {\n            serverSide: false,\n            processing: false,\n            ajax : function (params, callback, settings) {\n                params['teacher_id'] = self.props.match.params.teacherId\n                self.props.teacherAssessmentStore.list(params,true, true).then(assessments=>{\n                    callback({data: assessments});\n                })\n            },\n            columns: [\n                { data: 'teacher_no', name: 'teacher_no', 'className': 'text-center', render: (data,type,row) => data || ''},\n                { data: 'tsc', name: 'tsc', 'className': 'text-center'},\n                { data: 'firstname', name: 'firstname', 'className': 'text-center', render: (data,type,row) => data || ''},\n                { data: 'lastname', name: 'lastname', 'className': 'text-center', render: (data,type,row) => data || ''},\n                { data: 'from', name: 'from', 'className': 'text-center', render: (data,type,row) => (new Date(data)).toDateString() },\n                { data: 'to', name: 'to', 'className': 'text-center', render: (data,type,row) => (new Date(data)).toDateString() },\n                { data: null, 'className': 'text-center', render: function(data,type,row) {\n                    return `<span>\n                      <a onclick=\"teacherAssessmentActionEdit('${data.id}')\" class=\"btn btn-link btn-warning details\"><i class=\"fa fa-edit\"></i></a>\n                  </span>`\n                }}\n            ],\n            rowCallback: function( row, data ) {\n                if(!data.firstname && self.state.teachers) {\n                    let teacher = self.state.teachers.find( t => t.id == data.teacher_id);\n                    if(teacher) {\n                        data.firstname = teacher.firstname;\n                        data.lastname = teacher.lastname;\n                        data.teacher_no = teacher.teacher_no;\n                        self.dataTable.current.table.row(row).data(data);\n                    }\n                }\n            }\n        };\n    }\n\n    componentDidMount() {\n        this.props.teacherStore.list({},true).then(teachers => {\n            this.setState({teachers}, ()=>{\n                this.dataTable.current.table.draw();\n            });\n        })\n    }\n\n    componentWillUnmount() {\n        $('tr[title]').tooltip('dispose');\n    }\n\n    edit = (assessment) => {\n        if(String(assessment).startsWith('dummy_')){\n            this.props.history.push(`${this.props.match.url}/new?teacher_assessment=${assessment}`)\n        } else {\n            this.props.history.push(`${this.props.match.url}/${assessment}`);\n        }\n    }\n\n    render() {\n        let match = this.props.match;\n        return <div className=\"container-fluid\">\n            <div className=\"row\">\n                <div className=\"col-md-12\">\n                  <span className=\"pull-right\">\n                    <Link to={`${match.url}/new`} className=\"btn btn-success details\">New Assessment</Link>\n                  </span>\n                </div>\n            </div>\n            <DataTable ref={this.dataTable} title=\"Teacher Assessment\" config={this.dataTableConfig}>\n                <th>Teacher's No</th>\n                <th>TSC NO</th>\n                <th>Firstname</th>\n                <th>Lastname</th>\n                <th>From</th>\n                <th>To</th>\n                <th className=\"disabled-sorting text-center noExport\">Actions</th>\n            </DataTable>\n        </div>\n\n    }\n}\n\n@inject('teacherAssessmentStore')\nexport class TeacherAssessmentNew extends Component {\n    state = { error: {}, data: null };\n\n    componentDidMount() {\n        let teacherAssessmentIdMatch = this.props.location.search.match(/teacher_assessment=([^&]+)/);\n        if(teacherAssessmentIdMatch) {\n            let teacherAssessmentId = teacherAssessmentIdMatch[1];\n            this.props.teacherAssessmentStore.get(teacherAssessmentId, true).then(assessment => {\n                if(assessment){\n                    this.setState({data: assessment, error: assessment.error});\n                }\n            })\n        }\n    }\n\n    submit = (data) => {\n        data.teacher_id = parseInt(this.props.match.params.teacherId) || this.props.match.params.teacherId;\n        return this.props.teacherAssessmentStore.create(data).then( assessment => {\n            this.setState({error: {}, data: assessment})\n            return assessment;\n        }, error => {\n            this.setState({error});\n            return Promise.reject(error);\n        })\n    }\n\n    cancel = () => {\n        let teacherAssessmentIdMatch = this.props.location.search.match(/teacher_assessment=([^&]+)/);\n        if(teacherAssessmentIdMatch) {\n            let teacherAssessmentId = teacherAssessmentIdMatch[1];\n            return this.props.teacherAssessmentStore.cancel(teacherAssessmentId);\n        }\n    }\n\n    close = () => {\n        this.props.history.push(`/school/teachers/assessment/${this.props.match.params.teacherId}`);\n    }\n    render() {\n        return <TeacherAssessmentForm data={this.state.data} error={this.state.error} submit={this.submit} cancel={this.cancel} close={this.close} />\n    }\n}\n\n@inject('teacherAssessmentStore')\nexport class TeacherAssessmentEdit extends Component {\n    state = { error: {}, data: {} };\n\n    componentDidMount() {\n        if(this.props.location.state && this.props.location.state.assessment){\n            this.setState({data: this.props.location.state.assessment})\n        }else if(this.props.match.params.assessmentId){\n            this.props.teacherAssessmentStore.get(this.props.match.params.assessmentId).then(assessment => {\n                this.setState({data: assessment, error: (assessment.error||{})});\n            },error=>this.setState({error}))\n        }\n    }\n\n    submit = (data) => {\n        return this.props.teacherAssessmentStore.update(data).then( assessment => {\n            this.setState({error: {}, data: assessment})\n            return assessment;\n        }, error => {\n            this.setState({error});\n            return Promise.reject(error);\n        })\n    }\n\n    delete = () => {\n        return this.props.teacherAssessmentStore.delete(this.props.match.params.assessmentId);\n    }\n\n    cancel = () => {\n        return this.props.teacherAssessmentStore.cancel(this.props.match.params.assessmentId);\n    }\n\n    close = () => {\n        this.props.history.push(`/school/teachers/assessment/${this.props.match.params.teacherId}`);\n    }\n\n    render() {\n        return <TeacherAssessmentForm edit={true} error={this.state.error} data={this.state.data} submit={this.submit} delete={this.delete} cancel={this.cancel} close={this.close} />\n    }\n}","import React, { Component } from 'react';\nimport { Route } from \"react-router-dom\";\n\nimport AnimatedSwitch from '../components/animated-switch';\n\nimport Teacher, {NewTeacher, EditTeacher} from './Teacher';\nimport Tod, {NewTod, EditTod} from './Tod';\nimport TeacherAttendance from './TeacherAttendance';\nimport TeachersAssessmentList, {TeacherAssessmentList, TeacherAssessmentNew, TeacherAssessmentEdit} from './TeacherAssessment';\n\nexport default class TeacherPages extends Component {\n\trender() {\n\t\tlet match = this.props.match;\n\t\treturn <AnimatedSwitch>\n\t\t\t\t\t\t<Route exact path={`${match.path}`} render={(props) => <Teacher {...props} /> } />\n\t\t\t\t\t\t<Route path={`${match.path}/new`} render={(props) => <NewTeacher {...props} />} />\n\t\t\t\t\t\t<Route path={`${match.path}/attendance`} render={(props) => <TeacherAttendance {...props} />} />\n\t\t\t\t\t\t<Route path={`${match.path}/tod/new`} render={(props) => <NewTod {...props} />} />\n\t\t\t\t\t\t<Route path={`${match.path}/tod/:id`} render={(props) => <EditTod {...props} />} />\n\t\t\t\t\t\t<Route path={`${match.path}/tod`} render={(props) => <Tod {...props} />} />\n\t\t\t\t\t\t<Route path={`${match.path}/assessment/:teacherId/new`} render={(props) => <TeacherAssessmentNew {...props} />} />\n\t\t\t\t\t\t<Route path={`${match.path}/assessment/:teacherId/:assessmentId`} render={(props) => <TeacherAssessmentEdit {...props} />} />\n\t\t\t\t\t\t<Route path={`${match.path}/assessment/:teacherId`} render={(props) => <TeacherAssessmentList {...props} />} />\n\t\t\t\t\t\t<Route path={`${match.path}/assessment`} render={(props) => <TeachersAssessmentList {...props} />} />\n\t\t\t\t\t\t<Route exact path={`${match.path}/:id`} render={(props) => <EditTeacher {...props} />} />\n\t\t\t\t\t\t<Route path=\"\"><h1>404 Not Found</h1></Route>\n\t\t\t\t\t</AnimatedSwitch>\n\t}\n}"],"sourceRoot":""}